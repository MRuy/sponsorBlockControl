var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function s(){return Object.create(null)}function o(t){t.forEach(n)}function i(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function l(t){let e;return a(t,t=>e=t)(),e}function c(t,e,n){t.$$.on_destroy.push(a(e,n))}function u(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function d(t,e,n=e){return t.set(n),e}function f(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function I(){return g(" ")}function U(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function $(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const s in e)null==e[s]?t.removeAttribute(s):"style"===s?t.style.cssText=e[s]:"__value"===s?t.value=t[s]=e[s]:n[s]&&n[s].set?t[s]=e[s]:$(t,s,e[s])}function R(t,e,n){const s=new Set;for(let e=0;e<t.length;e+=1)t[e].checked&&s.add(t[e].__value);return n||s.delete(e),Array.from(s)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function S(t,e){t.value=null==e?"":e}function D(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}}function w(t,e,n){t.classList[n?"add":"remove"](e)}let O;function C(t){O=t}function k(t){(function(){if(!O)throw new Error("Function called outside component initialization");return O})().$$.on_mount.push(t)}const x=[],N=[],_=[],E=[],A=Promise.resolve();let L=!1;function W(t){_.push(t)}function G(t){E.push(t)}let P=!1;const K=new Set;function T(){if(!P){P=!0;do{for(let t=0;t<x.length;t+=1){const e=x[t];C(e),V(e.$$)}for(x.length=0;N.length;)N.pop()();for(let t=0;t<_.length;t+=1){const e=_[t];K.has(e)||(K.add(e),e())}_.length=0}while(x.length);for(;E.length;)E.pop()();L=!1,P=!1,K.clear()}}function V(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(W)}}const q=new Set;let B;function H(t,e){t&&t.i&&(q.delete(t),t.i(e))}function z(t,e,n,s){if(t&&t.o){if(q.has(t))return;q.add(t),B.c.push(()=>{q.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}function M(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function j(t){t&&t.c()}function Z(t,e,s){const{fragment:r,on_mount:a,on_destroy:l,after_update:c}=t.$$;r&&r.m(e,s),W(()=>{const e=a.map(n).filter(i);l?l.push(...e):o(e),t.$$.on_mount=[]}),c.forEach(W)}function F(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Y(t,e){-1===t.$$.dirty[0]&&(x.push(t),L||(L=!0,A.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(e,n,i,r,a,l,c=[-1]){const u=O;C(e);const d=n.props||{},f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:s(),dirty:c,skip_bound:!1};let p=!1;if(f.ctx=i?i(e,d,(t,n,...s)=>{const o=s.length?s[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),p&&Y(e,t)),n}):[],f.update(),p=!0,o(f.before_update),f.fragment=!!r&&r(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(m)}else f.fragment&&f.fragment.c();n.intro&&H(e.$$.fragment),Z(e,n.target,n.anchor),T()}C(u)}class Q{$destroy(){F(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const X=[];function tt(e,n){const s=function(e,n=t){let s;const o=[];function i(t){if(r(e,t)&&(e=t,s)){const t=!X.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),X.push(n,e)}if(t){for(let t=0;t<X.length;t+=2)X[t][0](X[t+1]);X.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(r,a=t){const l=[r,a];return o.push(l),1===o.length&&(s=n(i)||t),r(e),()=>{const t=o.indexOf(l);-1!==t&&o.splice(t,1),0===o.length&&(s(),s=null)}}}}(n),{subscribe:o,set:i}=s,a="undefined"!=typeof localStorage?localStorage.getItem(e):null;return a&&i(JSON.parse(a)),{set(t){"undefined"!=typeof localStorage&&localStorage.setItem(e,JSON.stringify(t)),i(t)},update(t){const e=t(l(s));this.set(e)},subscribe:o}}const et=tt("config",{privateUUID:"",sponsorBlockApi:"https://sponsor.ajay.app",showPrivateUUID:!1}),nt=tt("cache",{});function st(e){let n;return{c(){n=v("header"),n.innerHTML='<img src="favicon.png" width="64" height="64" alt="Logo" class="svelte-qh2uac"> SponsorBlockControl\n  <sup class="svelte-qh2uac"><a href="https://github.com/MRuy/sponsorBlockControl#readme" class="svelte-qh2uac">(v1.0.4)</a></sup>',$(n,"class","svelte-qh2uac")},m(t,e){p(t,n,e)},p:t,i:t,o:t,d(t){t&&m(n)}}}class ot extends Q{constructor(t){super(),J(this,t,null,st,r,{})}}function it(t,e,n){const s=t.slice();return s[5]=e[n],s[7]=n,s}function rt(t){let e,n,s,o,i,r,a=t[5].title+"";function l(...e){return t[4](t[5],...e)}return{c(){e=v("button"),n=g(a),s=I(),$(e,"type","button"),e.disabled=o=!0===t[5].uuidRequired&&""===t[3].privateUUID||!1,$(e,"class","svelte-mrs8b4"),w(e,"active",t[2]===t[5].component)},m(t,o){p(t,e,o),f(e,n),f(e,s),i||(r=U(e,"click",l),i=!0)},p(s,i){t=s,1&i&&a!==(a=t[5].title+"")&&y(n,a),9&i&&o!==(o=!0===t[5].uuidRequired&&""===t[3].privateUUID||!1)&&(e.disabled=o),5&i&&w(e,"active",t[2]===t[5].component)},d(t){t&&m(e),i=!1,r()}}}function at(e){let n,s=e[0],o=[];for(let t=0;t<s.length;t+=1)o[t]=rt(it(e,s,t));return{c(){n=v("nav");for(let t=0;t<o.length;t+=1)o[t].c();$(n,"class","svelte-mrs8b4")},m(t,e){p(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(15&e){let i;for(s=t[0],i=0;i<s.length;i+=1){const r=it(t,s,i);o[i]?o[i].p(r,e):(o[i]=rt(r),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}},i:t,o:t,d(t){t&&m(n),h(o,t)}}}function lt(t,e,n){let s;c(t,et,t=>n(3,s=t));let{items:o=[]}=e,{clickHandler:i}=e,{selected:r}=e;return t.$$set=t=>{"items"in t&&n(0,o=t.items),"clickHandler"in t&&n(1,i=t.clickHandler),"selected"in t&&n(2,r=t.selected)},[o,i,r,s,(t,e)=>{i(t.name)}]}class ct extends Q{constructor(t){super(),J(this,t,lt,at,r,{items:0,clickHandler:1,selected:2})}}function ut(t){let e;return{c(){e=g("Ready!")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function dt(t){let e,n;return{c(){e=v("div"),n=g("\n    Sending request..."),$(e,"class","lds-dual-ring svelte-kuvmdh")},m(t,s){p(t,e,s),p(t,n,s)},d(t){t&&m(e),t&&m(n)}}}function ft(t){let e;return{c(){e=g("Done. Success!")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function pt(t){let e;return{c(){e=v("span"),e.textContent="Bad Request (Your inputs are wrong/impossible)",$(e,"class","error svelte-kuvmdh")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function mt(t){let e;return{c(){e=v("span"),e.textContent="Error. You are not allowed to do that!",$(e,"class","error svelte-kuvmdh")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function ht(t){let e;return{c(){e=v("span"),e.textContent="Error: Duplicate",$(e,"class","error svelte-kuvmdh")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function vt(t){let e;return{c(){e=v("span"),e.textContent="Error: Not found!",$(e,"class","error svelte-kuvmdh")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function gt(t){let e;return{c(){e=g("(Private UUID required)")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function It(e){let n,s,o,i,r,a,l,c,u,d=e[0]==Ut.IDLE&&ut(),h=e[0]==Ut.WORKING&&dt(),U=e[0]==Ut.SUCCESS&&ft(),b=e[0]==Ut.ERROR_INVALID&&pt(),R=e[0]==Ut.ERROR_UNAUTHORIZED&&mt(),y=e[0]==Ut.DUPLICATE&&ht(),S=e[0]==Ut.NOT_FOUND&&vt(),D=e[0]==Ut.PRIVATEUUID_MISSING&&gt();return{c(){n=v("div"),s=g("Status: "),d&&d.c(),o=I(),h&&h.c(),i=I(),U&&U.c(),r=I(),b&&b.c(),a=I(),R&&R.c(),l=I(),y&&y.c(),c=I(),S&&S.c(),u=I(),D&&D.c(),$(n,"class","status")},m(t,e){p(t,n,e),f(n,s),d&&d.m(n,null),f(n,o),h&&h.m(n,null),f(n,i),U&&U.m(n,null),f(n,r),b&&b.m(n,null),f(n,a),R&&R.m(n,null),f(n,l),y&&y.m(n,null),f(n,c),S&&S.m(n,null),f(n,u),D&&D.m(n,null)},p(t,[e]){t[0]==Ut.IDLE?d||(d=ut(),d.c(),d.m(n,o)):d&&(d.d(1),d=null),t[0]==Ut.WORKING?h||(h=dt(),h.c(),h.m(n,i)):h&&(h.d(1),h=null),t[0]==Ut.SUCCESS?U||(U=ft(),U.c(),U.m(n,r)):U&&(U.d(1),U=null),t[0]==Ut.ERROR_INVALID?b||(b=pt(),b.c(),b.m(n,a)):b&&(b.d(1),b=null),t[0]==Ut.ERROR_UNAUTHORIZED?R||(R=mt(),R.c(),R.m(n,l)):R&&(R.d(1),R=null),t[0]==Ut.DUPLICATE?y||(y=ht(),y.c(),y.m(n,c)):y&&(y.d(1),y=null),t[0]==Ut.NOT_FOUND?S||(S=vt(),S.c(),S.m(n,u)):S&&(S.d(1),S=null),t[0]==Ut.PRIVATEUUID_MISSING?D||(D=gt(),D.c(),D.m(n,null)):D&&(D.d(1),D=null)},i:t,o:t,d(t){t&&m(n),d&&d.d(),h&&h.d(),U&&U.d(),b&&b.d(),R&&R.d(),y&&y.d(),S&&S.d(),D&&D.d()}}}const Ut={IDLE:Symbol("idle"),WORKING:Symbol("working"),SUCCESS:Symbol("success"),NOT_FOUND:Symbol("error-404"),ERROR_INVALID:Symbol("error-invalid"),ERROR_UNAUTHORIZED:Symbol("error-unauthorized"),DUPLICATE:Symbol("duplicate"),PRIVATEUUID_MISSING:Symbol("private-uuid-missing")};function $t(t,e,n){let{status:s}=e;return t.$$set=t=>{"status"in t&&n(0,s=t.status)},[s]}class bt extends Q{constructor(t){super(),J(this,t,$t,It,r,{status:0})}}const Rt=(t,e=!1)=>{const n=Math.floor(t/60/24/365),s=Math.floor(t/60/24)%365,o=Math.floor(t/60)%24;let i="";return i+=""+(n>0?n+(e?" years ":"y "):""),i+=""+(s>0?s+(e?" days ":"d "):""),i+=""+(o>0?o+(e?" hours ":"h "):""),0==n&&(i+=`${(t%60).toFixed(1)}${e?" minutes ":"m "}`),i.trim()},yt=t=>/^[a-f0-9]{64}$/.test(t),St=t=>/^([a-f0-9]{64,65}|[a-f0-9]{8}\-[a-f0-9]{4}\-[a-f0-9]{4}\-[a-f0-9]{4}\-[a-f0-9]{12})$/.test(t);function Dt(t){let e,n,s,o,i,r,a,l,c,u,d,h,U,b,R,S,D,O,C,k,x,N,_=t[2].toLocaleString()+"",E=Rt(t[1],!0)+"",A=t[4].toLocaleString()+"",L=!0===t[3]&&wt();return{c(){e=g("Hello "),L&&L.c(),n=I(),s=g(t[6]),o=v("br"),i=g("\n    You have saved people from "),r=g(_),a=g(" segments."),l=v("br"),c=g("\n    You have saved people "),u=g(E),d=g(" of their lives."),h=v("br"),U=g("\n    You submitted "),b=g(A),R=g(" segments!"),S=v("br"),D=g("\n    There is currently "),O=v("b"),C=g(t[5]),k=g(" warnings for your UserID ("),x=g(t[7]),N=g(")"),$(O,"class","svelte-xaelew"),w(O,"hasWarnings",t[5]>0)},m(t,m){p(t,e,m),L&&L.m(t,m),p(t,n,m),p(t,s,m),p(t,o,m),p(t,i,m),p(t,r,m),p(t,a,m),p(t,l,m),p(t,c,m),p(t,u,m),p(t,d,m),p(t,h,m),p(t,U,m),p(t,b,m),p(t,R,m),p(t,S,m),p(t,D,m),p(t,O,m),f(O,C),p(t,k,m),p(t,x,m),p(t,N,m)},p(t,e){!0===t[3]?L||(L=wt(),L.c(),L.m(n.parentNode,n)):L&&(L.d(1),L=null),64&e&&y(s,t[6]),4&e&&_!==(_=t[2].toLocaleString()+"")&&y(r,_),2&e&&E!==(E=Rt(t[1],!0)+"")&&y(u,E),16&e&&A!==(A=t[4].toLocaleString()+"")&&y(b,A),32&e&&y(C,t[5]),32&e&&w(O,"hasWarnings",t[5]>0),128&e&&y(x,t[7])},d(t){t&&m(e),L&&L.d(t),t&&m(n),t&&m(s),t&&m(o),t&&m(i),t&&m(r),t&&m(a),t&&m(l),t&&m(c),t&&m(u),t&&m(d),t&&m(h),t&&m(U),t&&m(b),t&&m(R),t&&m(S),t&&m(D),t&&m(O),t&&m(k),t&&m(x),t&&m(N)}}}function wt(t){let e;return{c(){e=g("[VIP]")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function Ot(t){let e;return{c(){e=g("Loading...")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function Ct(t){let e;return{c(){e=g("(Private UUID required)")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function kt(e){let n,s,o,i=e[0]==Ut.SUCCESS&&Dt(e),r=e[0]==Ut.WORKING&&Ot(),a=e[0]==Ut.PRIVATEUUID_MISSING&&Ct();return{c(){n=v("span"),i&&i.c(),s=I(),r&&r.c(),o=I(),a&&a.c()},m(t,e){p(t,n,e),i&&i.m(n,null),f(n,s),r&&r.m(n,null),f(n,o),a&&a.m(n,null)},p(t,[e]){t[0]==Ut.SUCCESS?i?i.p(t,e):(i=Dt(t),i.c(),i.m(n,s)):i&&(i.d(1),i=null),t[0]==Ut.WORKING?r||(r=Ot(),r.c(),r.m(n,o)):r&&(r.d(1),r=null),t[0]==Ut.PRIVATEUUID_MISSING?a||(a=Ct(),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i:t,o:t,d(t){t&&m(n),i&&i.d(),r&&r.d(),a&&a.d()}}}function xt(t,e,n){let s,o;c(t,nt,t=>n(9,s=t)),c(t,et,t=>n(10,o=t));let{privateUUID:i=""}=e,r=Ut.IDLE,a=0,l=0,u=!1,f=0,p=0,m=0,h="";return k((async function(){if(""===i)return void n(0,r=Ut.PRIVATEUUID_MISSING);n(0,r=Ut.WORKING);let t={};if("userInfo_time"in s&&s.userInfo_time+6e5>Date.now())t=s.userInfo;else{const e=await fetch(`${o.sponsorBlockApi}/api/getUserInfo?userID=${i}`).then(t=>t.json());d(nt,s.userInfo_time=Date.now(),s),t={minutesSaved:e.minutesSaved,viewCount:e.viewCount,vip:e.vip,segmentCount:e.segmentCount,warnings:e.warnings,userName:e.userName,userID:e.userID},d(nt,s.userInfo=t,s)}n(2,l=t.viewCount),n(1,a=t.minutesSaved),n(3,u=t.vip),n(4,f=t.segmentCount),n(5,p=t.warnings),n(6,m=t.userName),n(7,h=t.userID),n(0,r=Ut.SUCCESS)})),t.$$set=t=>{"privateUUID"in t&&n(8,i=t.privateUUID)},[r,a,l,u,f,p,m,h,i]}class Nt extends Q{constructor(t){super(),J(this,t,xt,kt,r,{privateUUID:8})}}function _t(t){let e;return{c(){e=g("(Set your private UUID!)")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function Et(t){let e,n,s,i,r,a,l,c,u,d,h,b,R,D,w,O,C,k,x,N,_,E,A,L,W,G,P,K,T,V,q,B,M,Y,J,Q,X,tt,et,nt,st=t[1]?"Saved!":"Save",ot=t[3]?"Saved!":"Save",it=""===t[4].privateUUID&&_t();return X=new Nt({props:{privateUUID:t[4].privateUUID}}),{c(){var t,o,f;e=v("main"),n=v("div"),s=v("details"),i=v("summary"),r=g("Settings "),it&&it.c(),a=I(),l=v("fieldset"),c=v("legend"),c.textContent="Private userID:",u=I(),d=v("div"),d.innerHTML="<p>Your private userID will only be stored in your Browser and only\n            send to the SponsorBlock API.</p>",h=I(),b=v("div"),R=v("label"),R.textContent="Your private userID:",D=v("br"),w=I(),O=v("input"),k=I(),x=v("div"),N=v("button"),_=g(st),E=I(),A=v("fieldset"),L=v("legend"),L.textContent="API Server:",W=I(),G=v("div"),P=v("label"),P.textContent="SponsorBlock Server:",K=v("br"),T=I(),V=v("input"),q=I(),B=v("div"),M=v("button"),Y=g(ot),J=I(),Q=v("p"),j(X.$$.fragment),$(i,"class","svelte-12iolxf"),$(d,"class","info"),$(R,"for","privateUUID"),$(O,"id","privateUUID"),$(O,"type","text"),$(O,"size","36"),$(O,"pattern",C="^[A-Za-z0-9]36$"),$(O,"spellcheck","false"),$(O,"placeholder","Private UUID"),$(O,"class","svelte-12iolxf"),$(x,"class","actions"),$(l,"class","svelte-12iolxf"),$(P,"for","serveraddr"),$(V,"type","url"),$(V,"id","serveraddr"),$(V,"class","serveraddr svelte-12iolxf"),$(V,"placeholder","https://..."),$(B,"class","actions"),$(A,"class","svelte-12iolxf"),$(s,"class","svelte-12iolxf"),t="width",o="100%",Q.style.setProperty(t,o,f?"important":""),$(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(s,i),f(i,r),it&&it.m(i,null),f(s,a),f(s,l),f(l,c),f(l,u),f(l,d),f(l,h),f(l,b),f(b,R),f(b,D),f(b,w),f(b,O),S(O,t[0]),f(b,k),f(b,x),f(x,N),f(N,_),f(s,E),f(s,A),f(A,L),f(A,W),f(A,G),f(G,P),f(G,K),f(G,T),f(G,V),S(V,t[2]),f(G,q),f(G,B),f(B,M),f(M,Y),f(n,J),f(n,Q),Z(X,Q,null),tt=!0,et||(nt=[U(O,"input",t[7]),U(N,"click",t[5]),U(V,"input",t[8]),U(M,"click",t[6])],et=!0)},p(t,[e]){""===t[4].privateUUID?it||(it=_t(),it.c(),it.m(i,null)):it&&(it.d(1),it=null),1&e&&O.value!==t[0]&&S(O,t[0]),(!tt||2&e)&&st!==(st=t[1]?"Saved!":"Save")&&y(_,st),4&e&&S(V,t[2]),(!tt||8&e)&&ot!==(ot=t[3]?"Saved!":"Save")&&y(Y,ot);const n={};16&e&&(n.privateUUID=t[4].privateUUID),X.$set(n)},i(t){tt||(H(X.$$.fragment,t),tt=!0)},o(t){z(X.$$.fragment,t),tt=!1},d(t){t&&m(e),it&&it.d(),F(X),et=!1,o(nt)}}}function At(t,e,n){let s,o;c(t,et,t=>n(4,s=t)),c(t,nt,t=>n(9,o=t));let i=s.privateUUID,r=!1;let a=s.sponsorBlockApi,l=!1;return[i,r,a,l,s,function(t){s.privateUUID!=i&&d(nt,o={}),d(et,s.privateUUID=i,s),n(1,r=!0),setTimeout(t=>{n(1,r=!1)},3e3)},function(t){d(et,s.sponsorBlockApi=a,s),n(3,l=!0),setTimeout(t=>{n(3,l=!1)},3e3)},function(){i=this.value,n(0,i)},function(){a=this.value,n(2,a)}]}class Lt extends Q{constructor(t){super(),J(this,t,At,Et,r,{})}}const Wt=["sponsor","selfpromo","interaction","intro","outro","preview","music_offtopic","poi_highlight","filler"],Gt=["Sponsor","Unpaid/Self Promotion","Interaction Reminder (Subscribe)","Intermission/Intro Animation","Endcards/Credits","Preview/Recap","Music: Non-Music Section","Highlight","Filler Tangent"],Pt=["skip","mute","full"],Kt=["Skip","Mute","Full Video"];function Tt(t,e,n){const s=t.slice();return s[13]=e[n],s[15]=n,s}function Vt(t){let e,n,s,o,i,r,a,l,c,u,d,h=Gt[t[15]]+"";return{c(){e=v("div"),n=v("input"),i=I(),r=v("label"),a=g(h),c=I(),$(n,"id",s="category_"+t[13]),$(n,"type","checkbox"),n.__value=o=t[13],n.value=n.__value,t[9][0].push(n),$(r,"for",l="category_"+t[13]),$(e,"class","category-option svelte-1szpcmt")},m(s,o){p(s,e,o),f(e,n),n.checked=~t[2].indexOf(n.__value),f(e,i),f(e,r),f(r,a),f(e,c),u||(d=U(n,"change",t[8]),u=!0)},p(t,e){4&e&&(n.checked=~t[2].indexOf(n.__value))},d(s){s&&m(e),t[9][0].splice(t[9][0].indexOf(n),1),u=!1,d()}}}function qt(t){let e,n,s,i,r,a,l,c,u,d,b,R,y,D,O,C,k,x,N,_,E,A,L,W,G,P,K,T,V,q,B,M,Y,J,Q,X,tt,et=Wt,nt=[];for(let e=0;e<et.length;e+=1)nt[e]=Vt(Tt(t,et,e));return J=new bt({props:{status:t[4]}}),{c(){e=v("main"),n=v("div"),s=v("p"),s.textContent="Only users with VIP status can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Shadow ban user:",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="User UUID:",b=v("br"),R=I(),y=v("input"),D=I(),O=v("div"),C=v("input"),k=I(),x=v("label"),x.textContent="Hide/Restore old submissions",N=I(),_=v("div"),E=v("div"),E.textContent="Categories to hide:",A=I();for(let t=0;t<nt.length;t+=1)nt[t].c();W=I(),G=v("div"),P=v("button"),K=g("Unban"),V=I(),q=v("button"),B=g("Ban"),Y=I(),j(J.$$.fragment),$(s,"class","viprequired"),$(d,"for","uuid"),$(y,"id","uuid"),$(y,"type","text"),$(y,"size","64"),$(y,"placeholder","Users UUID..."),$(C,"id","hideoldsubmissions"),$(C,"type","checkbox"),$(x,"for","hideoldsubmissions"),$(_,"class","categories-to-hide svelte-1szpcmt"),_.hidden=L=!t[1],$(P,"type","button"),P.disabled=T=!t[3],$(q,"type","button"),q.disabled=M=!t[3],$(G,"class","actions"),$(c,"class","form svelte-1szpcmt"),w(c,"working",t[4]===Ut.WORKING),$(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,b),f(u,R),f(u,y),S(y,t[0]),f(c,D),f(c,O),f(O,C),C.checked=t[1],f(O,k),f(O,x),f(c,N),f(c,_),f(_,E),f(_,A);for(let t=0;t<nt.length;t+=1)nt[t].m(_,null);f(c,W),f(c,G),f(G,P),f(P,K),f(G,V),f(G,q),f(q,B),f(n,Y),Z(J,n,null),Q=!0,X||(tt=[U(y,"input",t[6]),U(C,"change",t[7]),U(P,"click",t[10]),U(q,"click",t[11])],X=!0)},p(t,[e]){if(1&e&&y.value!==t[0]&&S(y,t[0]),2&e&&(C.checked=t[1]),4&e){let n;for(et=Wt,n=0;n<et.length;n+=1){const s=Tt(t,et,n);nt[n]?nt[n].p(s,e):(nt[n]=Vt(s),nt[n].c(),nt[n].m(_,null))}for(;n<nt.length;n+=1)nt[n].d(1);nt.length=et.length}(!Q||2&e&&L!==(L=!t[1]))&&(_.hidden=L),(!Q||8&e&&T!==(T=!t[3]))&&(P.disabled=T),(!Q||8&e&&M!==(M=!t[3]))&&(q.disabled=M),16&e&&w(c,"working",t[4]===Ut.WORKING);const n={};16&e&&(n.status=t[4]),J.$set(n)},i(t){Q||(H(J.$$.fragment,t),Q=!0)},o(t){z(J.$$.fragment,t),Q=!1},d(t){t&&m(e),h(nt,t),F(J),X=!1,o(tt)}}}function Bt(t,e,n){let s;c(t,et,t=>n(12,s=t));let o="",i=!0,r=[...Wt],a=!1,l=Ut.IDLE;async function u(t="ban"){n(4,l=Ut.WORKING);const e=new URLSearchParams;e.set("adminUserID",s.privateUUID),e.set("userID",o),e.set("enabled",("ban"===t).toString()),e.set("unHideOldSubmissions",i.toString()),e.set("categories",JSON.stringify(r));const a=await fetch(`${s.sponsorBlockApi}/api/shadowBanUser?${e}`,{method:"post"}).then((function(t){return t.status}));200===a&&n(4,l=Ut.SUCCESS),400===a&&n(4,l=Ut.ERROR_INVALID),403===a&&n(4,l=Ut.ERROR_UNAUTHORIZED)}const d=[[]];return t.$$.update=()=>{1&t.$$.dirty&&n(3,a=yt(o))},[o,i,r,a,l,u,function(){o=this.value,n(0,o)},function(){i=this.checked,n(1,i)},function(){r=R(d[0],this.__value,this.checked),n(2,r)},d,t=>{u("unban")},t=>{u("ban")}]}class Ht extends Q{constructor(t){super(),J(this,t,Bt,qt,r,{})}}function zt(t){let e,n,s,o,i,r,a,l,c,u,d,h,b,R,S,D,w,O,C,k,x,N,_,E,A,L,W,G,P,K,T,V,q,B=t[1].apiUsers.toLocaleString()+"",H=t[1].viewCount.toLocaleString()+"",z=t[1].totalSubmissions.toLocaleString()+"",M=Rt(t[1].minutesSaved,!0)+"";return{c(){e=v("table"),n=v("tbody"),s=v("tr"),o=v("th"),o.textContent="API Users:",i=I(),r=v("td"),a=g(B),l=I(),c=v("tr"),u=v("th"),u.textContent="Skip Count:",d=I(),h=v("td"),b=g(H),R=g(" skips"),S=I(),D=v("tr"),w=v("th"),w.textContent="Submissions:",O=I(),C=v("td"),k=g(z),x=I(),N=v("tr"),_=v("th"),_.textContent="Time Saved:",E=I(),A=v("td"),L=g(M),W=I(),G=v("div"),P=v("button"),K=g("Refresh"),$(o,"class","svelte-aon4oy"),$(r,"class","svelte-aon4oy"),$(u,"class","svelte-aon4oy"),$(h,"class","svelte-aon4oy"),$(w,"class","svelte-aon4oy"),$(C,"class","svelte-aon4oy"),$(_,"class","svelte-aon4oy"),$(A,"class","svelte-aon4oy"),$(e,"class","stats-table svelte-aon4oy"),P.disabled=T=t[0]===Ut.WORKING},m(m,v){p(m,e,v),f(e,n),f(n,s),f(s,o),f(s,i),f(s,r),f(r,a),f(n,l),f(n,c),f(c,u),f(c,d),f(c,h),f(h,b),f(h,R),f(n,S),f(n,D),f(D,w),f(D,O),f(D,C),f(C,k),f(n,x),f(n,N),f(N,_),f(N,E),f(N,A),f(A,L),p(m,W,v),p(m,G,v),f(G,P),f(P,K),V||(q=U(P,"click",t[3]),V=!0)},p(t,e){2&e&&B!==(B=t[1].apiUsers.toLocaleString()+"")&&y(a,B),2&e&&H!==(H=t[1].viewCount.toLocaleString()+"")&&y(b,H),2&e&&z!==(z=t[1].totalSubmissions.toLocaleString()+"")&&y(k,z),2&e&&M!==(M=Rt(t[1].minutesSaved,!0)+"")&&y(L,M),1&e&&T!==(T=t[0]===Ut.WORKING)&&(P.disabled=T)},d(t){t&&m(e),t&&m(W),t&&m(G),V=!1,q()}}}function Mt(t){let e,n,s,o,i,r=t[1]&&zt(t);return o=new bt({props:{status:t[0]}}),{c(){e=v("main"),n=v("div"),r&&r.c(),s=I(),j(o.$$.fragment),$(n,"class","container")},m(t,a){p(t,e,a),f(e,n),r&&r.m(n,null),f(n,s),Z(o,n,null),i=!0},p(t,[e]){t[1]?r?r.p(t,e):(r=zt(t),r.c(),r.m(n,s)):r&&(r.d(1),r=null);const i={};1&e&&(i.status=t[0]),o.$set(i)},i(t){i||(H(o.$$.fragment,t),i=!0)},o(t){z(o.$$.fragment,t),i=!1},d(t){t&&m(e),r&&r.d(),F(o)}}}function jt(t,e,n){let s,o;c(t,et,t=>n(4,s=t)),c(t,nt,t=>n(5,o=t));let i=Ut.IDLE,r={apiUsers:0,userCount:0,viewCount:0,totalSubmissions:0,minutesSaved:0};async function a(){n(1,r=await async function(){n(0,i=Ut.WORKING);const t=await fetch(s.sponsorBlockApi+"/api/getTotalStats").then(t=>t.json());return n(0,i=Ut.SUCCESS),t}()),d(nt,o.totalstats=r,o),d(nt,o.totalstats_time=Date.now(),o)}k(async t=>{"totalstats"in o&&o.totalstats_time+6e5>Date.now()?n(1,r=o.totalstats):await a()});return[i,r,a,async t=>{await a()}]}class Zt extends Q{constructor(t){super(),J(this,t,jt,Mt,r,{})}}function Ft(t){let e,n,s,i,r,a,l,c,u,d,h,b,R,y,D,w,O,C,k,x,N,_,E,A,L,W,G,P,K,T;return G=new bt({props:{status:t[0]}}),{c(){e=v("main"),n=v("div"),s=v("fieldset"),i=v("legend"),i.textContent="Vote on segment",r=I(),a=v("div"),l=v("label"),l.textContent="Segment UUID:",c=v("br"),u=I(),d=v("input"),R=I(),y=v("div"),D=v("button"),w=g("Undo Vote"),C=I(),k=v("button"),x=g("Downvote"),_=I(),E=v("button"),A=g("Upvote"),W=I(),j(G.$$.fragment),$(l,"for","uuid"),$(d,"id","uuid"),$(d,"type","text"),$(d,"size","64"),$(d,"pattern",h="[a-f0-9]{64}"),$(d,"placeholder","Segment UUID ..."),d.disabled=b=t[0]===Ut.WORKING,D.disabled=O=t[0]===Ut.WORKING||!t[2]||t[0]===Ut.WORKING,k.disabled=N=t[0]===Ut.WORKING||!t[2]||t[0]===Ut.WORKING,E.disabled=L=t[0]===Ut.WORKING||!t[2]||t[0]===Ut.WORKING,$(y,"class","actions"),$(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(s,i),f(s,r),f(s,a),f(a,l),f(a,c),f(a,u),f(a,d),S(d,t[1]),f(s,R),f(s,y),f(y,D),f(D,w),f(y,C),f(y,k),f(k,x),f(y,_),f(y,E),f(E,A),f(n,W),Z(G,n,null),P=!0,K||(T=[U(d,"input",t[4]),U(D,"click",t[5]),U(k,"click",t[6]),U(E,"click",t[7])],K=!0)},p(t,[e]){(!P||1&e&&b!==(b=t[0]===Ut.WORKING))&&(d.disabled=b),2&e&&d.value!==t[1]&&S(d,t[1]),(!P||5&e&&O!==(O=t[0]===Ut.WORKING||!t[2]||t[0]===Ut.WORKING))&&(D.disabled=O),(!P||5&e&&N!==(N=t[0]===Ut.WORKING||!t[2]||t[0]===Ut.WORKING))&&(k.disabled=N),(!P||5&e&&L!==(L=t[0]===Ut.WORKING||!t[2]||t[0]===Ut.WORKING))&&(E.disabled=L);const n={};1&e&&(n.status=t[0]),G.$set(n)},i(t){P||(H(G.$$.fragment,t),P=!0)},o(t){z(G.$$.fragment,t),P=!1},d(t){t&&m(e),F(G),K=!1,o(T)}}}function Yt(t,e,n){let s;c(t,et,t=>n(8,s=t));let o=Ut.IDLE,i="",r=!1;async function a(t,e=0){n(0,o=Ut.WORKING);const r=new URLSearchParams;r.set("UUID",t),r.set("userID",s.privateUUID),r.set("type",e);const a=await fetch(`${s.sponsorBlockApi}/api/voteOnSponsorTime?${r}`,{method:"POST"}).then(t=>t.status);200===a&&(n(0,o=Ut.SUCCESS),n(1,i="")),400===a&&n(0,o=Ut.INVALID),405===a&&n(0,o=Ut.DUPLICATE)}return t.$$.update=()=>{2&t.$$.dirty&&n(2,r=St(i))},[o,i,r,a,function(){i=this.value,n(1,i)},t=>{a(i,20)},t=>{a(i,0)},t=>{a(i,1)}]}class Jt extends Q{constructor(t){super(),J(this,t,Yt,Ft,r,{})}}function Qt(t,e,n){const s=t.slice();return s[9]=e[n],s[11]=n,s}function Xt(e){let n,s,o,i=Gt[e[11]]+"";return{c(){n=v("option"),s=g(i),n.__value=o=e[9],n.value=n.__value},m(t,e){p(t,n,e),f(n,s)},p:t,d(t){t&&m(n)}}}function te(t){let e,n,s,i,r,a,l,c,u,d,b,R,y,w,O,C,k,x,N,_,E,A,L,G,P,K,T,V,q,B=Wt,M=[];for(let e=0;e<B.length;e+=1)M[e]=Xt(Qt(t,B,e));return K=new bt({props:{status:t[0]}}),{c(){e=v("main"),n=v("div"),s=v("fieldset"),i=v("legend"),i.textContent="Change segment category",r=I(),a=v("div"),l=v("label"),l.textContent="Segment UUID:",c=v("br"),u=I(),d=v("input"),y=I(),w=v("div"),O=v("label"),O.textContent="Category:",C=v("br"),k=I(),x=v("select"),N=v("option"),N.textContent="--- Select category ---";for(let t=0;t<M.length;t+=1)M[t].c();_=I(),E=v("div"),A=v("button"),L=g("Change\n          category"),P=I(),j(K.$$.fragment),$(l,"for","uuid"),$(d,"id","uuid"),$(d,"type","text"),$(d,"size","64"),$(d,"pattern",b="[a-f0-9]{64}"),$(d,"placeholder","Segment UUID ..."),d.disabled=R=t[0]===Ut.WORKING,$(O,"for","category"),N.__value="",N.value=N.__value,$(x,"id","category"),$(x,"class","svelte-1bh877i"),void 0===t[3]&&W(()=>t[6].call(x)),A.disabled=G=t[0]===Ut.WORKING||!t[2]||t[0]===Ut.WORKING,$(E,"class","actions"),$(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(s,i),f(s,r),f(s,a),f(a,l),f(a,c),f(a,u),f(a,d),S(d,t[1]),f(s,y),f(s,w),f(w,O),f(w,C),f(w,k),f(w,x),f(x,N);for(let t=0;t<M.length;t+=1)M[t].m(x,null);D(x,t[3]),f(s,_),f(s,E),f(E,A),f(A,L),f(n,P),Z(K,n,null),T=!0,V||(q=[U(d,"input",t[5]),U(x,"change",t[6]),U(A,"click",t[7])],V=!0)},p(t,[e]){if((!T||1&e&&R!==(R=t[0]===Ut.WORKING))&&(d.disabled=R),2&e&&d.value!==t[1]&&S(d,t[1]),0&e){let n;for(B=Wt,n=0;n<B.length;n+=1){const s=Qt(t,B,n);M[n]?M[n].p(s,e):(M[n]=Xt(s),M[n].c(),M[n].m(x,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=B.length}8&e&&D(x,t[3]),(!T||5&e&&G!==(G=t[0]===Ut.WORKING||!t[2]||t[0]===Ut.WORKING))&&(A.disabled=G);const n={};1&e&&(n.status=t[0]),K.$set(n)},i(t){T||(H(K.$$.fragment,t),T=!0)},o(t){z(K.$$.fragment,t),T=!1},d(t){t&&m(e),h(M,t),F(K),V=!1,o(q)}}}function ee(t,e,n){let s;c(t,et,t=>n(8,s=t));let o=Ut.IDLE,i="",r=!1,a="";async function l(){n(0,o=Ut.WORKING);const t=new URLSearchParams;t.set("UUID",i),t.set("userID",s.privateUUID),t.set("category",a);const e=await fetch(`${s.sponsorBlockApi}/api/voteOnSponsorTime?${t}`,{method:"POST"}).then(t=>t.status);200===e&&(n(0,o=Ut.SUCCESS),n(1,i=""),n(3,a="")),400===e&&n(0,o=Ut.INVALID),405===e&&n(0,o=Ut.DUPLICATE)}return t.$$.update=()=>{2&t.$$.dirty&&n(2,r=St(i))},[o,i,r,a,l,function(){i=this.value,n(1,i)},function(){a=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(3,a)},t=>{l()}]}class ne extends Q{constructor(t){super(),J(this,t,ee,te,r,{})}}function se(t){let e,n,s,i,r,a,l,c,u,d,h,b,R,y,D,O,C,k,x,N,_,E,A,L,W,G,P;return L=new bt({props:{status:t[4]}}),{c(){e=v("main"),n=v("div"),s=v("div"),i=v("fieldset"),r=v("legend"),r.textContent="Your Username:",a=I(),l=v("input"),c=I(),u=v("button"),d=g("Change"),b=I(),R=v("fieldset"),y=v("legend"),y.innerHTML='Change Username: <span class="viprequired">(Admin Only)</span>',D=I(),O=v("input"),C=I(),k=v("input"),x=I(),N=v("button"),_=g("Update"),A=I(),j(L.$$.fragment),$(l,"type","text"),$(l,"placeholder","Username..."),u.disabled=h=0==t[0].length,$(O,"type","text"),$(O,"placeholder","Target UUID..."),$(k,"type","text"),$(k,"placeholder","Username..."),N.disabled=E=!t[3]||0===t[1].length,$(s,"class","form svelte-1fvbh90"),w(s,"working",t[4]===Ut.WORKING),$(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(s,i),f(i,r),f(i,a),f(i,l),S(l,t[0]),f(i,c),f(i,u),f(u,d),f(s,b),f(s,R),f(R,y),f(R,D),f(R,O),S(O,t[2]),f(R,C),f(R,k),S(k,t[1]),f(R,x),f(R,N),f(N,_),f(n,A),Z(L,n,null),W=!0,G||(P=[U(l,"input",t[8]),U(u,"click",t[9]),U(O,"input",t[10]),U(O,"input",t[11]),U(k,"input",t[12]),U(N,"click",t[13])],G=!0)},p(t,[e]){1&e&&l.value!==t[0]&&S(l,t[0]),(!W||1&e&&h!==(h=0==t[0].length))&&(u.disabled=h),4&e&&O.value!==t[2]&&S(O,t[2]),2&e&&k.value!==t[1]&&S(k,t[1]),(!W||10&e&&E!==(E=!t[3]||0===t[1].length))&&(N.disabled=E),16&e&&w(s,"working",t[4]===Ut.WORKING);const n={};16&e&&(n.status=t[4]),L.$set(n)},i(t){W||(H(L.$$.fragment,t),W=!0)},o(t){z(L.$$.fragment,t),W=!1},d(t){t&&m(e),F(L),G=!1,o(P)}}}function oe(t,e,n){let s,o;c(t,et,t=>n(5,s=t)),c(t,nt,t=>n(14,o=t));let i="",r="",a="",l=!1,u=Ut.IDLE;async function f(t,e,o){n(4,u=Ut.WORKING);const i=new URLSearchParams;i.set("userID",t),i.set("username",e),o&&i.set("adminUserID",o);const r=await fetch(`${s.sponsorBlockApi}/api/setUsername?${i}`,{method:"POST"});200===r.status&&n(4,u=Ut.SUCCESS),400===r.status&&n(4,u=Ut.ERROR_INVALID),403===r.status&&n(4,u=Ut.ERROR_UNAUTHORIZED)}async function p(){n(0,i=await async function(){n(4,u=Ut.WORKING);const t=await fetch(`${s.sponsorBlockApi}/api/getUsername?userID=${s.privateUUID}`);if(200===t.status){const e=await t.json();return n(4,u=Ut.SUCCESS),e.userName}return 400===t&&n(4,u=Ut.ERROR_INVALID),403===t&&n(4,u=Ut.ERROR_UNAUTHORIZED),""}()),d(nt,o.username=i,o),d(nt,o.username_time=Date.now(),o)}k(async t=>{"username"in o&&o.username_time+6e5>Date.now()?n(0,i=o.username):await p()});return[i,r,a,l,u,s,f,p,function(){i=this.value,n(0,i)},async t=>{await f(s.privateUUID,i),await p()},function(){a=this.value,n(2,a)},t=>{n(3,l=yt(a))},function(){r=this.value,n(1,r)},t=>{f(a,r,s.privateUUID)}]}class ie extends Q{constructor(t){super(),J(this,t,oe,se,r,{})}}function re(t){let e,n,s,i,r,a,l,c,u,d,h,b,R,y,D,O,C,k,x,N,_,E,A,L,W,G,P;return L=new bt({props:{status:t[2]}}),{c(){e=v("main"),n=v("div"),s=v("p"),s.textContent="Only admins can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Add/Remove VIP",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="User UUID:",h=v("br"),b=I(),R=v("input"),y=I(),D=v("div"),O=v("button"),C=g("Remove"),x=I(),N=v("button"),_=g("Add"),A=I(),j(L.$$.fragment),$(s,"class","viprequired"),$(d,"for","uuid"),$(R,"id","uuid"),$(R,"type","text"),$(R,"size","64"),$(R,"placeholder","Users UUID..."),O.disabled=k=!t[1],N.disabled=E=!t[1],$(D,"class","actions"),$(c,"class","form svelte-1izyxq"),w(c,"working",t[2]===Ut.WORKING),$(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,h),f(u,b),f(u,R),S(R,t[0]),f(c,y),f(c,D),f(D,O),f(O,C),f(D,x),f(D,N),f(N,_),f(n,A),Z(L,n,null),W=!0,G||(P=[U(R,"input",t[5]),U(O,"click",t[4]),U(N,"click",t[3])],G=!0)},p(t,[e]){1&e&&R.value!==t[0]&&S(R,t[0]),(!W||2&e&&k!==(k=!t[1]))&&(O.disabled=k),(!W||2&e&&E!==(E=!t[1]))&&(N.disabled=E),4&e&&w(c,"working",t[2]===Ut.WORKING);const n={};4&e&&(n.status=t[2]),L.$set(n)},i(t){W||(H(L.$$.fragment,t),W=!0)},o(t){z(L.$$.fragment,t),W=!1},d(t){t&&m(e),F(L),G=!1,o(P)}}}function ae(t,e,n){let s;c(t,et,t=>n(6,s=t));let o="",i=!1,r=Ut.IDLE;async function a(t="add"){n(2,r=Ut.WORKING);const e=new URLSearchParams;e.set("adminUserID",s.privateUUID),e.set("userID",o),e.set("enabled",("add"===t).toString());const i=await fetch(`${s.sponsorBlockApi}/api/addUserAsVIP?${e}`,{method:"post"}).then((function(t){return t.status}));200===i&&n(2,r=Ut.SUCCESS),400===i&&n(2,r=Ut.ERROR_INVALID),403===i&&n(2,r=Ut.ERROR_UNAUTHORIZED)}return t.$$.update=()=>{1&t.$$.dirty&&n(1,i=yt(o))},[o,i,r,function(){a("add")},function(){a("remove")},function(){o=this.value,n(0,o)}]}class le extends Q{constructor(t){super(),J(this,t,ae,re,r,{})}}function ce(t){let e,n,s,i,r,a,l,c,u,d,h,b,R,y,D,O,C,k,x,N,_,E,A,L,W,G,P,K,T,V,q,B,M,Y;return q=new bt({props:{status:t[3]}}),{c(){e=v("main"),n=v("div"),s=v("p"),s.textContent="Only VIPs can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Add/Remove Temporary Channel VIP",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="User UUID:",h=v("br"),b=I(),R=v("input"),y=I(),D=v("br"),O=I(),C=v("label"),C.textContent="VideoID from channel:",k=v("br"),x=I(),N=v("input"),_=I(),E=v("div"),A=v("button"),L=g("Remove"),G=I(),P=v("button"),K=g("Add"),V=I(),j(q.$$.fragment),$(s,"class","viprequired"),$(d,"for","uuid"),$(R,"id","uuid"),$(R,"type","text"),$(R,"size","64"),$(R,"placeholder","Users UUID..."),$(C,"for","videoID"),$(N,"id","videoID"),$(N,"type","text"),$(N,"size","11"),$(N,"placeholder","VideoID"),A.disabled=W=!t[2],P.disabled=T=!t[2],$(E,"class","actions"),$(c,"class","form svelte-1izyxq"),w(c,"working",t[3]===Ut.WORKING),$(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,h),f(u,b),f(u,R),S(R,t[0]),f(u,y),f(u,D),f(u,O),f(u,C),f(u,k),f(u,x),f(u,N),S(N,t[1]),f(c,_),f(c,E),f(E,A),f(A,L),f(E,G),f(E,P),f(P,K),f(n,V),Z(q,n,null),B=!0,M||(Y=[U(R,"input",t[6]),U(N,"input",t[7]),U(A,"click",t[5]),U(P,"click",t[4])],M=!0)},p(t,[e]){1&e&&R.value!==t[0]&&S(R,t[0]),2&e&&N.value!==t[1]&&S(N,t[1]),(!B||4&e&&W!==(W=!t[2]))&&(A.disabled=W),(!B||4&e&&T!==(T=!t[2]))&&(P.disabled=T),8&e&&w(c,"working",t[3]===Ut.WORKING);const n={};8&e&&(n.status=t[3]),q.$set(n)},i(t){B||(H(q.$$.fragment,t),B=!0)},o(t){z(q.$$.fragment,t),B=!1},d(t){t&&m(e),F(q),M=!1,o(Y)}}}function ue(t,e,n){let s;c(t,et,t=>n(8,s=t));let o="",i="",r=!1,a=Ut.IDLE;async function l(t="add"){n(3,a=Ut.WORKING);const e=new URLSearchParams;e.set("adminUserID",s.privateUUID),e.set("userID",o),e.set("channelVideoID",i),e.set("enabled",("add"===t).toString());const r=await fetch(`${s.sponsorBlockApi}/api/AddUserAsTempVIP?${e}`,{method:"post"}).then((function(t){return t.status}));200===r&&n(3,a=Ut.SUCCESS),400===r&&n(3,a=Ut.ERROR_INVALID),403===r&&n(3,a=Ut.ERROR_UNAUTHORIZED),404===r&&n(3,a=Ut.NOT_FOUND),409===r&&n(3,a=Ut.DUPLICATE)}return t.$$.update=()=>{1&t.$$.dirty&&n(2,r=yt(o))},[o,i,r,a,function(){l("add")},function(){l("remove")},function(){o=this.value,n(0,o)},function(){i=this.value,n(1,i)}]}class de extends Q{constructor(t){super(),J(this,t,ue,ce,r,{})}}function fe(n){let s,i,r,a=[{type:"text"},{placeholder:"VideoID or URL..."},n[1]],l={};for(let t=0;t<a.length;t+=1)l=e(l,a[t]);return{c(){s=v("input"),b(s,l)},m(t,e){var o;p(t,s,e),S(s,n[0]),i||(r=[U(s,"input",n[2]),U(s,"paste",(o=n[3],function(t){return t.preventDefault(),o.call(this,t)}))],i=!0)},p(t,[e]){b(s,l=function(t,e){const n={},s={},o={$$scope:1};let i=t.length;for(;i--;){const r=t[i],a=e[i];if(a){for(const t in r)t in a||(s[t]=1);for(const t in a)o[t]||(n[t]=a[t],o[t]=1);t[i]=a}else for(const t in r)o[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}(a,[{type:"text"},{placeholder:"VideoID or URL..."},2&e&&t[1]])),1&e&&s.value!==t[0]&&S(s,t[0])},i:t,o:t,d(t){t&&m(s),i=!1,o(r)}}}function pe(t,n,s){let{value:o=""}=n;return t.$$set=t=>{s(1,n=e(e({},n),u(t))),"value"in t&&s(0,o=t.value)},n=u(n),[o,n,function(){o=this.value,s(0,o)},t=>s(0,o=function(t){if(t.startsWith("http"))try{const e=new URL(t);if(e.searchParams.has("v"))return e.searchParams.get("v");if("youtu.be"===e.host)return e.pathname.substring(1);if("sb.ltn.fi"===e.host)if(e.pathname.includes("/video/")){const t=e.pathname.split("/"),n=t.indexOf("video"),s=n+1;if(-1!==n&&t.length-1>=s)return t[s]}else if(e.searchParams.has("videoid"))return e.searchParams.get("videoid")}catch(e){console.error("Failed to parse URL",t,e)}return t}(t?.clipboardData?.getData("text")))]}class me extends Q{constructor(t){super(),J(this,t,pe,fe,r,{value:0})}}function he(t,e,n){const s=t.slice();return s[15]=e[n],s[17]=n,s}function ve(t,e,n){const s=t.slice();return s[18]=e[n],s[17]=n,s}function ge(t){let e,n,s,o,i,r,a,l,c,u,d=Gt[t[17]]+"";return{c(){e=v("div"),n=v("input"),i=I(),r=v("label"),a=g(d),$(n,"id",s="category_"+t[18]),$(n,"type","checkbox"),n.__value=o=t[18],n.value=n.__value,t[9][1].push(n),$(r,"for",l="category_"+t[18]),$(e,"class","category-option svelte-189x8jq")},m(s,o){p(s,e,o),f(e,n),n.checked=~t[0].indexOf(n.__value),f(e,i),f(e,r),f(r,a),c||(u=U(n,"change",t[8]),c=!0)},p(t,e){1&e&&(n.checked=~t[0].indexOf(n.__value))},d(s){s&&m(e),t[9][1].splice(t[9][1].indexOf(n),1),c=!1,u()}}}function Ie(t){let e,n,s,o,i,r,a,l,c,u,d,h=Kt[t[17]]+"";return{c(){e=v("div"),n=v("input"),i=I(),r=v("label"),a=g(h),c=I(),$(n,"id",s="actionType_"+t[15]),$(n,"type","checkbox"),n.__value=o=t[15],n.value=n.__value,t[9][0].push(n),$(r,"for",l="actionType_"+t[15]),$(e,"class","actionType-option")},m(s,o){p(s,e,o),f(e,n),n.checked=~t[1].indexOf(n.__value),f(e,i),f(e,r),f(r,a),f(e,c),u||(d=U(n,"change",t[10]),u=!0)},p(t,e){2&e&&(n.checked=~t[1].indexOf(n.__value))},d(s){s&&m(e),t[9][0].splice(t[9][0].indexOf(n),1),u=!1,d()}}}function Ue(t){let e,n,s,i,r,a,l,c,u,d,b,R,y,D,O,C,k,x,_,E,A,L,W,P,K,T,V,q,B,Y,J,Q,X,tt,et,nt,st,ot,it,rt,at,lt,ct;function ut(e){t[7].call(null,e)}let dt={id:"videoid"};void 0!==t[2]&&(dt.value=t[2]),y=new me({props:dt}),N.push(()=>M(y,"value",ut));let ft=Wt,pt=[];for(let e=0;e<ft.length;e+=1)pt[e]=ge(ve(t,ft,e));let mt=Pt,ht=[];for(let e=0;e<mt.length;e+=1)ht[e]=Ie(he(t,mt,e));return rt=new bt({props:{status:t[3]}}),{c(){e=v("main"),n=v("div"),s=v("p"),s.textContent="Only users with VIP status can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Lock categories",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="VideoID:",b=v("br"),R=I(),j(y.$$.fragment),O=I(),C=v("div"),k=v("div"),k.textContent="Categories:",x=I();for(let t=0;t<pt.length;t+=1)pt[t].c();_=I(),E=v("div"),E.textContent="Action Types:",A=I();for(let t=0;t<ht.length;t+=1)ht[t].c();L=I(),W=v("div"),P=v("label"),P.textContent="Lock Reason:",K=v("br"),T=I(),V=v("textarea"),q=I(),B=v("div"),Y=v("button"),Y.textContent="Check all",J=I(),Q=v("button"),X=g("Unlock"),et=I(),nt=v("button"),st=g("Lock"),it=I(),j(rt.$$.fragment),$(s,"class","viprequired"),$(d,"for","videoid"),$(P,"for","reason"),$(V,"id","reason"),$(V,"cols","80"),$(V,"rows","3"),$(V,"placeholder","Reason..."),Q.disabled=tt=0===t[2].length||0===t[0].length||t[3]===Ut.WORKING,nt.disabled=ot=0===t[2].length||0===t[0].length||t[3]===Ut.WORKING,$(B,"class","actions"),$(c,"class","form svelte-189x8jq"),w(c,"working",t[3]===Ut.WORKING),$(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,b),f(u,R),Z(y,u,null),f(c,O),f(c,C),f(C,k),f(C,x);for(let t=0;t<pt.length;t+=1)pt[t].m(C,null);f(C,_),f(C,E),f(C,A);for(let t=0;t<ht.length;t+=1)ht[t].m(C,null);f(c,L),f(c,W),f(W,P),f(W,K),f(W,T),f(W,V),S(V,t[4]),f(c,q),f(c,B),f(B,Y),f(B,J),f(B,Q),f(Q,X),f(B,et),f(B,nt),f(nt,st),f(n,it),Z(rt,n,null),at=!0,lt||(ct=[U(V,"input",t[11]),U(Y,"click",t[6]),U(Q,"click",t[12]),U(nt,"click",t[13])],lt=!0)},p(t,[e]){const n={};if(!D&&4&e&&(D=!0,n.value=t[2],G(()=>D=!1)),y.$set(n),1&e){let n;for(ft=Wt,n=0;n<ft.length;n+=1){const s=ve(t,ft,n);pt[n]?pt[n].p(s,e):(pt[n]=ge(s),pt[n].c(),pt[n].m(C,_))}for(;n<pt.length;n+=1)pt[n].d(1);pt.length=ft.length}if(2&e){let n;for(mt=Pt,n=0;n<mt.length;n+=1){const s=he(t,mt,n);ht[n]?ht[n].p(s,e):(ht[n]=Ie(s),ht[n].c(),ht[n].m(C,null))}for(;n<ht.length;n+=1)ht[n].d(1);ht.length=mt.length}16&e&&S(V,t[4]),(!at||13&e&&tt!==(tt=0===t[2].length||0===t[0].length||t[3]===Ut.WORKING))&&(Q.disabled=tt),(!at||13&e&&ot!==(ot=0===t[2].length||0===t[0].length||t[3]===Ut.WORKING))&&(nt.disabled=ot),8&e&&w(c,"working",t[3]===Ut.WORKING);const s={};8&e&&(s.status=t[3]),rt.$set(s)},i(t){at||(H(y.$$.fragment,t),H(rt.$$.fragment,t),at=!0)},o(t){z(y.$$.fragment,t),z(rt.$$.fragment,t),at=!1},d(t){t&&m(e),F(y),h(pt,t),h(ht,t),F(rt),lt=!1,o(ct)}}}function $e(t,e,n){let s;c(t,et,t=>n(14,s=t));let o=[],i=[...Pt],r="",a=Ut.IDLE,l="";async function u(t=!0){n(3,a=Ut.WORKING);const e={};e.videoID=r,e.userID=s.privateUUID,e.reason=l,e.categories=o,e.actionTypes=i;const c=await fetch(s.sponsorBlockApi+"/api/lockCategories",{method:t?"post":"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.status}));200===c&&(n(3,a=Ut.SUCCESS),n(2,r=""),n(4,l=""),n(0,o=[]),n(1,i=[...Pt])),400===c&&n(3,a=Ut.ERROR_INVALID),403===c&&n(3,a=Ut.ERROR_UNAUTHORIZED)}const d=[[],[]];return[o,i,r,a,l,u,function(){0===o.length?n(0,o=[...Wt]):n(0,o=[])},function(t){r=t,n(2,r)},function(){o=R(d[1],this.__value,this.checked),n(0,o)},d,function(){i=R(d[0],this.__value,this.checked),n(1,i)},function(){l=this.value,n(4,l)},t=>u(!1),t=>u(!0)]}class be extends Q{constructor(t){super(),J(this,t,$e,Ue,r,{})}}function Re(t){let e,n,s,i,r,a,l,c,u,d,h,b,R,y,D,O,C,k,x,N,_,E,A,L,W,G,P,K,T,V,q,B,M;return V=new bt({props:{status:t[3]}}),{c(){e=v("main"),n=v("div"),s=v("p"),s.textContent="Only users with VIP status can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Warn user:",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="User UUID:",h=v("br"),b=I(),R=v("input"),y=I(),D=v("div"),O=v("label"),O.textContent="Warn Reason:",C=v("br"),k=I(),x=v("textarea"),N=I(),_=v("div"),E=v("button"),A=g("Unwarn"),W=I(),G=v("button"),P=g("Warn"),T=I(),j(V.$$.fragment),$(s,"class","viprequired"),$(d,"for","uuid"),$(R,"id","uuid"),$(R,"type","text"),$(R,"size","64"),$(R,"placeholder","User UUID..."),$(O,"for","reason"),$(x,"id","reason"),$(x,"cols","80"),$(x,"rows","3"),$(x,"placeholder","Reason..."),$(E,"type","button"),E.disabled=L=!t[1],$(G,"type","button"),G.disabled=K=!t[1],$(_,"class","actions"),$(c,"class","form svelte-1izyxq"),w(c,"working",t[3]===Ut.WORKING),$(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,h),f(u,b),f(u,R),S(R,t[0]),f(c,y),f(c,D),f(D,O),f(D,C),f(D,k),f(D,x),S(x,t[2]),f(c,N),f(c,_),f(_,E),f(E,A),f(_,W),f(_,G),f(G,P),f(n,T),Z(V,n,null),q=!0,B||(M=[U(R,"input",t[5]),U(R,"input",t[6]),U(x,"input",t[7]),U(E,"click",t[8]),U(G,"click",t[9])],B=!0)},p(t,[e]){1&e&&R.value!==t[0]&&S(R,t[0]),4&e&&S(x,t[2]),(!q||2&e&&L!==(L=!t[1]))&&(E.disabled=L),(!q||2&e&&K!==(K=!t[1]))&&(G.disabled=K),8&e&&w(c,"working",t[3]===Ut.WORKING);const n={};8&e&&(n.status=t[3]),V.$set(n)},i(t){q||(H(V.$$.fragment,t),q=!0)},o(t){z(V.$$.fragment,t),q=!1},d(t){t&&m(e),F(V),B=!1,o(M)}}}function ye(t,e,n){let s;c(t,et,t=>n(10,s=t));let o="",i=!1,r="",a=Ut.IDLE;async function l(t="warn"){n(3,a=Ut.WORKING);const e={};e.issuerUserID=s.privateUUID,e.userID=o,e.reason=r,e.enabled="warn"===t;const l=await fetch(s.sponsorBlockApi+"/api/warnUser",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.status}));200===l&&(n(3,a=Ut.SUCCESS),n(0,o=""),n(1,i=!1),n(2,r="")),400===l&&n(3,a=Ut.ERROR_INVALID),403===l&&n(3,a=Ut.ERROR_UNAUTHORIZED),409===l&&n(3,a=Ut.DUPLICATE)}return[o,i,r,a,l,function(){o=this.value,n(0,o)},t=>{n(1,i=yt(o))},function(){r=this.value,n(2,r)},t=>{l("unwarn")},t=>{l("warn")}]}class Se extends Q{constructor(t){super(),J(this,t,ye,Re,r,{})}}function De(t,e,n){const s=t.slice();return s[8]=e[n],s}function we(t){let e,n,s,o,i,r,a,l=t[8].title+"",c=t[1][t[8].key]+"";return{c(){e=v("tr"),n=v("th"),s=g(l),o=I(),i=v("td"),r=g(c),a=I(),$(n,"class","svelte-1s5khaf"),$(i,"class","svelte-1s5khaf"),$(e,"class","svelte-1s5khaf")},m(t,l){p(t,e,l),f(e,n),f(n,s),f(e,o),f(e,i),f(i,r),f(e,a)},p(t,e){2&e&&c!==(c=t[1][t[8].key]+"")&&y(r,c)},d(t){t&&m(e)}}}function Oe(t){let e,n,s,i,r,a,l,c,u,d,g,b,R,y,D,O,C,k,x,N,_,E,A,L=!1,W=t[3],G=[];for(let e=0;e<W.length;e+=1)G[e]=we(De(t,W,e));return N=new bt({props:{status:t[2]}}),{c(){e=v("main"),n=v("div"),s=v("fieldset"),i=v("legend"),i.textContent="User Info:",r=I(),a=v("div"),l=v("div"),c=v("label"),c.textContent="Public UserID:",u=v("br"),d=I(),g=v("input"),b=I(),R=v("button"),R.textContent="View",y=I(),L&&L.c(),D=I(),O=v("div"),C=v("table"),k=v("tbody");for(let t=0;t<G.length;t+=1)G[t].c();x=I(),j(N.$$.fragment),$(c,"for","userid"),$(g,"id","userid"),$(g,"type","text"),$(g,"size","64"),$(g,"placeholder","Public UserID..."),$(a,"class","form svelte-1s5khaf"),w(a,"working",t[2]===Ut.WORKING),$(k,"class","svelte-1s5khaf"),$(C,"class","svelte-1s5khaf"),$(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(s,i),f(s,r),f(s,a),f(a,l),f(l,c),f(l,u),f(l,d),f(l,g),S(g,t[0]),f(l,b),f(l,R),f(n,y),L&&L.m(n,null),f(n,D),f(n,O),f(O,C),f(C,k);for(let t=0;t<G.length;t+=1)G[t].m(k,null);f(n,x),Z(N,n,null),_=!0,E||(A=[U(g,"input",t[5]),U(R,"click",t[4])],E=!0)},p(t,[e]){if(1&e&&g.value!==t[0]&&S(g,t[0]),4&e&&w(a,"working",t[2]===Ut.WORKING),L&&(L.d(1),L=null),10&e){let n;for(W=t[3],n=0;n<W.length;n+=1){const s=De(t,W,n);G[n]?G[n].p(s,e):(G[n]=we(s),G[n].c(),G[n].m(k,null))}for(;n<G.length;n+=1)G[n].d(1);G.length=W.length}const n={};4&e&&(n.status=t[2]),N.$set(n)},i(t){_||(H(N.$$.fragment,t),_=!0)},o(t){z(N.$$.fragment,t),_=!1},d(t){t&&m(e),L&&L.d(),h(G,t),F(N),E=!1,o(A)}}}function Ce(t,e,n){let s;c(t,et,t=>n(6,s=t));let o="",i={},r=Ut.IDLE;async function a(){n(2,r=Ut.WORKING);const t=await fetch(`${s.sponsorBlockApi}/api/userInfo?publicUserID=${o}`,{method:"get"}).then((async function(t){return await t.json()}));n(2,r=Ut.SUCCESS),n(1,i=t)}return k(async()=>{const t=new URL(window.location);t.searchParams.has("publicUserID")&&(n(0,o=t.searchParams.get("publicUserID")),await a())}),[o,i,r,[{title:"Public User ID",key:"userID"},{title:"Username",key:"userName"},{title:"Minutes saved",key:"minutesSaved"},{title:"Segment count",key:"segmentCount"},{title:"ignoredSegmentCount",key:"ignoredSegmentCount"},{title:"viewCount",key:"viewCount"},{title:"ignoredViewCount",key:"ignoredViewCount"},{title:"warnings",key:"warnings"},{title:"warningReason",key:"warningReason"},{title:"reputation",key:"reputation"},{title:"vip",key:"vip"},{title:"lastSegmentID",key:"lastSegmentID"}],async function(){const t=new URL(window.location);t.searchParams.set("publicUserID",o),window.history.pushState({},"",t),await a()},function(){o=this.value,n(0,o)}]}class ke extends Q{constructor(t){super(),J(this,t,Ce,Oe,r,{})}}function xe(t){let e,n,s,i,r,a,l,c,u,d,h,b,R,y,S,D,O,C,k,x,_,E,A,L,W,P,K,T;function V(e){t[4].call(null,e)}let q={id:"videoid"};return void 0!==t[0]&&(q.value=t[0]),R=new me({props:q}),N.push(()=>M(R,"value",V)),W=new bt({props:{status:t[1]}}),{c(){e=v("main"),n=v("div"),s=v("p"),s.textContent="Only users with VIP status can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Clear cache / Purge all segments",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="VideoID:",h=v("br"),b=I(),j(R.$$.fragment),S=I(),D=v("div"),O=v("button"),C=g("Clear cache"),x=I(),_=v("button"),E=g("Purge all\n            segments"),L=I(),j(W.$$.fragment),$(s,"class","viprequired"),$(d,"for","videoid"),O.disabled=k=0===t[0].length||t[1]===Ut.WORKING,_.disabled=A=0===t[0].length||t[1]===Ut.WORKING,$(D,"class","actions"),$(c,"class","form svelte-1izyxq"),w(c,"working",t[1]===Ut.WORKING),$(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,h),f(u,b),Z(R,u,null),f(c,S),f(c,D),f(D,O),f(O,C),f(D,x),f(D,_),f(_,E),f(n,L),Z(W,n,null),P=!0,K||(T=[U(O,"click",t[5]),U(_,"click",t[6])],K=!0)},p(t,[e]){const n={};!y&&1&e&&(y=!0,n.value=t[0],G(()=>y=!1)),R.$set(n),(!P||3&e&&k!==(k=0===t[0].length||t[1]===Ut.WORKING))&&(O.disabled=k),(!P||3&e&&A!==(A=0===t[0].length||t[1]===Ut.WORKING))&&(_.disabled=A),2&e&&w(c,"working",t[1]===Ut.WORKING);const s={};2&e&&(s.status=t[1]),W.$set(s)},i(t){P||(H(R.$$.fragment,t),H(W.$$.fragment,t),P=!0)},o(t){z(R.$$.fragment,t),z(W.$$.fragment,t),P=!1},d(t){t&&m(e),F(R),F(W),K=!1,o(T)}}}function Ne(t,e,n){let s;c(t,et,t=>n(7,s=t));let o="",i=Ut.IDLE;async function r(t=!0){n(1,i=Ut.WORKING);const e=new URLSearchParams;e.set("videoID",o),e.set("userID",s.privateUUID);const r=await fetch(`${s.sponsorBlockApi}/api/clearCache?${e}`,{method:"POST"}).then((function(t){return t.status}));200===r&&(n(1,i=Ut.SUCCESS),n(0,o="")),400===r&&n(1,i=Ut.ERROR_INVALID),403===r&&n(1,i=Ut.ERROR_UNAUTHORIZED)}async function a(){n(1,i=Ut.WORKING);const t={};t.videoID=o,t.userID=s.privateUUID;const e=await fetch(s.sponsorBlockApi+"/api/purgeAllSegments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.status}));200===e&&(n(1,i=Ut.SUCCESS),n(0,o="")),400===e&&n(1,i=Ut.ERROR_INVALID),403===e&&n(1,i=Ut.ERROR_UNAUTHORIZED)}return[o,i,r,a,function(t){o=t,n(0,o)},t=>r(),t=>a()]}class _e extends Q{constructor(t){super(),J(this,t,Ne,xe,r,{})}}function Ee(t){let e,n,s,i,r,a,l;e=new ot({}),s=new ct({props:{items:t[1],clickHandler:t[2],selected:t[0]}});var c=t[0];return c&&(r=new c({})),{c(){j(e.$$.fragment),n=I(),j(s.$$.fragment),i=I(),r&&j(r.$$.fragment),a=g("")},m(t,o){Z(e,t,o),p(t,n,o),Z(s,t,o),p(t,i,o),r&&Z(r,t,o),p(t,a,o),l=!0},p(t,[e]){const n={};if(1&e&&(n.selected=t[0]),s.$set(n),c!==(c=t[0])){if(r){B={r:0,c:[],p:B};const t=r;z(t.$$.fragment,1,0,()=>{F(t,1)}),B.r||o(B.c),B=B.p}c?(r=new c({}),j(r.$$.fragment),H(r.$$.fragment,1),Z(r,a.parentNode,a)):r=null}},i(t){l||(H(e.$$.fragment,t),H(s.$$.fragment,t),r&&H(r.$$.fragment,t),l=!0)},o(t){z(e.$$.fragment,t),z(s.$$.fragment,t),r&&z(r.$$.fragment,t),l=!1},d(t){F(e,t),t&&m(n),F(s,t),t&&m(i),t&&m(a),r&&F(r,t)}}}function Ae(t,e,n){const s=[{name:"home",title:"Home",component:Lt,uuidRequired:!1},{name:"username",title:"Username",component:ie,uuidRequired:!0},{name:"stats",title:"Stats",component:Zt,uuidRequired:!1},{name:"voteonsegment",title:"Vote on segment",component:Jt,uuidRequired:!0},{name:"categorychange",title:"Category change",component:ne,uuidRequired:!0},{name:"lockcategories",title:"Lock categories",component:be,uuidRequired:!0,requiresVIP:!0},{name:"shadowban",title:"Add/Remove Shadow ban",component:Ht,uuidRequired:!0,requiresVIP:!0},{name:"warnuser",title:"Warn user",component:Se,uuidRequired:!0,requiresVIP:!0},{name:"cachepurge",title:"Clear cache / Purge segments",component:_e,uuidRequired:!0,requiresVIP:!0},{name:"vip",title:"Add/Remove VIP",component:le,uuidRequired:!0},{name:"tempvip",title:"Add/Remove Temporary VIP",component:de,uuidRequired:!0,requiresVIP:!0},{name:"userinfo",title:"User Info",component:ke,uuidRequired:!1}],o=window.location.search,i=new URLSearchParams(o);let r,a="home";if(i.has("page")){const t=i.get("page");s.some(e=>e.name===t)&&(a=t)}function l(t){const e=s.find(e=>e.name===t);if(e){n(0,r=e.component);const s=new URL(window.location),o=e.title+" • SponsorBlockControl";s.searchParams.set("page",t),window.history.pushState({},o,s),document.title=o}}return l(a),[r,s,l]}return new class extends Q{constructor(t){super(),J(this,t,Ae,Ee,r,{})}}({target:document.body})}();
