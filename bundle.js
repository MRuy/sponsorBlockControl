var app=function(){"use strict";function t(){}function e(t,e){for(const n in e)t[n]=e[n];return t}function n(t){return t()}function s(){return Object.create(null)}function o(t){t.forEach(n)}function i(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function a(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function l(t){let e;return a(t,t=>e=t)(),e}function c(t,e,n){t.$$.on_destroy.push(a(e,n))}function u(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function d(t,e,n=e){return t.set(n),e}function f(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function m(t){t.parentNode.removeChild(t)}function h(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function g(t){return document.createTextNode(t)}function I(){return g(" ")}function $(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function U(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function b(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const s in e)null==e[s]?t.removeAttribute(s):"style"===s?t.style.cssText=e[s]:"__value"===s?t.value=t[s]=e[s]:n[s]&&n[s].set?t[s]=e[s]:U(t,s,e[s])}function R(t,e,n){const s=new Set;for(let e=0;e<t.length;e+=1)t[e].checked&&s.add(t[e].__value);return n||s.delete(e),Array.from(s)}function S(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function D(t,e){t.value=null==e?"":e}function y(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}}function O(t,e,n){t.classList[n?"add":"remove"](e)}let C;function N(t){C=t}function x(t){(function(){if(!C)throw new Error("Function called outside component initialization");return C})().$$.on_mount.push(t)}const w=[],_=[],k=[],E=[],A=Promise.resolve();let W=!1;function G(t){k.push(t)}function L(t){E.push(t)}let K=!1;const P=new Set;function T(){if(!K){K=!0;do{for(let t=0;t<w.length;t+=1){const e=w[t];N(e),V(e.$$)}for(w.length=0;_.length;)_.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];P.has(e)||(P.add(e),e())}k.length=0}while(w.length);for(;E.length;)E.pop()();W=!1,K=!1,P.clear()}}function V(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(G)}}const q=new Set;let B;function H(t,e){t&&t.i&&(q.delete(t),t.i(e))}function M(t,e,n,s){if(t&&t.o){if(q.has(t))return;q.add(t),B.c.push(()=>{q.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}function z(t,e,n){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=n,n(t.$$.ctx[s]))}function j(t){t&&t.c()}function Z(t,e,s){const{fragment:r,on_mount:a,on_destroy:l,after_update:c}=t.$$;r&&r.m(e,s),G(()=>{const e=a.map(n).filter(i);l?l.push(...e):o(e),t.$$.on_mount=[]}),c.forEach(G)}function Y(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function F(t,e){-1===t.$$.dirty[0]&&(w.push(t),W||(W=!0,A.then(T)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(e,n,i,r,a,l,c=[-1]){const u=C;N(e);const d=n.props||{},f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:s(),dirty:c,skip_bound:!1};let p=!1;if(f.ctx=i?i(e,d,(t,n,...s)=>{const o=s.length?s[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),p&&F(e,t)),n}):[],f.update(),p=!0,o(f.before_update),f.fragment=!!r&&r(f.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);f.fragment&&f.fragment.l(t),t.forEach(m)}else f.fragment&&f.fragment.c();n.intro&&H(e.$$.fragment),Z(e,n.target,n.anchor),T()}N(u)}class Q{$destroy(){Y(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const X=[];function tt(e,n){const s=function(e,n=t){let s;const o=[];function i(t){if(r(e,t)&&(e=t,s)){const t=!X.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),X.push(n,e)}if(t){for(let t=0;t<X.length;t+=2)X[t][0](X[t+1]);X.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(r,a=t){const l=[r,a];return o.push(l),1===o.length&&(s=n(i)||t),r(e),()=>{const t=o.indexOf(l);-1!==t&&o.splice(t,1),0===o.length&&(s(),s=null)}}}}(n),{subscribe:o,set:i}=s,a="undefined"!=typeof localStorage?localStorage.getItem(e):null;return a&&i(JSON.parse(a)),{set(t){"undefined"!=typeof localStorage&&localStorage.setItem(e,JSON.stringify(t)),i(t)},update(t){const e=t(l(s));this.set(e)},subscribe:o}}const et=tt("config",{privateUUID:"",sponsorBlockApi:"https://sponsor.ajay.app",showPrivateUUID:!1}),nt=tt("cache",{});function st(e){let n;return{c(){n=v("header"),n.innerHTML='<img src="favicon.png" width="64" height="64" alt="Logo" class="svelte-qh2uac"> SponsorBlockControl\n  <sup class="svelte-qh2uac"><a href="https://github.com/MRuy/sponsorBlockControl#readme" class="svelte-qh2uac">(v1.0.4)</a></sup>',U(n,"class","svelte-qh2uac")},m(t,e){p(t,n,e)},p:t,i:t,o:t,d(t){t&&m(n)}}}class ot extends Q{constructor(t){super(),J(this,t,null,st,r,{})}}function it(t,e,n){const s=t.slice();return s[5]=e[n],s[7]=n,s}function rt(t){let e,n,s,o,i,r,a=t[5].name+"";function l(...e){return t[4](t[5],...e)}return{c(){e=v("button"),n=g(a),s=I(),U(e,"type","button"),e.disabled=o=!0===t[5].uuidRequired&&""===t[3].privateUUID,U(e,"class","svelte-mrs8b4"),O(e,"active",t[2]===t[5].component)},m(t,o){p(t,e,o),f(e,n),f(e,s),i||(r=$(e,"click",l),i=!0)},p(s,i){t=s,1&i&&a!==(a=t[5].name+"")&&S(n,a),9&i&&o!==(o=!0===t[5].uuidRequired&&""===t[3].privateUUID)&&(e.disabled=o),5&i&&O(e,"active",t[2]===t[5].component)},d(t){t&&m(e),i=!1,r()}}}function at(e){let n,s=e[0],o=[];for(let t=0;t<s.length;t+=1)o[t]=rt(it(e,s,t));return{c(){n=v("nav");for(let t=0;t<o.length;t+=1)o[t].c();U(n,"class","svelte-mrs8b4")},m(t,e){p(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(15&e){let i;for(s=t[0],i=0;i<s.length;i+=1){const r=it(t,s,i);o[i]?o[i].p(r,e):(o[i]=rt(r),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}},i:t,o:t,d(t){t&&m(n),h(o,t)}}}function lt(t,e,n){let s;c(t,et,t=>n(3,s=t));let{items:o=[]}=e,{clickHandler:i}=e,{selected:r}=e;return t.$$set=t=>{"items"in t&&n(0,o=t.items),"clickHandler"in t&&n(1,i=t.clickHandler),"selected"in t&&n(2,r=t.selected)},[o,i,r,s,(t,e)=>{i(t.name)}]}class ct extends Q{constructor(t){super(),J(this,t,lt,at,r,{items:0,clickHandler:1,selected:2})}}function ut(t){let e;return{c(){e=g("Ready!")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function dt(t){let e,n;return{c(){e=v("div"),n=g("\n    Sending request..."),U(e,"class","lds-dual-ring svelte-kuvmdh")},m(t,s){p(t,e,s),p(t,n,s)},d(t){t&&m(e),t&&m(n)}}}function ft(t){let e;return{c(){e=g("Done. Success!")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function pt(t){let e;return{c(){e=v("span"),e.textContent="Bad Request (Your inputs are wrong/impossible)",U(e,"class","error svelte-kuvmdh")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function mt(t){let e;return{c(){e=v("span"),e.textContent="Error. You are not allowed to do that!",U(e,"class","error svelte-kuvmdh")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function ht(t){let e;return{c(){e=v("span"),e.textContent="Error: Duplicate",U(e,"class","error svelte-kuvmdh")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function vt(t){let e;return{c(){e=v("span"),e.textContent="Error: Not found!",U(e,"class","error svelte-kuvmdh")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function gt(t){let e;return{c(){e=g("(Private UUID required)")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function It(e){let n,s,o,i,r,a,l,c,u,d=e[0]==$t.IDLE&&ut(),h=e[0]==$t.WORKING&&dt(),$=e[0]==$t.SUCCESS&&ft(),b=e[0]==$t.ERROR_INVALID&&pt(),R=e[0]==$t.ERROR_UNAUTHORIZED&&mt(),S=e[0]==$t.DUPLICATE&&ht(),D=e[0]==$t.NOT_FOUND&&vt(),y=e[0]==$t.PRIVATEUUID_MISSING&&gt();return{c(){n=v("div"),s=g("Status: "),d&&d.c(),o=I(),h&&h.c(),i=I(),$&&$.c(),r=I(),b&&b.c(),a=I(),R&&R.c(),l=I(),S&&S.c(),c=I(),D&&D.c(),u=I(),y&&y.c(),U(n,"class","status")},m(t,e){p(t,n,e),f(n,s),d&&d.m(n,null),f(n,o),h&&h.m(n,null),f(n,i),$&&$.m(n,null),f(n,r),b&&b.m(n,null),f(n,a),R&&R.m(n,null),f(n,l),S&&S.m(n,null),f(n,c),D&&D.m(n,null),f(n,u),y&&y.m(n,null)},p(t,[e]){t[0]==$t.IDLE?d||(d=ut(),d.c(),d.m(n,o)):d&&(d.d(1),d=null),t[0]==$t.WORKING?h||(h=dt(),h.c(),h.m(n,i)):h&&(h.d(1),h=null),t[0]==$t.SUCCESS?$||($=ft(),$.c(),$.m(n,r)):$&&($.d(1),$=null),t[0]==$t.ERROR_INVALID?b||(b=pt(),b.c(),b.m(n,a)):b&&(b.d(1),b=null),t[0]==$t.ERROR_UNAUTHORIZED?R||(R=mt(),R.c(),R.m(n,l)):R&&(R.d(1),R=null),t[0]==$t.DUPLICATE?S||(S=ht(),S.c(),S.m(n,c)):S&&(S.d(1),S=null),t[0]==$t.NOT_FOUND?D||(D=vt(),D.c(),D.m(n,u)):D&&(D.d(1),D=null),t[0]==$t.PRIVATEUUID_MISSING?y||(y=gt(),y.c(),y.m(n,null)):y&&(y.d(1),y=null)},i:t,o:t,d(t){t&&m(n),d&&d.d(),h&&h.d(),$&&$.d(),b&&b.d(),R&&R.d(),S&&S.d(),D&&D.d(),y&&y.d()}}}const $t={IDLE:Symbol("idle"),WORKING:Symbol("working"),SUCCESS:Symbol("success"),NOT_FOUND:Symbol("error-404"),ERROR_INVALID:Symbol("error-invalid"),ERROR_UNAUTHORIZED:Symbol("error-unauthorized"),DUPLICATE:Symbol("duplicate"),PRIVATEUUID_MISSING:Symbol("private-uuid-missing")};function Ut(t,e,n){let{status:s}=e;return t.$$set=t=>{"status"in t&&n(0,s=t.status)},[s]}class bt extends Q{constructor(t){super(),J(this,t,Ut,It,r,{status:0})}}const Rt=(t,e=!1)=>{const n=Math.floor(t/60/24/365),s=Math.floor(t/60/24)%365,o=Math.floor(t/60)%24;let i="";return i+=""+(n>0?n+(e?" years ":"y "):""),i+=""+(s>0?s+(e?" days ":"d "):""),i+=""+(o>0?o+(e?" hours ":"h "):""),0==n&&(i+=`${(t%60).toFixed(1)}${e?" minutes ":"m "}`),i.trim()},St=t=>/^[a-f0-9]{64}$/.test(t),Dt=t=>/^([a-f0-9]{64,65}|[a-f0-9]{8}\-[a-f0-9]{4}\-[a-f0-9]{4}\-[a-f0-9]{4}\-[a-f0-9]{12})$/.test(t);function yt(t){let e,n,s,o,i,r,a,l,c,u,d,h,$,b,R,D,y,C,N,x,w,_,k=t[2].toLocaleString()+"",E=Rt(t[1],!0)+"",A=t[4].toLocaleString()+"",W=!0===t[3]&&Ot();return{c(){e=g("Hello "),W&&W.c(),n=I(),s=g(t[6]),o=v("br"),i=g("\n    You have saved people from "),r=g(k),a=g(" segments."),l=v("br"),c=g("\n    You have saved people "),u=g(E),d=g(" of their lives."),h=v("br"),$=g("\n    You submitted "),b=g(A),R=g(" segments!"),D=v("br"),y=g("\n    There is currently "),C=v("b"),N=g(t[5]),x=g(" warnings for your UserID ("),w=g(t[7]),_=g(")"),U(C,"class","svelte-xaelew"),O(C,"hasWarnings",t[5]>0)},m(t,m){p(t,e,m),W&&W.m(t,m),p(t,n,m),p(t,s,m),p(t,o,m),p(t,i,m),p(t,r,m),p(t,a,m),p(t,l,m),p(t,c,m),p(t,u,m),p(t,d,m),p(t,h,m),p(t,$,m),p(t,b,m),p(t,R,m),p(t,D,m),p(t,y,m),p(t,C,m),f(C,N),p(t,x,m),p(t,w,m),p(t,_,m)},p(t,e){!0===t[3]?W||(W=Ot(),W.c(),W.m(n.parentNode,n)):W&&(W.d(1),W=null),64&e&&S(s,t[6]),4&e&&k!==(k=t[2].toLocaleString()+"")&&S(r,k),2&e&&E!==(E=Rt(t[1],!0)+"")&&S(u,E),16&e&&A!==(A=t[4].toLocaleString()+"")&&S(b,A),32&e&&S(N,t[5]),32&e&&O(C,"hasWarnings",t[5]>0),128&e&&S(w,t[7])},d(t){t&&m(e),W&&W.d(t),t&&m(n),t&&m(s),t&&m(o),t&&m(i),t&&m(r),t&&m(a),t&&m(l),t&&m(c),t&&m(u),t&&m(d),t&&m(h),t&&m($),t&&m(b),t&&m(R),t&&m(D),t&&m(y),t&&m(C),t&&m(x),t&&m(w),t&&m(_)}}}function Ot(t){let e;return{c(){e=g("[VIP]")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function Ct(t){let e;return{c(){e=g("Loading...")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function Nt(t){let e;return{c(){e=g("(Private UUID required)")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function xt(e){let n,s,o,i=e[0]==$t.SUCCESS&&yt(e),r=e[0]==$t.WORKING&&Ct(),a=e[0]==$t.PRIVATEUUID_MISSING&&Nt();return{c(){n=v("span"),i&&i.c(),s=I(),r&&r.c(),o=I(),a&&a.c()},m(t,e){p(t,n,e),i&&i.m(n,null),f(n,s),r&&r.m(n,null),f(n,o),a&&a.m(n,null)},p(t,[e]){t[0]==$t.SUCCESS?i?i.p(t,e):(i=yt(t),i.c(),i.m(n,s)):i&&(i.d(1),i=null),t[0]==$t.WORKING?r||(r=Ct(),r.c(),r.m(n,o)):r&&(r.d(1),r=null),t[0]==$t.PRIVATEUUID_MISSING?a||(a=Nt(),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i:t,o:t,d(t){t&&m(n),i&&i.d(),r&&r.d(),a&&a.d()}}}function wt(t,e,n){let s,o;c(t,nt,t=>n(9,s=t)),c(t,et,t=>n(10,o=t));let{privateUUID:i=""}=e,r=$t.IDLE,a=0,l=0,u=!1,f=0,p=0,m=0,h="";return x((async function(){if(""===i)return void n(0,r=$t.PRIVATEUUID_MISSING);n(0,r=$t.WORKING);let t={};if("userInfo_time"in s&&s.userInfo_time+6e5>Date.now())t=s.userInfo;else{const e=await fetch(`${o.sponsorBlockApi}/api/getUserInfo?userID=${i}`).then(t=>t.json());d(nt,s.userInfo_time=Date.now(),s),t={minutesSaved:e.minutesSaved,viewCount:e.viewCount,vip:e.vip,segmentCount:e.segmentCount,warnings:e.warnings,userName:e.userName,userID:e.userID},d(nt,s.userInfo=t,s)}n(2,l=t.viewCount),n(1,a=t.minutesSaved),n(3,u=t.vip),n(4,f=t.segmentCount),n(5,p=t.warnings),n(6,m=t.userName),n(7,h=t.userID),n(0,r=$t.SUCCESS)})),t.$$set=t=>{"privateUUID"in t&&n(8,i=t.privateUUID)},[r,a,l,u,f,p,m,h,i]}class _t extends Q{constructor(t){super(),J(this,t,wt,xt,r,{privateUUID:8})}}function kt(t){let e;return{c(){e=g("(Set your private UUID!)")},m(t,n){p(t,e,n)},d(t){t&&m(e)}}}function Et(t){let e,n,s,i,r,a,l,c,u,d,h,b,R,y,O,C,N,x,w,_,k,E,A,W,G,L,K,P,T,V,q,B,z,F,J,Q,X,tt,et,nt,st=t[1]?"Saved!":"Save",ot=t[3]?"Saved!":"Save",it=""===t[4].privateUUID&&kt();return X=new _t({props:{privateUUID:t[4].privateUUID}}),{c(){var t,o,f;e=v("main"),n=v("div"),s=v("details"),i=v("summary"),r=g("Settings "),it&&it.c(),a=I(),l=v("fieldset"),c=v("legend"),c.textContent="Private userID:",u=I(),d=v("div"),d.innerHTML="<p>Your private userID will only be stored in your Browser and only\n            send to the SponsorBlock API.</p>",h=I(),b=v("div"),R=v("label"),R.textContent="Your private userID:",y=v("br"),O=I(),C=v("input"),x=I(),w=v("div"),_=v("button"),k=g(st),E=I(),A=v("fieldset"),W=v("legend"),W.textContent="API Server:",G=I(),L=v("div"),K=v("label"),K.textContent="SponsorBlock Server:",P=v("br"),T=I(),V=v("input"),q=I(),B=v("div"),z=v("button"),F=g(ot),J=I(),Q=v("p"),j(X.$$.fragment),U(i,"class","svelte-12iolxf"),U(d,"class","info"),U(R,"for","privateUUID"),U(C,"id","privateUUID"),U(C,"type","text"),U(C,"size","36"),U(C,"pattern",N="^[A-Za-z0-9]36$"),U(C,"spellcheck","false"),U(C,"placeholder","Private UUID"),U(C,"class","svelte-12iolxf"),U(w,"class","actions"),U(l,"class","svelte-12iolxf"),U(K,"for","serveraddr"),U(V,"type","url"),U(V,"id","serveraddr"),U(V,"class","serveraddr svelte-12iolxf"),U(V,"placeholder","https://..."),U(B,"class","actions"),U(A,"class","svelte-12iolxf"),U(s,"class","svelte-12iolxf"),t="width",o="100%",Q.style.setProperty(t,o,f?"important":""),U(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(s,i),f(i,r),it&&it.m(i,null),f(s,a),f(s,l),f(l,c),f(l,u),f(l,d),f(l,h),f(l,b),f(b,R),f(b,y),f(b,O),f(b,C),D(C,t[0]),f(b,x),f(b,w),f(w,_),f(_,k),f(s,E),f(s,A),f(A,W),f(A,G),f(A,L),f(L,K),f(L,P),f(L,T),f(L,V),D(V,t[2]),f(L,q),f(L,B),f(B,z),f(z,F),f(n,J),f(n,Q),Z(X,Q,null),tt=!0,et||(nt=[$(C,"input",t[7]),$(_,"click",t[5]),$(V,"input",t[8]),$(z,"click",t[6])],et=!0)},p(t,[e]){""===t[4].privateUUID?it||(it=kt(),it.c(),it.m(i,null)):it&&(it.d(1),it=null),1&e&&C.value!==t[0]&&D(C,t[0]),(!tt||2&e)&&st!==(st=t[1]?"Saved!":"Save")&&S(k,st),4&e&&D(V,t[2]),(!tt||8&e)&&ot!==(ot=t[3]?"Saved!":"Save")&&S(F,ot);const n={};16&e&&(n.privateUUID=t[4].privateUUID),X.$set(n)},i(t){tt||(H(X.$$.fragment,t),tt=!0)},o(t){M(X.$$.fragment,t),tt=!1},d(t){t&&m(e),it&&it.d(),Y(X),et=!1,o(nt)}}}function At(t,e,n){let s,o;c(t,et,t=>n(4,s=t)),c(t,nt,t=>n(9,o=t));let i=s.privateUUID,r=!1;let a=s.sponsorBlockApi,l=!1;return[i,r,a,l,s,function(t){s.privateUUID!=i&&d(nt,o={}),d(et,s.privateUUID=i,s),n(1,r=!0),setTimeout(t=>{n(1,r=!1)},3e3)},function(t){d(et,s.sponsorBlockApi=a,s),n(3,l=!0),setTimeout(t=>{n(3,l=!1)},3e3)},function(){i=this.value,n(0,i)},function(){a=this.value,n(2,a)}]}class Wt extends Q{constructor(t){super(),J(this,t,At,Et,r,{})}}const Gt=["sponsor","selfpromo","interaction","intro","outro","preview","music_offtopic","poi_highlight"],Lt=["Sponsor","Unpaid/Self Promotion","Interaction Reminder (Subscribe)","Intermission/Intro Animation","Endcards/Credits","Preview/Recap","Music: Non-Music Section","Highlight"];function Kt(t,e,n){const s=t.slice();return s[13]=e[n],s[15]=n,s}function Pt(t){let e,n,s,o,i,r,a,l,c,u,d,h=Lt[t[15]]+"";return{c(){e=v("div"),n=v("input"),i=I(),r=v("label"),a=g(h),c=I(),U(n,"id",s="category_"+t[13]),U(n,"type","checkbox"),n.__value=o=t[13],n.value=n.__value,t[9][0].push(n),U(r,"for",l="category_"+t[13]),U(e,"class","category-option svelte-1szpcmt")},m(s,o){p(s,e,o),f(e,n),n.checked=~t[2].indexOf(n.__value),f(e,i),f(e,r),f(r,a),f(e,c),u||(d=$(n,"change",t[8]),u=!0)},p(t,e){4&e&&(n.checked=~t[2].indexOf(n.__value))},d(s){s&&m(e),t[9][0].splice(t[9][0].indexOf(n),1),u=!1,d()}}}function Tt(t){let e,n,s,i,r,a,l,c,u,d,b,R,S,y,C,N,x,w,_,k,E,A,W,G,L,K,P,T,V,q,B,z,F,J,Q,X,tt,et=Gt,nt=[];for(let e=0;e<et.length;e+=1)nt[e]=Pt(Kt(t,et,e));return J=new bt({props:{status:t[4]}}),{c(){e=v("main"),n=v("div"),s=v("p"),s.textContent="Only users with VIP status can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Shadow ban user:",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="User UUID:",b=v("br"),R=I(),S=v("input"),y=I(),C=v("div"),N=v("input"),x=I(),w=v("label"),w.textContent="Hide/Restore old submissions",_=I(),k=v("div"),E=v("div"),E.textContent="Categories to hide:",A=I();for(let t=0;t<nt.length;t+=1)nt[t].c();G=I(),L=v("div"),K=v("button"),P=g("Unban"),V=I(),q=v("button"),B=g("Ban"),F=I(),j(J.$$.fragment),U(s,"class","viprequired"),U(d,"for","uuid"),U(S,"id","uuid"),U(S,"type","text"),U(S,"size","64"),U(S,"placeholder","Users UUID..."),U(N,"id","hideoldsubmissions"),U(N,"type","checkbox"),U(w,"for","hideoldsubmissions"),U(k,"class","categories-to-hide svelte-1szpcmt"),k.hidden=W=!t[1],U(K,"type","button"),K.disabled=T=!t[3],U(q,"type","button"),q.disabled=z=!t[3],U(L,"class","actions"),U(c,"class","form svelte-1szpcmt"),O(c,"working",t[4]===$t.WORKING),U(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,b),f(u,R),f(u,S),D(S,t[0]),f(c,y),f(c,C),f(C,N),N.checked=t[1],f(C,x),f(C,w),f(c,_),f(c,k),f(k,E),f(k,A);for(let t=0;t<nt.length;t+=1)nt[t].m(k,null);f(c,G),f(c,L),f(L,K),f(K,P),f(L,V),f(L,q),f(q,B),f(n,F),Z(J,n,null),Q=!0,X||(tt=[$(S,"input",t[6]),$(N,"change",t[7]),$(K,"click",t[10]),$(q,"click",t[11])],X=!0)},p(t,[e]){if(1&e&&S.value!==t[0]&&D(S,t[0]),2&e&&(N.checked=t[1]),4&e){let n;for(et=Gt,n=0;n<et.length;n+=1){const s=Kt(t,et,n);nt[n]?nt[n].p(s,e):(nt[n]=Pt(s),nt[n].c(),nt[n].m(k,null))}for(;n<nt.length;n+=1)nt[n].d(1);nt.length=et.length}(!Q||2&e&&W!==(W=!t[1]))&&(k.hidden=W),(!Q||8&e&&T!==(T=!t[3]))&&(K.disabled=T),(!Q||8&e&&z!==(z=!t[3]))&&(q.disabled=z),16&e&&O(c,"working",t[4]===$t.WORKING);const n={};16&e&&(n.status=t[4]),J.$set(n)},i(t){Q||(H(J.$$.fragment,t),Q=!0)},o(t){M(J.$$.fragment,t),Q=!1},d(t){t&&m(e),h(nt,t),Y(J),X=!1,o(tt)}}}function Vt(t,e,n){let s;c(t,et,t=>n(12,s=t));let o="",i=!0,r=[...Gt],a=!1,l=$t.IDLE;async function u(t="ban"){n(4,l=$t.WORKING);const e=new URLSearchParams;e.set("adminUserID",s.privateUUID),e.set("userID",o),e.set("enabled",("ban"===t).toString()),e.set("unHideOldSubmissions",i.toString()),e.set("categories",JSON.stringify(r));const a=await fetch(`${s.sponsorBlockApi}/api/shadowBanUser?${e}`,{method:"post"}).then((function(t){return t.status}));200===a&&n(4,l=$t.SUCCESS),400===a&&n(4,l=$t.ERROR_INVALID),403===a&&n(4,l=$t.ERROR_UNAUTHORIZED)}const d=[[]];return t.$$.update=()=>{1&t.$$.dirty&&n(3,a=St(o))},[o,i,r,a,l,u,function(){o=this.value,n(0,o)},function(){i=this.checked,n(1,i)},function(){r=R(d[0],this.__value,this.checked),n(2,r)},d,t=>{u("unban")},t=>{u("ban")}]}class qt extends Q{constructor(t){super(),J(this,t,Vt,Tt,r,{})}}function Bt(t){let e,n,s,o,i,r,a,l,c,u,d,h,b,R,D,y,O,C,N,x,w,_,k,E,A,W,G,L,K,P,T,V,q,B=t[1].apiUsers.toLocaleString()+"",H=t[1].viewCount.toLocaleString()+"",M=t[1].totalSubmissions.toLocaleString()+"",z=Rt(t[1].minutesSaved,!0)+"";return{c(){e=v("table"),n=v("tbody"),s=v("tr"),o=v("th"),o.textContent="API Users:",i=I(),r=v("td"),a=g(B),l=I(),c=v("tr"),u=v("th"),u.textContent="Skip Count:",d=I(),h=v("td"),b=g(H),R=g(" skips"),D=I(),y=v("tr"),O=v("th"),O.textContent="Submissions:",C=I(),N=v("td"),x=g(M),w=I(),_=v("tr"),k=v("th"),k.textContent="Time Saved:",E=I(),A=v("td"),W=g(z),G=I(),L=v("div"),K=v("button"),P=g("Refresh"),U(o,"class","svelte-aon4oy"),U(r,"class","svelte-aon4oy"),U(u,"class","svelte-aon4oy"),U(h,"class","svelte-aon4oy"),U(O,"class","svelte-aon4oy"),U(N,"class","svelte-aon4oy"),U(k,"class","svelte-aon4oy"),U(A,"class","svelte-aon4oy"),U(e,"class","stats-table svelte-aon4oy"),K.disabled=T=t[0]===$t.WORKING},m(m,v){p(m,e,v),f(e,n),f(n,s),f(s,o),f(s,i),f(s,r),f(r,a),f(n,l),f(n,c),f(c,u),f(c,d),f(c,h),f(h,b),f(h,R),f(n,D),f(n,y),f(y,O),f(y,C),f(y,N),f(N,x),f(n,w),f(n,_),f(_,k),f(_,E),f(_,A),f(A,W),p(m,G,v),p(m,L,v),f(L,K),f(K,P),V||(q=$(K,"click",t[3]),V=!0)},p(t,e){2&e&&B!==(B=t[1].apiUsers.toLocaleString()+"")&&S(a,B),2&e&&H!==(H=t[1].viewCount.toLocaleString()+"")&&S(b,H),2&e&&M!==(M=t[1].totalSubmissions.toLocaleString()+"")&&S(x,M),2&e&&z!==(z=Rt(t[1].minutesSaved,!0)+"")&&S(W,z),1&e&&T!==(T=t[0]===$t.WORKING)&&(K.disabled=T)},d(t){t&&m(e),t&&m(G),t&&m(L),V=!1,q()}}}function Ht(t){let e,n,s,o,i,r=t[1]&&Bt(t);return o=new bt({props:{status:t[0]}}),{c(){e=v("main"),n=v("div"),r&&r.c(),s=I(),j(o.$$.fragment),U(n,"class","container")},m(t,a){p(t,e,a),f(e,n),r&&r.m(n,null),f(n,s),Z(o,n,null),i=!0},p(t,[e]){t[1]?r?r.p(t,e):(r=Bt(t),r.c(),r.m(n,s)):r&&(r.d(1),r=null);const i={};1&e&&(i.status=t[0]),o.$set(i)},i(t){i||(H(o.$$.fragment,t),i=!0)},o(t){M(o.$$.fragment,t),i=!1},d(t){t&&m(e),r&&r.d(),Y(o)}}}function Mt(t,e,n){let s,o;c(t,et,t=>n(4,s=t)),c(t,nt,t=>n(5,o=t));let i=$t.IDLE,r={apiUsers:0,userCount:0,viewCount:0,totalSubmissions:0,minutesSaved:0};async function a(){n(1,r=await async function(){n(0,i=$t.WORKING);const t=await fetch(s.sponsorBlockApi+"/api/getTotalStats").then(t=>t.json());return n(0,i=$t.SUCCESS),t}()),d(nt,o.totalstats=r,o),d(nt,o.totalstats_time=Date.now(),o)}x(async t=>{"totalstats"in o&&o.totalstats_time+6e5>Date.now()?n(1,r=o.totalstats):await a()});return[i,r,a,async t=>{await a()}]}class zt extends Q{constructor(t){super(),J(this,t,Mt,Ht,r,{})}}function jt(t){let e,n,s,i,r,a,l,c,u,d,h,b,R,S,y,O,C,N,x,w,_,k,E,A,W,G,L,K,P,T;return L=new bt({props:{status:t[0]}}),{c(){e=v("main"),n=v("div"),s=v("fieldset"),i=v("legend"),i.textContent="Vote on segment",r=I(),a=v("div"),l=v("label"),l.textContent="Segment UUID:",c=v("br"),u=I(),d=v("input"),R=I(),S=v("div"),y=v("button"),O=g("Undo Vote"),N=I(),x=v("button"),w=g("Downvote"),k=I(),E=v("button"),A=g("Upvote"),G=I(),j(L.$$.fragment),U(l,"for","uuid"),U(d,"id","uuid"),U(d,"type","text"),U(d,"size","64"),U(d,"pattern",h="[a-f0-9]{64}"),U(d,"placeholder","Segment UUID ..."),d.disabled=b=t[0]===$t.WORKING,y.disabled=C=t[0]===$t.WORKING||!t[2]||t[0]===$t.WORKING,x.disabled=_=t[0]===$t.WORKING||!t[2]||t[0]===$t.WORKING,E.disabled=W=t[0]===$t.WORKING||!t[2]||t[0]===$t.WORKING,U(S,"class","actions"),U(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(s,i),f(s,r),f(s,a),f(a,l),f(a,c),f(a,u),f(a,d),D(d,t[1]),f(s,R),f(s,S),f(S,y),f(y,O),f(S,N),f(S,x),f(x,w),f(S,k),f(S,E),f(E,A),f(n,G),Z(L,n,null),K=!0,P||(T=[$(d,"input",t[4]),$(y,"click",t[5]),$(x,"click",t[6]),$(E,"click",t[7])],P=!0)},p(t,[e]){(!K||1&e&&b!==(b=t[0]===$t.WORKING))&&(d.disabled=b),2&e&&d.value!==t[1]&&D(d,t[1]),(!K||5&e&&C!==(C=t[0]===$t.WORKING||!t[2]||t[0]===$t.WORKING))&&(y.disabled=C),(!K||5&e&&_!==(_=t[0]===$t.WORKING||!t[2]||t[0]===$t.WORKING))&&(x.disabled=_),(!K||5&e&&W!==(W=t[0]===$t.WORKING||!t[2]||t[0]===$t.WORKING))&&(E.disabled=W);const n={};1&e&&(n.status=t[0]),L.$set(n)},i(t){K||(H(L.$$.fragment,t),K=!0)},o(t){M(L.$$.fragment,t),K=!1},d(t){t&&m(e),Y(L),P=!1,o(T)}}}function Zt(t,e,n){let s;c(t,et,t=>n(8,s=t));let o=$t.IDLE,i="",r=!1;async function a(t,e=0){n(0,o=$t.WORKING);const r=new URLSearchParams;r.set("UUID",t),r.set("userID",s.privateUUID),r.set("type",e);const a=await fetch(`${s.sponsorBlockApi}/api/voteOnSponsorTime?${r}`,{method:"POST"}).then(t=>t.status);200===a&&(n(0,o=$t.SUCCESS),n(1,i="")),400===a&&n(0,o=$t.INVALID),405===a&&n(0,o=$t.DUPLICATE)}return t.$$.update=()=>{2&t.$$.dirty&&n(2,r=Dt(i))},[o,i,r,a,function(){i=this.value,n(1,i)},t=>{a(i,20)},t=>{a(i,0)},t=>{a(i,1)}]}class Yt extends Q{constructor(t){super(),J(this,t,Zt,jt,r,{})}}function Ft(t,e,n){const s=t.slice();return s[9]=e[n],s[11]=n,s}function Jt(e){let n,s,o,i=Lt[e[11]]+"";return{c(){n=v("option"),s=g(i),n.__value=o=e[9],n.value=n.__value},m(t,e){p(t,n,e),f(n,s)},p:t,d(t){t&&m(n)}}}function Qt(t){let e,n,s,i,r,a,l,c,u,d,b,R,S,O,C,N,x,w,_,k,E,A,W,L,K,P,T,V,q,B=Gt,z=[];for(let e=0;e<B.length;e+=1)z[e]=Jt(Ft(t,B,e));return P=new bt({props:{status:t[0]}}),{c(){e=v("main"),n=v("div"),s=v("fieldset"),i=v("legend"),i.textContent="Change segment category",r=I(),a=v("div"),l=v("label"),l.textContent="Segment UUID:",c=v("br"),u=I(),d=v("input"),S=I(),O=v("div"),C=v("label"),C.textContent="Category:",N=v("br"),x=I(),w=v("select"),_=v("option"),_.textContent="--- Select category ---";for(let t=0;t<z.length;t+=1)z[t].c();k=I(),E=v("div"),A=v("button"),W=g("Change\n          category"),K=I(),j(P.$$.fragment),U(l,"for","uuid"),U(d,"id","uuid"),U(d,"type","text"),U(d,"size","64"),U(d,"pattern",b="[a-f0-9]{64}"),U(d,"placeholder","Segment UUID ..."),d.disabled=R=t[0]===$t.WORKING,U(C,"for","category"),_.__value="",_.value=_.__value,U(w,"id","category"),U(w,"class","svelte-1bh877i"),void 0===t[3]&&G(()=>t[6].call(w)),A.disabled=L=t[0]===$t.WORKING||!t[2]||t[0]===$t.WORKING,U(E,"class","actions"),U(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(s,i),f(s,r),f(s,a),f(a,l),f(a,c),f(a,u),f(a,d),D(d,t[1]),f(s,S),f(s,O),f(O,C),f(O,N),f(O,x),f(O,w),f(w,_);for(let t=0;t<z.length;t+=1)z[t].m(w,null);y(w,t[3]),f(s,k),f(s,E),f(E,A),f(A,W),f(n,K),Z(P,n,null),T=!0,V||(q=[$(d,"input",t[5]),$(w,"change",t[6]),$(A,"click",t[7])],V=!0)},p(t,[e]){if((!T||1&e&&R!==(R=t[0]===$t.WORKING))&&(d.disabled=R),2&e&&d.value!==t[1]&&D(d,t[1]),0&e){let n;for(B=Gt,n=0;n<B.length;n+=1){const s=Ft(t,B,n);z[n]?z[n].p(s,e):(z[n]=Jt(s),z[n].c(),z[n].m(w,null))}for(;n<z.length;n+=1)z[n].d(1);z.length=B.length}8&e&&y(w,t[3]),(!T||5&e&&L!==(L=t[0]===$t.WORKING||!t[2]||t[0]===$t.WORKING))&&(A.disabled=L);const n={};1&e&&(n.status=t[0]),P.$set(n)},i(t){T||(H(P.$$.fragment,t),T=!0)},o(t){M(P.$$.fragment,t),T=!1},d(t){t&&m(e),h(z,t),Y(P),V=!1,o(q)}}}function Xt(t,e,n){let s;c(t,et,t=>n(8,s=t));let o=$t.IDLE,i="",r=!1,a="";async function l(){n(0,o=$t.WORKING);const t=new URLSearchParams;t.set("UUID",i),t.set("userID",s.privateUUID),t.set("category",a);const e=await fetch(`${s.sponsorBlockApi}/api/voteOnSponsorTime?${t}`,{method:"POST"}).then(t=>t.status);200===e&&(n(0,o=$t.SUCCESS),n(1,i=""),n(3,a="")),400===e&&n(0,o=$t.INVALID),405===e&&n(0,o=$t.DUPLICATE)}return t.$$.update=()=>{2&t.$$.dirty&&n(2,r=Dt(i))},[o,i,r,a,l,function(){i=this.value,n(1,i)},function(){a=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(3,a)},t=>{l()}]}class te extends Q{constructor(t){super(),J(this,t,Xt,Qt,r,{})}}function ee(t){let e,n,s,i,r,a,l,c,u,d,h,b,R,S,y,C,N,x,w,_,k,E,A,W,G,L,K;return W=new bt({props:{status:t[4]}}),{c(){e=v("main"),n=v("div"),s=v("div"),i=v("fieldset"),r=v("legend"),r.textContent="Your Username:",a=I(),l=v("input"),c=I(),u=v("button"),d=g("Change"),b=I(),R=v("fieldset"),S=v("legend"),S.innerHTML='Change Username: <span class="viprequired">(Admin Only)</span>',y=I(),C=v("input"),N=I(),x=v("input"),w=I(),_=v("button"),k=g("Update"),A=I(),j(W.$$.fragment),U(l,"type","text"),U(l,"placeholder","Username..."),u.disabled=h=0==t[0].length,U(C,"type","text"),U(C,"placeholder","Target UUID..."),U(x,"type","text"),U(x,"placeholder","Username..."),_.disabled=E=!t[3]||0===t[1].length,U(s,"class","form svelte-1fvbh90"),O(s,"working",t[4]===$t.WORKING),U(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(s,i),f(i,r),f(i,a),f(i,l),D(l,t[0]),f(i,c),f(i,u),f(u,d),f(s,b),f(s,R),f(R,S),f(R,y),f(R,C),D(C,t[2]),f(R,N),f(R,x),D(x,t[1]),f(R,w),f(R,_),f(_,k),f(n,A),Z(W,n,null),G=!0,L||(K=[$(l,"input",t[8]),$(u,"click",t[9]),$(C,"input",t[10]),$(C,"input",t[11]),$(x,"input",t[12]),$(_,"click",t[13])],L=!0)},p(t,[e]){1&e&&l.value!==t[0]&&D(l,t[0]),(!G||1&e&&h!==(h=0==t[0].length))&&(u.disabled=h),4&e&&C.value!==t[2]&&D(C,t[2]),2&e&&x.value!==t[1]&&D(x,t[1]),(!G||10&e&&E!==(E=!t[3]||0===t[1].length))&&(_.disabled=E),16&e&&O(s,"working",t[4]===$t.WORKING);const n={};16&e&&(n.status=t[4]),W.$set(n)},i(t){G||(H(W.$$.fragment,t),G=!0)},o(t){M(W.$$.fragment,t),G=!1},d(t){t&&m(e),Y(W),L=!1,o(K)}}}function ne(t,e,n){let s,o;c(t,et,t=>n(5,s=t)),c(t,nt,t=>n(14,o=t));let i="",r="",a="",l=!1,u=$t.IDLE;async function f(t,e,o){n(4,u=$t.WORKING);const i=new URLSearchParams;i.set("userID",t),i.set("username",e),o&&i.set("adminUserID",o);const r=await fetch(`${s.sponsorBlockApi}/api/setUsername?${i}`,{method:"POST"});200===r.status&&n(4,u=$t.SUCCESS),400===r.status&&n(4,u=$t.ERROR_INVALID),403===r.status&&n(4,u=$t.ERROR_UNAUTHORIZED)}async function p(){n(0,i=await async function(){n(4,u=$t.WORKING);const t=await fetch(`${s.sponsorBlockApi}/api/getUsername?userID=${s.privateUUID}`);if(200===t.status){const e=await t.json();return n(4,u=$t.SUCCESS),e.userName}return 400===t&&n(4,u=$t.ERROR_INVALID),403===t&&n(4,u=$t.ERROR_UNAUTHORIZED),""}()),d(nt,o.username=i,o),d(nt,o.username_time=Date.now(),o)}x(async t=>{"username"in o&&o.username_time+6e5>Date.now()?n(0,i=o.username):await p()});return[i,r,a,l,u,s,f,p,function(){i=this.value,n(0,i)},async t=>{await f(s.privateUUID,i),await p()},function(){a=this.value,n(2,a)},t=>{n(3,l=St(a))},function(){r=this.value,n(1,r)},t=>{f(a,r,s.privateUUID)}]}class se extends Q{constructor(t){super(),J(this,t,ne,ee,r,{})}}function oe(t){let e,n,s,i,r,a,l,c,u,d,h,b,R,S,y,C,N,x,w,_,k,E,A,W,G,L,K;return W=new bt({props:{status:t[2]}}),{c(){e=v("main"),n=v("div"),s=v("p"),s.textContent="Only admins can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Add/Remove VIP",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="User UUID:",h=v("br"),b=I(),R=v("input"),S=I(),y=v("div"),C=v("button"),N=g("Remove"),w=I(),_=v("button"),k=g("Add"),A=I(),j(W.$$.fragment),U(s,"class","viprequired"),U(d,"for","uuid"),U(R,"id","uuid"),U(R,"type","text"),U(R,"size","64"),U(R,"placeholder","Users UUID..."),C.disabled=x=!t[1],_.disabled=E=!t[1],U(y,"class","actions"),U(c,"class","form svelte-1izyxq"),O(c,"working",t[2]===$t.WORKING),U(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,h),f(u,b),f(u,R),D(R,t[0]),f(c,S),f(c,y),f(y,C),f(C,N),f(y,w),f(y,_),f(_,k),f(n,A),Z(W,n,null),G=!0,L||(K=[$(R,"input",t[5]),$(C,"click",t[4]),$(_,"click",t[3])],L=!0)},p(t,[e]){1&e&&R.value!==t[0]&&D(R,t[0]),(!G||2&e&&x!==(x=!t[1]))&&(C.disabled=x),(!G||2&e&&E!==(E=!t[1]))&&(_.disabled=E),4&e&&O(c,"working",t[2]===$t.WORKING);const n={};4&e&&(n.status=t[2]),W.$set(n)},i(t){G||(H(W.$$.fragment,t),G=!0)},o(t){M(W.$$.fragment,t),G=!1},d(t){t&&m(e),Y(W),L=!1,o(K)}}}function ie(t,e,n){let s;c(t,et,t=>n(6,s=t));let o="",i=!1,r=$t.IDLE;async function a(t="add"){n(2,r=$t.WORKING);const e=new URLSearchParams;e.set("adminUserID",s.privateUUID),e.set("userID",o),e.set("enabled",("add"===t).toString());const i=await fetch(`${s.sponsorBlockApi}/api/addUserAsVIP?${e}`,{method:"post"}).then((function(t){return t.status}));200===i&&n(2,r=$t.SUCCESS),400===i&&n(2,r=$t.ERROR_INVALID),403===i&&n(2,r=$t.ERROR_UNAUTHORIZED)}return t.$$.update=()=>{1&t.$$.dirty&&n(1,i=St(o))},[o,i,r,function(){a("add")},function(){a("remove")},function(){o=this.value,n(0,o)}]}class re extends Q{constructor(t){super(),J(this,t,ie,oe,r,{})}}function ae(n){let s,i,r,a=[{type:"text"},{placeholder:"VideoID or URL..."},n[1]],l={};for(let t=0;t<a.length;t+=1)l=e(l,a[t]);return{c(){s=v("input"),b(s,l)},m(t,e){var o;p(t,s,e),D(s,n[0]),i||(r=[$(s,"input",n[2]),$(s,"paste",(o=n[3],function(t){return t.preventDefault(),o.call(this,t)}))],i=!0)},p(t,[e]){b(s,l=function(t,e){const n={},s={},o={$$scope:1};let i=t.length;for(;i--;){const r=t[i],a=e[i];if(a){for(const t in r)t in a||(s[t]=1);for(const t in a)o[t]||(n[t]=a[t],o[t]=1);t[i]=a}else for(const t in r)o[t]=1}for(const t in s)t in n||(n[t]=void 0);return n}(a,[{type:"text"},{placeholder:"VideoID or URL..."},2&e&&t[1]])),1&e&&s.value!==t[0]&&D(s,t[0])},i:t,o:t,d(t){t&&m(s),i=!1,o(r)}}}function le(t,n,s){let{value:o=""}=n;return t.$$set=t=>{s(1,n=e(e({},n),u(t))),"value"in t&&s(0,o=t.value)},n=u(n),[o,n,function(){o=this.value,s(0,o)},t=>s(0,o=function(t){if(t.startsWith("http"))try{const e=new URL(t);if(e.searchParams.has("v"))return e.searchParams.get("v");if("youtu.be"===e.host)return e.pathname.substring(1);if("sb.ltn.fi"===e.host)if(e.pathname.includes("/video/")){const t=e.pathname.split("/"),n=t.indexOf("video"),s=n+1;if(-1!==n&&t.length-1>=s)return t[s]}else if(e.searchParams.has("videoid"))return e.searchParams.get("videoid")}catch(e){console.error("Failed to parse URL",t,e)}return t}(t?.clipboardData?.getData("text")))]}class ce extends Q{constructor(t){super(),J(this,t,le,ae,r,{value:0})}}function ue(t,e,n){const s=t.slice();return s[13]=e[n],s[15]=n,s}function de(t){let e,n,s,o,i,r,a,l,c,u,d,h=Lt[t[15]]+"";return{c(){e=v("div"),n=v("input"),i=I(),r=v("label"),a=g(h),c=I(),U(n,"id",s="category_"+t[13]),U(n,"type","checkbox"),n.__value=o=t[13],n.value=n.__value,t[8][0].push(n),U(r,"for",l="category_"+t[13]),U(e,"class","category-option svelte-189x8jq")},m(s,o){p(s,e,o),f(e,n),n.checked=~t[0].indexOf(n.__value),f(e,i),f(e,r),f(r,a),f(e,c),u||(d=$(n,"change",t[7]),u=!0)},p(t,e){1&e&&(n.checked=~t[0].indexOf(n.__value))},d(s){s&&m(e),t[8][0].splice(t[8][0].indexOf(n),1),u=!1,d()}}}function fe(t){let e,n,s,i,r,a,l,c,u,d,b,R,S,y,C,N,x,w,k,E,A,W,G,K,P,T,V,q,B,F,J,Q,X,tt,et,nt,st,ot,it,rt;function at(e){t[6].call(null,e)}let lt={id:"videoid"};void 0!==t[1]&&(lt.value=t[1]),S=new ce({props:lt}),_.push(()=>z(S,"value",at));let ct=Gt,ut=[];for(let e=0;e<ct.length;e+=1)ut[e]=de(ue(t,ct,e));return st=new bt({props:{status:t[2]}}),{c(){e=v("main"),n=v("div"),s=v("p"),s.textContent="Only users with VIP status can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Lock categories",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="VideoID:",b=v("br"),R=I(),j(S.$$.fragment),C=I(),N=v("div"),x=v("div"),x.textContent="Categories:",w=I();for(let t=0;t<ut.length;t+=1)ut[t].c();k=I(),E=v("div"),A=v("label"),A.textContent="Lock Reason:",W=v("br"),G=I(),K=v("textarea"),P=I(),T=v("div"),V=v("button"),V.textContent="Check all",q=I(),B=v("button"),F=g("Unlock"),Q=I(),X=v("button"),tt=g("Lock"),nt=I(),j(st.$$.fragment),U(s,"class","viprequired"),U(d,"for","videoid"),U(A,"for","reason"),U(K,"id","reason"),U(K,"cols","80"),U(K,"rows","3"),U(K,"placeholder","Reason..."),B.disabled=J=0===t[1].length||0===t[0].length||t[2]===$t.WORKING,X.disabled=et=0===t[1].length||0===t[0].length||t[2]===$t.WORKING,U(T,"class","actions"),U(c,"class","form svelte-189x8jq"),O(c,"working",t[2]===$t.WORKING),U(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,b),f(u,R),Z(S,u,null),f(c,C),f(c,N),f(N,x),f(N,w);for(let t=0;t<ut.length;t+=1)ut[t].m(N,null);f(c,k),f(c,E),f(E,A),f(E,W),f(E,G),f(E,K),D(K,t[3]),f(c,P),f(c,T),f(T,V),f(T,q),f(T,B),f(B,F),f(T,Q),f(T,X),f(X,tt),f(n,nt),Z(st,n,null),ot=!0,it||(rt=[$(K,"input",t[9]),$(V,"click",t[5]),$(B,"click",t[10]),$(X,"click",t[11])],it=!0)},p(t,[e]){const n={};if(!y&&2&e&&(y=!0,n.value=t[1],L(()=>y=!1)),S.$set(n),1&e){let n;for(ct=Gt,n=0;n<ct.length;n+=1){const s=ue(t,ct,n);ut[n]?ut[n].p(s,e):(ut[n]=de(s),ut[n].c(),ut[n].m(N,null))}for(;n<ut.length;n+=1)ut[n].d(1);ut.length=ct.length}8&e&&D(K,t[3]),(!ot||7&e&&J!==(J=0===t[1].length||0===t[0].length||t[2]===$t.WORKING))&&(B.disabled=J),(!ot||7&e&&et!==(et=0===t[1].length||0===t[0].length||t[2]===$t.WORKING))&&(X.disabled=et),4&e&&O(c,"working",t[2]===$t.WORKING);const s={};4&e&&(s.status=t[2]),st.$set(s)},i(t){ot||(H(S.$$.fragment,t),H(st.$$.fragment,t),ot=!0)},o(t){M(S.$$.fragment,t),M(st.$$.fragment,t),ot=!1},d(t){t&&m(e),Y(S),h(ut,t),Y(st),it=!1,o(rt)}}}function pe(t,e,n){let s;c(t,et,t=>n(12,s=t));let o=[],i="",r=$t.IDLE,a="";async function l(t=!0){n(2,r=$t.WORKING);const e={};e.videoID=i,e.userID=s.privateUUID,e.reason=a,e.categories=o;const l=await fetch(s.sponsorBlockApi+"/api/lockCategories",{method:t?"post":"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.status}));200===l&&(n(2,r=$t.SUCCESS),n(1,i=""),n(3,a=""),n(0,o=[])),400===l&&n(2,r=$t.ERROR_INVALID),403===l&&n(2,r=$t.ERROR_UNAUTHORIZED)}const u=[[]];return[o,i,r,a,l,function(){0===o.length?n(0,o=[...Gt]):n(0,o=[])},function(t){i=t,n(1,i)},function(){o=R(u[0],this.__value,this.checked),n(0,o)},u,function(){a=this.value,n(3,a)},t=>l(!1),t=>l(!0)]}class me extends Q{constructor(t){super(),J(this,t,pe,fe,r,{})}}function he(t){let e,n,s,i,r,a,l,c,u,d,h,b,R,S,y,C,N,x,w,_,k,E,A,W,G,L,K,P,T,V,q,B,z;return V=new bt({props:{status:t[3]}}),{c(){e=v("main"),n=v("div"),s=v("p"),s.textContent="Only users with VIP status can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Warn user:",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="User UUID:",h=v("br"),b=I(),R=v("input"),S=I(),y=v("div"),C=v("label"),C.textContent="Warn Reason:",N=v("br"),x=I(),w=v("textarea"),_=I(),k=v("div"),E=v("button"),A=g("Unwarn"),G=I(),L=v("button"),K=g("Warn"),T=I(),j(V.$$.fragment),U(s,"class","viprequired"),U(d,"for","uuid"),U(R,"id","uuid"),U(R,"type","text"),U(R,"size","64"),U(R,"placeholder","User UUID..."),U(C,"for","reason"),U(w,"id","reason"),U(w,"cols","80"),U(w,"rows","3"),U(w,"placeholder","Reason..."),U(E,"type","button"),E.disabled=W=!t[1],U(L,"type","button"),L.disabled=P=!t[1],U(k,"class","actions"),U(c,"class","form svelte-1izyxq"),O(c,"working",t[3]===$t.WORKING),U(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,h),f(u,b),f(u,R),D(R,t[0]),f(c,S),f(c,y),f(y,C),f(y,N),f(y,x),f(y,w),D(w,t[2]),f(c,_),f(c,k),f(k,E),f(E,A),f(k,G),f(k,L),f(L,K),f(n,T),Z(V,n,null),q=!0,B||(z=[$(R,"input",t[5]),$(R,"input",t[6]),$(w,"input",t[7]),$(E,"click",t[8]),$(L,"click",t[9])],B=!0)},p(t,[e]){1&e&&R.value!==t[0]&&D(R,t[0]),4&e&&D(w,t[2]),(!q||2&e&&W!==(W=!t[1]))&&(E.disabled=W),(!q||2&e&&P!==(P=!t[1]))&&(L.disabled=P),8&e&&O(c,"working",t[3]===$t.WORKING);const n={};8&e&&(n.status=t[3]),V.$set(n)},i(t){q||(H(V.$$.fragment,t),q=!0)},o(t){M(V.$$.fragment,t),q=!1},d(t){t&&m(e),Y(V),B=!1,o(z)}}}function ve(t,e,n){let s;c(t,et,t=>n(10,s=t));let o="",i=!1,r="",a=$t.IDLE;async function l(t="warn"){n(3,a=$t.WORKING);const e={};e.issuerUserID=s.privateUUID,e.userID=o,e.reason=r,e.enabled="warn"===t;const l=await fetch(s.sponsorBlockApi+"/api/warnUser",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.status}));200===l&&(n(3,a=$t.SUCCESS),n(0,o=""),n(1,i=!1),n(2,r="")),400===l&&n(3,a=$t.ERROR_INVALID),403===l&&n(3,a=$t.ERROR_UNAUTHORIZED),409===l&&n(3,a=$t.DUPLICATE)}return[o,i,r,a,l,function(){o=this.value,n(0,o)},t=>{n(1,i=St(o))},function(){r=this.value,n(2,r)},t=>{l("unwarn")},t=>{l("warn")}]}class ge extends Q{constructor(t){super(),J(this,t,ve,he,r,{})}}function Ie(t){let e,n,s,i,r,a,l,c,u,d,h,b,R,S,D,y,C,N,x,w,k,E,A,W,G,K,P,T;function V(e){t[4].call(null,e)}let q={id:"videoid"};return void 0!==t[0]&&(q.value=t[0]),R=new ce({props:q}),_.push(()=>z(R,"value",V)),G=new bt({props:{status:t[1]}}),{c(){e=v("main"),n=v("div"),s=v("p"),s.textContent="Only users with VIP status can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Clear cache / Purge all segments",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="VideoID:",h=v("br"),b=I(),j(R.$$.fragment),D=I(),y=v("div"),C=v("button"),N=g("Clear cache"),w=I(),k=v("button"),E=g("Purge all\n            segments"),W=I(),j(G.$$.fragment),U(s,"class","viprequired"),U(d,"for","videoid"),C.disabled=x=0===t[0].length||t[1]===$t.WORKING,k.disabled=A=0===t[0].length||t[1]===$t.WORKING,U(y,"class","actions"),U(c,"class","form svelte-1izyxq"),O(c,"working",t[1]===$t.WORKING),U(n,"class","container")},m(o,m){p(o,e,m),f(e,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,h),f(u,b),Z(R,u,null),f(c,D),f(c,y),f(y,C),f(C,N),f(y,w),f(y,k),f(k,E),f(n,W),Z(G,n,null),K=!0,P||(T=[$(C,"click",t[5]),$(k,"click",t[6])],P=!0)},p(t,[e]){const n={};!S&&1&e&&(S=!0,n.value=t[0],L(()=>S=!1)),R.$set(n),(!K||3&e&&x!==(x=0===t[0].length||t[1]===$t.WORKING))&&(C.disabled=x),(!K||3&e&&A!==(A=0===t[0].length||t[1]===$t.WORKING))&&(k.disabled=A),2&e&&O(c,"working",t[1]===$t.WORKING);const s={};2&e&&(s.status=t[1]),G.$set(s)},i(t){K||(H(R.$$.fragment,t),H(G.$$.fragment,t),K=!0)},o(t){M(R.$$.fragment,t),M(G.$$.fragment,t),K=!1},d(t){t&&m(e),Y(R),Y(G),P=!1,o(T)}}}function $e(t,e,n){let s;c(t,et,t=>n(7,s=t));let o="",i=$t.IDLE;async function r(t=!0){n(1,i=$t.WORKING);const e=new URLSearchParams;e.set("videoID",o),e.set("userID",s.privateUUID);const r=await fetch(`${s.sponsorBlockApi}/api/clearCache?${e}`,{method:"POST"}).then((function(t){return t.status}));200===r&&(n(1,i=$t.SUCCESS),n(0,o="")),400===r&&n(1,i=$t.ERROR_INVALID),403===r&&n(1,i=$t.ERROR_UNAUTHORIZED)}async function a(){n(1,i=$t.WORKING);const t={};t.videoID=o,t.userID=s.privateUUID;const e=await fetch(s.sponsorBlockApi+"/api/purgeAllSegments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.status}));200===e&&(n(1,i=$t.SUCCESS),n(0,o="")),400===e&&n(1,i=$t.ERROR_INVALID),403===e&&n(1,i=$t.ERROR_UNAUTHORIZED)}return[o,i,r,a,function(t){o=t,n(0,o)},t=>r(),t=>a()]}class Ue extends Q{constructor(t){super(),J(this,t,$e,Ie,r,{})}}function be(t){let e,n,s,i,r,a,l;e=new ot({}),s=new ct({props:{items:t[1],clickHandler:t[2],selected:t[0]}});var c=t[0];return c&&(r=new c({})),{c(){j(e.$$.fragment),n=I(),j(s.$$.fragment),i=I(),r&&j(r.$$.fragment),a=g("")},m(t,o){Z(e,t,o),p(t,n,o),Z(s,t,o),p(t,i,o),r&&Z(r,t,o),p(t,a,o),l=!0},p(t,[e]){const n={};if(1&e&&(n.selected=t[0]),s.$set(n),c!==(c=t[0])){if(r){B={r:0,c:[],p:B};const t=r;M(t.$$.fragment,1,0,()=>{Y(t,1)}),B.r||o(B.c),B=B.p}c?(r=new c({}),j(r.$$.fragment),H(r.$$.fragment,1),Z(r,a.parentNode,a)):r=null}},i(t){l||(H(e.$$.fragment,t),H(s.$$.fragment,t),r&&H(r.$$.fragment,t),l=!0)},o(t){M(e.$$.fragment,t),M(s.$$.fragment,t),r&&M(r.$$.fragment,t),l=!1},d(t){Y(e,t),t&&m(n),Y(s,t),t&&m(i),t&&m(a),r&&Y(r,t)}}}function Re(t,e,n){const s=[{name:"Home",component:Wt,uuidRequired:!1},{name:"Username",component:se,uuidRequired:!0},{name:"Stats",component:zt,uuidRequired:!1},{name:"Vote on segment",component:Yt,uuidRequired:!0},{name:"Category change",component:te,uuidRequired:!0},{name:"Lock categories",component:me,uuidRequired:!0},{name:"Add/Remove Shadow ban",component:qt,uuidRequired:!0},{name:"Warn user",component:ge,uuidRequired:!0},{name:"Clear cache / Purge segments",component:Ue,uuidRequired:!0},{name:"Add/Remove VIP",component:re,uuidRequired:!0}];let o=s[0].component;return[o,s,function(t){const e=s.find(e=>e.name===t);e&&n(0,o=e.component)}]}return new class extends Q{constructor(t){super(),J(this,t,Re,be,r,{})}}({target:document.body})}();
