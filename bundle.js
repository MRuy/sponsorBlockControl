var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function s(){return Object.create(null)}function o(e){e.forEach(n)}function i(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function a(t,...n){if(null==t)return e;const s=t.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function l(e){let t;return a(e,e=>t=e)(),t}function c(e,t,n){e.$$.on_destroy.push(a(t,n))}function u(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function d(e,t,n=t){return e.set(n),t}function f(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function m(e){e.parentNode.removeChild(e)}function h(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function v(e){return document.createElement(e)}function g(e){return document.createTextNode(e)}function I(){return g(" ")}function U(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function $(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function b(e,t){const n=Object.getOwnPropertyDescriptors(e.__proto__);for(const s in t)null==t[s]?e.removeAttribute(s):"style"===s?e.style.cssText=t[s]:"__value"===s?e.value=e[s]=t[s]:n[s]&&n[s].set?e[s]=t[s]:$(e,s,t[s])}function R(e,t,n){const s=new Set;for(let t=0;t<e.length;t+=1)e[t].checked&&s.add(e[t].__value);return n||s.delete(t),Array.from(s)}function y(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function S(e,t){e.value=null==t?"":t}function D(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}}function O(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function w(e,t,n){e.classList[n?"add":"remove"](t)}let C;function k(e){C=e}function x(e){(function(){if(!C)throw new Error("Function called outside component initialization");return C})().$$.on_mount.push(e)}const N=[],_=[],E=[],A=[],W=Promise.resolve();let G=!1;function L(e){E.push(e)}function P(e){A.push(e)}let K=!1;const T=new Set;function V(){if(!K){K=!0;do{for(let e=0;e<N.length;e+=1){const t=N[e];k(t),q(t.$$)}for(N.length=0;_.length;)_.pop()();for(let e=0;e<E.length;e+=1){const t=E[e];T.has(t)||(T.add(t),t())}E.length=0}while(N.length);for(;A.length;)A.pop()();G=!1,K=!1,T.clear()}}function q(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(L)}}const B=new Set;let H;function z(e,t){e&&e.i&&(B.delete(e),e.i(t))}function M(e,t,n,s){if(e&&e.o){if(B.has(e))return;B.add(e),H.c.push(()=>{B.delete(e),s&&(n&&e.d(1),s())}),e.o(t)}}function j(e,t,n){const s=e.$$.props[t];void 0!==s&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function Z(e){e&&e.c()}function F(e,t,s){const{fragment:r,on_mount:a,on_destroy:l,after_update:c}=e.$$;r&&r.m(t,s),L(()=>{const t=a.map(n).filter(i);l?l.push(...t):o(t),e.$$.on_mount=[]}),c.forEach(L)}function Y(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function J(e,t){-1===e.$$.dirty[0]&&(N.push(e),G||(G=!0,W.then(V)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Q(t,n,i,r,a,l,c=[-1]){const u=C;k(t);const d=n.props||{},f=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:a,bound:s(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:s(),dirty:c,skip_bound:!1};let p=!1;if(f.ctx=i?i(t,d,(e,n,...s)=>{const o=s.length?s[0]:n;return f.ctx&&a(f.ctx[e],f.ctx[e]=o)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](o),p&&J(t,e)),n}):[],f.update(),p=!0,o(f.before_update),f.fragment=!!r&&r(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(m)}else f.fragment&&f.fragment.c();n.intro&&z(t.$$.fragment),F(t,n.target,n.anchor),V()}k(u)}class X{$destroy(){Y(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ee=[];function te(t,n){const s=function(t,n=e){let s;const o=[];function i(e){if(r(t,e)&&(t=e,s)){const e=!ee.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),ee.push(n,t)}if(e){for(let e=0;e<ee.length;e+=2)ee[e][0](ee[e+1]);ee.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(r,a=e){const l=[r,a];return o.push(l),1===o.length&&(s=n(i)||e),r(t),()=>{const e=o.indexOf(l);-1!==e&&o.splice(e,1),0===o.length&&(s(),s=null)}}}}(n),{subscribe:o,set:i}=s,a="undefined"!=typeof localStorage?localStorage.getItem(t):null;return a&&i(JSON.parse(a)),{set(e){"undefined"!=typeof localStorage&&localStorage.setItem(t,JSON.stringify(e)),i(e)},update(e){const t=e(l(s));this.set(t)},subscribe:o}}const ne=te("config",{privateUUID:"",sponsorBlockApi:"https://sponsor.ajay.app",showPrivateUUID:!1}),se=te("cache",{});function oe(t){let n;return{c(){n=v("header"),n.innerHTML='<img src="favicon.png" width="64" height="64" alt="Logo" class="svelte-qh2uac"> SponsorBlockControl\n  <sup class="svelte-qh2uac"><a href="https://github.com/MRuy/sponsorBlockControl#readme" class="svelte-qh2uac">(v1.0.4)</a></sup>',$(n,"class","svelte-qh2uac")},m(e,t){p(e,n,t)},p:e,i:e,o:e,d(e){e&&m(n)}}}class ie extends X{constructor(e){super(),Q(this,e,null,oe,r,{})}}function re(e,t,n){const s=e.slice();return s[5]=t[n],s[7]=n,s}function ae(e){let t,n,s,o,i,r,a=e[5].title+"";function l(...t){return e[4](e[5],...t)}return{c(){t=v("button"),n=g(a),s=I(),$(t,"type","button"),t.disabled=o=!0===e[5].uuidRequired&&""===e[3].privateUUID||!1,$(t,"class","svelte-mrs8b4"),w(t,"active",e[2]===e[5].component)},m(e,o){p(e,t,o),f(t,n),f(t,s),i||(r=U(t,"click",l),i=!0)},p(s,i){e=s,1&i&&a!==(a=e[5].title+"")&&y(n,a),9&i&&o!==(o=!0===e[5].uuidRequired&&""===e[3].privateUUID||!1)&&(t.disabled=o),5&i&&w(t,"active",e[2]===e[5].component)},d(e){e&&m(t),i=!1,r()}}}function le(t){let n,s=t[0],o=[];for(let e=0;e<s.length;e+=1)o[e]=ae(re(t,s,e));return{c(){n=v("nav");for(let e=0;e<o.length;e+=1)o[e].c();$(n,"class","svelte-mrs8b4")},m(e,t){p(e,n,t);for(let e=0;e<o.length;e+=1)o[e].m(n,null)},p(e,[t]){if(15&t){let i;for(s=e[0],i=0;i<s.length;i+=1){const r=re(e,s,i);o[i]?o[i].p(r,t):(o[i]=ae(r),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}},i:e,o:e,d(e){e&&m(n),h(o,e)}}}function ce(e,t,n){let s;c(e,ne,e=>n(3,s=e));let{items:o=[]}=t,{clickHandler:i}=t,{selected:r}=t;return e.$$set=e=>{"items"in e&&n(0,o=e.items),"clickHandler"in e&&n(1,i=e.clickHandler),"selected"in e&&n(2,r=e.selected)},[o,i,r,s,(e,t)=>{i(e.name)}]}class ue extends X{constructor(e){super(),Q(this,e,ce,le,r,{items:0,clickHandler:1,selected:2})}}function de(e){let t;return{c(){t=g("Ready!")},m(e,n){p(e,t,n)},d(e){e&&m(t)}}}function fe(e){let t,n;return{c(){t=v("div"),n=g("\n    Sending request..."),$(t,"class","lds-dual-ring svelte-kuvmdh")},m(e,s){p(e,t,s),p(e,n,s)},d(e){e&&m(t),e&&m(n)}}}function pe(e){let t;return{c(){t=g("Done. Success!")},m(e,n){p(e,t,n)},d(e){e&&m(t)}}}function me(e){let t;return{c(){t=v("span"),t.textContent="Bad Request (Your inputs are wrong/impossible)",$(t,"class","error svelte-kuvmdh")},m(e,n){p(e,t,n)},d(e){e&&m(t)}}}function he(e){let t;return{c(){t=v("span"),t.textContent="Error. You are not allowed to do that!",$(t,"class","error svelte-kuvmdh")},m(e,n){p(e,t,n)},d(e){e&&m(t)}}}function ve(e){let t;return{c(){t=v("span"),t.textContent="Error: Duplicate",$(t,"class","error svelte-kuvmdh")},m(e,n){p(e,t,n)},d(e){e&&m(t)}}}function ge(e){let t;return{c(){t=v("span"),t.textContent="Error: Not found!",$(t,"class","error svelte-kuvmdh")},m(e,n){p(e,t,n)},d(e){e&&m(t)}}}function Ie(e){let t;return{c(){t=g("(Private UUID required)")},m(e,n){p(e,t,n)},d(e){e&&m(t)}}}function Ue(t){let n,s,o,i,r,a,l,c,u,d=t[0]==$e.IDLE&&de(),h=t[0]==$e.WORKING&&fe(),U=t[0]==$e.SUCCESS&&pe(),b=t[0]==$e.ERROR_INVALID&&me(),R=t[0]==$e.ERROR_UNAUTHORIZED&&he(),y=t[0]==$e.DUPLICATE&&ve(),S=t[0]==$e.NOT_FOUND&&ge(),D=t[0]==$e.PRIVATEUUID_MISSING&&Ie();return{c(){n=v("div"),s=g("Status: "),d&&d.c(),o=I(),h&&h.c(),i=I(),U&&U.c(),r=I(),b&&b.c(),a=I(),R&&R.c(),l=I(),y&&y.c(),c=I(),S&&S.c(),u=I(),D&&D.c(),$(n,"class","status")},m(e,t){p(e,n,t),f(n,s),d&&d.m(n,null),f(n,o),h&&h.m(n,null),f(n,i),U&&U.m(n,null),f(n,r),b&&b.m(n,null),f(n,a),R&&R.m(n,null),f(n,l),y&&y.m(n,null),f(n,c),S&&S.m(n,null),f(n,u),D&&D.m(n,null)},p(e,[t]){e[0]==$e.IDLE?d||(d=de(),d.c(),d.m(n,o)):d&&(d.d(1),d=null),e[0]==$e.WORKING?h||(h=fe(),h.c(),h.m(n,i)):h&&(h.d(1),h=null),e[0]==$e.SUCCESS?U||(U=pe(),U.c(),U.m(n,r)):U&&(U.d(1),U=null),e[0]==$e.ERROR_INVALID?b||(b=me(),b.c(),b.m(n,a)):b&&(b.d(1),b=null),e[0]==$e.ERROR_UNAUTHORIZED?R||(R=he(),R.c(),R.m(n,l)):R&&(R.d(1),R=null),e[0]==$e.DUPLICATE?y||(y=ve(),y.c(),y.m(n,c)):y&&(y.d(1),y=null),e[0]==$e.NOT_FOUND?S||(S=ge(),S.c(),S.m(n,u)):S&&(S.d(1),S=null),e[0]==$e.PRIVATEUUID_MISSING?D||(D=Ie(),D.c(),D.m(n,null)):D&&(D.d(1),D=null)},i:e,o:e,d(e){e&&m(n),d&&d.d(),h&&h.d(),U&&U.d(),b&&b.d(),R&&R.d(),y&&y.d(),S&&S.d(),D&&D.d()}}}const $e={IDLE:Symbol("idle"),WORKING:Symbol("working"),SUCCESS:Symbol("success"),NOT_FOUND:Symbol("error-404"),ERROR_INVALID:Symbol("error-invalid"),ERROR_UNAUTHORIZED:Symbol("error-unauthorized"),DUPLICATE:Symbol("duplicate"),PRIVATEUUID_MISSING:Symbol("private-uuid-missing")};function be(e,t,n){let{status:s}=t;return e.$$set=e=>{"status"in e&&n(0,s=e.status)},[s]}class Re extends X{constructor(e){super(),Q(this,e,be,Ue,r,{status:0})}}const ye=(e,t=!1)=>{const n=Math.floor(e/60/24/365),s=Math.floor(e/60/24)%365,o=Math.floor(e/60)%24;let i="";return i+=""+(n>0?n+(t?" years ":"y "):""),i+=""+(s>0?s+(t?" days ":"d "):""),i+=""+(o>0?o+(t?" hours ":"h "):""),0==n&&(i+=`${(e%60).toFixed(1)}${t?" minutes ":"m "}`),i.trim()},Se=e=>/^[a-f0-9]{64}$/.test(e),De=e=>/^([a-f0-9]{64,65}|[a-f0-9]{8}\-[a-f0-9]{4}\-[a-f0-9]{4}\-[a-f0-9]{4}\-[a-f0-9]{12})$/.test(e);function Oe(e){let t,n,s,o,i,r,a,l,c,u,d,h,U,b,R,S,D,O,C,k,x,N,_=e[2].toLocaleString()+"",E=ye(e[1],!0)+"",A=e[4].toLocaleString()+"",W=!0===e[3]&&we();return{c(){t=g("Hello "),W&&W.c(),n=I(),s=g(e[6]),o=v("br"),i=g("\n    You have saved people from "),r=g(_),a=g(" segments."),l=v("br"),c=g("\n    You have saved people "),u=g(E),d=g(" of their lives."),h=v("br"),U=g("\n    You submitted "),b=g(A),R=g(" segments!"),S=v("br"),D=g("\n    There is currently "),O=v("b"),C=g(e[5]),k=g(" warnings for your UserID ("),x=g(e[7]),N=g(")"),$(O,"class","svelte-xaelew"),w(O,"hasWarnings",e[5]>0)},m(e,m){p(e,t,m),W&&W.m(e,m),p(e,n,m),p(e,s,m),p(e,o,m),p(e,i,m),p(e,r,m),p(e,a,m),p(e,l,m),p(e,c,m),p(e,u,m),p(e,d,m),p(e,h,m),p(e,U,m),p(e,b,m),p(e,R,m),p(e,S,m),p(e,D,m),p(e,O,m),f(O,C),p(e,k,m),p(e,x,m),p(e,N,m)},p(e,t){!0===e[3]?W||(W=we(),W.c(),W.m(n.parentNode,n)):W&&(W.d(1),W=null),64&t&&y(s,e[6]),4&t&&_!==(_=e[2].toLocaleString()+"")&&y(r,_),2&t&&E!==(E=ye(e[1],!0)+"")&&y(u,E),16&t&&A!==(A=e[4].toLocaleString()+"")&&y(b,A),32&t&&y(C,e[5]),32&t&&w(O,"hasWarnings",e[5]>0),128&t&&y(x,e[7])},d(e){e&&m(t),W&&W.d(e),e&&m(n),e&&m(s),e&&m(o),e&&m(i),e&&m(r),e&&m(a),e&&m(l),e&&m(c),e&&m(u),e&&m(d),e&&m(h),e&&m(U),e&&m(b),e&&m(R),e&&m(S),e&&m(D),e&&m(O),e&&m(k),e&&m(x),e&&m(N)}}}function we(e){let t;return{c(){t=g("[VIP]")},m(e,n){p(e,t,n)},d(e){e&&m(t)}}}function Ce(e){let t;return{c(){t=g("Loading...")},m(e,n){p(e,t,n)},d(e){e&&m(t)}}}function ke(e){let t;return{c(){t=g("(Private UUID required)")},m(e,n){p(e,t,n)},d(e){e&&m(t)}}}function xe(t){let n,s,o,i=t[0]==$e.SUCCESS&&Oe(t),r=t[0]==$e.WORKING&&Ce(),a=t[0]==$e.PRIVATEUUID_MISSING&&ke();return{c(){n=v("span"),i&&i.c(),s=I(),r&&r.c(),o=I(),a&&a.c()},m(e,t){p(e,n,t),i&&i.m(n,null),f(n,s),r&&r.m(n,null),f(n,o),a&&a.m(n,null)},p(e,[t]){e[0]==$e.SUCCESS?i?i.p(e,t):(i=Oe(e),i.c(),i.m(n,s)):i&&(i.d(1),i=null),e[0]==$e.WORKING?r||(r=Ce(),r.c(),r.m(n,o)):r&&(r.d(1),r=null),e[0]==$e.PRIVATEUUID_MISSING?a||(a=ke(),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i:e,o:e,d(e){e&&m(n),i&&i.d(),r&&r.d(),a&&a.d()}}}function Ne(e,t,n){let s,o;c(e,se,e=>n(9,s=e)),c(e,ne,e=>n(10,o=e));let{privateUUID:i=""}=t,r=$e.IDLE,a=0,l=0,u=!1,f=0,p=0,m=0,h="";return x((async function(){if(""===i)return void n(0,r=$e.PRIVATEUUID_MISSING);n(0,r=$e.WORKING);let e={};if("userInfo_time"in s&&s.userInfo_time+6e5>Date.now())e=s.userInfo;else{const t=await fetch(`${o.sponsorBlockApi}/api/getUserInfo?userID=${i}`).then(e=>e.json());d(se,s.userInfo_time=Date.now(),s),e={minutesSaved:t.minutesSaved,viewCount:t.viewCount,vip:t.vip,segmentCount:t.segmentCount,warnings:t.warnings,userName:t.userName,userID:t.userID},d(se,s.userInfo=e,s)}n(2,l=e.viewCount),n(1,a=e.minutesSaved),n(3,u=e.vip),n(4,f=e.segmentCount),n(5,p=e.warnings),n(6,m=e.userName),n(7,h=e.userID),n(0,r=$e.SUCCESS)})),e.$$set=e=>{"privateUUID"in e&&n(8,i=e.privateUUID)},[r,a,l,u,f,p,m,h,i]}class _e extends X{constructor(e){super(),Q(this,e,Ne,xe,r,{privateUUID:8})}}function Ee(e){let t;return{c(){t=g("(Set your private UUID!)")},m(e,n){p(e,t,n)},d(e){e&&m(t)}}}function Ae(e){let t,n,s,i,r,a,l,c,u,d,h,b,R,D,O,w,C,k,x,N,_,E,A,W,G,L,P,K,T,V,q,B,H,j,J,Q,X,ee,te,ne,se=e[1]?"Saved!":"Save",oe=e[3]?"Saved!":"Save",ie=""===e[4].privateUUID&&Ee();return X=new _e({props:{privateUUID:e[4].privateUUID}}),{c(){var e,o,f;t=v("main"),n=v("div"),s=v("details"),i=v("summary"),r=g("Settings "),ie&&ie.c(),a=I(),l=v("fieldset"),c=v("legend"),c.textContent="Private userID:",u=I(),d=v("div"),d.innerHTML="<p>Your private userID will only be stored in your Browser and only\n            send to the SponsorBlock API.</p>",h=I(),b=v("div"),R=v("label"),R.textContent="Your private userID:",D=v("br"),O=I(),w=v("input"),k=I(),x=v("div"),N=v("button"),_=g(se),E=I(),A=v("fieldset"),W=v("legend"),W.textContent="API Server:",G=I(),L=v("div"),P=v("label"),P.textContent="SponsorBlock Server:",K=v("br"),T=I(),V=v("input"),q=I(),B=v("div"),H=v("button"),j=g(oe),J=I(),Q=v("p"),Z(X.$$.fragment),$(i,"class","svelte-12iolxf"),$(d,"class","info"),$(R,"for","privateUUID"),$(w,"id","privateUUID"),$(w,"type","text"),$(w,"size","36"),$(w,"pattern",C="^[A-Za-z0-9]36$"),$(w,"spellcheck","false"),$(w,"placeholder","Private UUID"),$(w,"class","svelte-12iolxf"),$(x,"class","actions"),$(l,"class","svelte-12iolxf"),$(P,"for","serveraddr"),$(V,"type","url"),$(V,"id","serveraddr"),$(V,"class","serveraddr svelte-12iolxf"),$(V,"placeholder","https://..."),$(B,"class","actions"),$(A,"class","svelte-12iolxf"),$(s,"class","svelte-12iolxf"),e="width",o="100%",Q.style.setProperty(e,o,f?"important":""),$(n,"class","container")},m(o,m){p(o,t,m),f(t,n),f(n,s),f(s,i),f(i,r),ie&&ie.m(i,null),f(s,a),f(s,l),f(l,c),f(l,u),f(l,d),f(l,h),f(l,b),f(b,R),f(b,D),f(b,O),f(b,w),S(w,e[0]),f(b,k),f(b,x),f(x,N),f(N,_),f(s,E),f(s,A),f(A,W),f(A,G),f(A,L),f(L,P),f(L,K),f(L,T),f(L,V),S(V,e[2]),f(L,q),f(L,B),f(B,H),f(H,j),f(n,J),f(n,Q),F(X,Q,null),ee=!0,te||(ne=[U(w,"input",e[7]),U(N,"click",e[5]),U(V,"input",e[8]),U(H,"click",e[6])],te=!0)},p(e,[t]){""===e[4].privateUUID?ie||(ie=Ee(),ie.c(),ie.m(i,null)):ie&&(ie.d(1),ie=null),1&t&&w.value!==e[0]&&S(w,e[0]),(!ee||2&t)&&se!==(se=e[1]?"Saved!":"Save")&&y(_,se),4&t&&S(V,e[2]),(!ee||8&t)&&oe!==(oe=e[3]?"Saved!":"Save")&&y(j,oe);const n={};16&t&&(n.privateUUID=e[4].privateUUID),X.$set(n)},i(e){ee||(z(X.$$.fragment,e),ee=!0)},o(e){M(X.$$.fragment,e),ee=!1},d(e){e&&m(t),ie&&ie.d(),Y(X),te=!1,o(ne)}}}function We(e,t,n){let s,o;c(e,ne,e=>n(4,s=e)),c(e,se,e=>n(9,o=e));let i=s.privateUUID,r=!1;let a=s.sponsorBlockApi,l=!1;return[i,r,a,l,s,function(e){s.privateUUID!=i&&d(se,o={}),d(ne,s.privateUUID=i,s),n(1,r=!0),setTimeout(e=>{n(1,r=!1)},3e3)},function(e){d(ne,s.sponsorBlockApi=a,s),n(3,l=!0),setTimeout(e=>{n(3,l=!1)},3e3)},function(){i=this.value,n(0,i)},function(){a=this.value,n(2,a)}]}class Ge extends X{constructor(e){super(),Q(this,e,We,Ae,r,{})}}const Le=["sponsor","selfpromo","interaction","intro","outro","preview","music_offtopic","poi_highlight","filler","exclusive_access"],Pe=["Sponsor","Unpaid/Self Promotion","Interaction Reminder (Subscribe)","Intermission/Intro Animation","Endcards/Credits","Preview/Recap","Music: Non-Music Section","Highlight","Filler Tangent","Exclusive Access"],Ke=["skip","mute","full","poi"],Te=["Skip","Mute","Full Video","Point of Interest"],Ve=[{name:"Chapter",code:0},{name:"Filler Tangent",code:1}];function qe(e,t,n){const s=e.slice();return s[13]=t[n],s[15]=n,s}function Be(e){let t,n,s,o,i,r,a,l,c,u,d,h=Pe[e[15]]+"";return{c(){t=v("div"),n=v("input"),i=I(),r=v("label"),a=g(h),c=I(),$(n,"id",s="category_"+e[13]),$(n,"type","checkbox"),n.__value=o=e[13],n.value=n.__value,e[9][0].push(n),$(r,"for",l="category_"+e[13]),$(t,"class","category-option svelte-1szpcmt")},m(s,o){p(s,t,o),f(t,n),n.checked=~e[2].indexOf(n.__value),f(t,i),f(t,r),f(r,a),f(t,c),u||(d=U(n,"change",e[8]),u=!0)},p(e,t){4&t&&(n.checked=~e[2].indexOf(n.__value))},d(s){s&&m(t),e[9][0].splice(e[9][0].indexOf(n),1),u=!1,d()}}}function He(e){let t,n,s,i,r,a,l,c,u,d,b,R,y,D,O,C,k,x,N,_,E,A,W,G,L,P,K,T,V,q,B,H,j,J,Q,X,ee,te=Le,ne=[];for(let t=0;t<te.length;t+=1)ne[t]=Be(qe(e,te,t));return J=new Re({props:{status:e[4]}}),{c(){t=v("main"),n=v("div"),s=v("p"),s.textContent="Only users with VIP status can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Shadow ban user:",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="User UUID:",b=v("br"),R=I(),y=v("input"),D=I(),O=v("div"),C=v("input"),k=I(),x=v("label"),x.textContent="Hide/Restore old submissions",N=I(),_=v("div"),E=v("div"),E.textContent="Categories to hide:",A=I();for(let e=0;e<ne.length;e+=1)ne[e].c();G=I(),L=v("div"),P=v("button"),K=g("Unban"),V=I(),q=v("button"),B=g("Ban"),j=I(),Z(J.$$.fragment),$(s,"class","viprequired"),$(d,"for","uuid"),$(y,"id","uuid"),$(y,"type","text"),$(y,"size","64"),$(y,"placeholder","Users UUID..."),$(C,"id","hideoldsubmissions"),$(C,"type","checkbox"),$(x,"for","hideoldsubmissions"),$(_,"class","categories-to-hide svelte-1szpcmt"),_.hidden=W=!e[1],$(P,"type","button"),P.disabled=T=!e[3],$(q,"type","button"),q.disabled=H=!e[3],$(L,"class","actions"),$(c,"class","form svelte-1szpcmt"),w(c,"working",e[4]===$e.WORKING),$(n,"class","container")},m(o,m){p(o,t,m),f(t,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,b),f(u,R),f(u,y),S(y,e[0]),f(c,D),f(c,O),f(O,C),C.checked=e[1],f(O,k),f(O,x),f(c,N),f(c,_),f(_,E),f(_,A);for(let e=0;e<ne.length;e+=1)ne[e].m(_,null);f(c,G),f(c,L),f(L,P),f(P,K),f(L,V),f(L,q),f(q,B),f(n,j),F(J,n,null),Q=!0,X||(ee=[U(y,"input",e[6]),U(C,"change",e[7]),U(P,"click",e[10]),U(q,"click",e[11])],X=!0)},p(e,[t]){if(1&t&&y.value!==e[0]&&S(y,e[0]),2&t&&(C.checked=e[1]),4&t){let n;for(te=Le,n=0;n<te.length;n+=1){const s=qe(e,te,n);ne[n]?ne[n].p(s,t):(ne[n]=Be(s),ne[n].c(),ne[n].m(_,null))}for(;n<ne.length;n+=1)ne[n].d(1);ne.length=te.length}(!Q||2&t&&W!==(W=!e[1]))&&(_.hidden=W),(!Q||8&t&&T!==(T=!e[3]))&&(P.disabled=T),(!Q||8&t&&H!==(H=!e[3]))&&(q.disabled=H),16&t&&w(c,"working",e[4]===$e.WORKING);const n={};16&t&&(n.status=e[4]),J.$set(n)},i(e){Q||(z(J.$$.fragment,e),Q=!0)},o(e){M(J.$$.fragment,e),Q=!1},d(e){e&&m(t),h(ne,e),Y(J),X=!1,o(ee)}}}function ze(e,t,n){let s;c(e,ne,e=>n(12,s=e));let o="",i=!0,r=[...Le],a=!1,l=$e.IDLE;async function u(e="ban"){n(4,l=$e.WORKING);const t=new URLSearchParams;t.set("adminUserID",s.privateUUID),t.set("userID",o),t.set("enabled",("ban"===e).toString()),t.set("unHideOldSubmissions",i.toString()),t.set("categories",JSON.stringify(r));const a=await fetch(`${s.sponsorBlockApi}/api/shadowBanUser?${t}`,{method:"post"}).then((function(e){return e.status}));200===a&&n(4,l=$e.SUCCESS),400===a&&n(4,l=$e.ERROR_INVALID),403===a&&n(4,l=$e.ERROR_UNAUTHORIZED)}const d=[[]];return e.$$.update=()=>{1&e.$$.dirty&&n(3,a=Se(o))},[o,i,r,a,l,u,function(){o=this.value,n(0,o)},function(){i=this.checked,n(1,i)},function(){r=R(d[0],this.__value,this.checked),n(2,r)},d,e=>{u("unban")},e=>{u("ban")}]}class Me extends X{constructor(e){super(),Q(this,e,ze,He,r,{})}}function je(e){let t,n,s,o,i,r,a,l,c,u,d,h,b,R,S,D,O,w,C,k,x,N,_,E,A,W,G,L,P,K,T,V,q,B=e[1].apiUsers.toLocaleString()+"",H=e[1].viewCount.toLocaleString()+"",z=e[1].totalSubmissions.toLocaleString()+"",M=ye(e[1].minutesSaved,!0)+"";return{c(){t=v("table"),n=v("tbody"),s=v("tr"),o=v("th"),o.textContent="API Users:",i=I(),r=v("td"),a=g(B),l=I(),c=v("tr"),u=v("th"),u.textContent="Skip Count:",d=I(),h=v("td"),b=g(H),R=g(" skips"),S=I(),D=v("tr"),O=v("th"),O.textContent="Submissions:",w=I(),C=v("td"),k=g(z),x=I(),N=v("tr"),_=v("th"),_.textContent="Time Saved:",E=I(),A=v("td"),W=g(M),G=I(),L=v("div"),P=v("button"),K=g("Refresh"),$(o,"class","svelte-aon4oy"),$(r,"class","svelte-aon4oy"),$(u,"class","svelte-aon4oy"),$(h,"class","svelte-aon4oy"),$(O,"class","svelte-aon4oy"),$(C,"class","svelte-aon4oy"),$(_,"class","svelte-aon4oy"),$(A,"class","svelte-aon4oy"),$(t,"class","stats-table svelte-aon4oy"),P.disabled=T=e[0]===$e.WORKING},m(m,v){p(m,t,v),f(t,n),f(n,s),f(s,o),f(s,i),f(s,r),f(r,a),f(n,l),f(n,c),f(c,u),f(c,d),f(c,h),f(h,b),f(h,R),f(n,S),f(n,D),f(D,O),f(D,w),f(D,C),f(C,k),f(n,x),f(n,N),f(N,_),f(N,E),f(N,A),f(A,W),p(m,G,v),p(m,L,v),f(L,P),f(P,K),V||(q=U(P,"click",e[3]),V=!0)},p(e,t){2&t&&B!==(B=e[1].apiUsers.toLocaleString()+"")&&y(a,B),2&t&&H!==(H=e[1].viewCount.toLocaleString()+"")&&y(b,H),2&t&&z!==(z=e[1].totalSubmissions.toLocaleString()+"")&&y(k,z),2&t&&M!==(M=ye(e[1].minutesSaved,!0)+"")&&y(W,M),1&t&&T!==(T=e[0]===$e.WORKING)&&(P.disabled=T)},d(e){e&&m(t),e&&m(G),e&&m(L),V=!1,q()}}}function Ze(e){let t,n,s,o,i,r=e[1]&&je(e);return o=new Re({props:{status:e[0]}}),{c(){t=v("main"),n=v("div"),r&&r.c(),s=I(),Z(o.$$.fragment),$(n,"class","container")},m(e,a){p(e,t,a),f(t,n),r&&r.m(n,null),f(n,s),F(o,n,null),i=!0},p(e,[t]){e[1]?r?r.p(e,t):(r=je(e),r.c(),r.m(n,s)):r&&(r.d(1),r=null);const i={};1&t&&(i.status=e[0]),o.$set(i)},i(e){i||(z(o.$$.fragment,e),i=!0)},o(e){M(o.$$.fragment,e),i=!1},d(e){e&&m(t),r&&r.d(),Y(o)}}}function Fe(e,t,n){let s,o;c(e,ne,e=>n(4,s=e)),c(e,se,e=>n(5,o=e));let i=$e.IDLE,r={apiUsers:0,userCount:0,viewCount:0,totalSubmissions:0,minutesSaved:0};async function a(){n(1,r=await async function(){n(0,i=$e.WORKING);const e=await fetch(s.sponsorBlockApi+"/api/getTotalStats").then(e=>e.json());return n(0,i=$e.SUCCESS),e}()),d(se,o.totalstats=r,o),d(se,o.totalstats_time=Date.now(),o)}x(async e=>{"totalstats"in o&&o.totalstats_time+6e5>Date.now()?n(1,r=o.totalstats):await a()});return[i,r,a,async e=>{await a()}]}class Ye extends X{constructor(e){super(),Q(this,e,Fe,Ze,r,{})}}function Je(e){let t,n,s,i,r,a,l,c,u,d,h,b,R,y,D,O,w,C,k,x,N,_,E,A,W,G,L,P,K,T;return L=new Re({props:{status:e[0]}}),{c(){t=v("main"),n=v("div"),s=v("fieldset"),i=v("legend"),i.textContent="Vote on segment",r=I(),a=v("div"),l=v("label"),l.textContent="Segment UUID:",c=v("br"),u=I(),d=v("input"),R=I(),y=v("div"),D=v("button"),O=g("Undo Vote"),C=I(),k=v("button"),x=g("Downvote"),_=I(),E=v("button"),A=g("Upvote"),G=I(),Z(L.$$.fragment),$(l,"for","uuid"),$(d,"id","uuid"),$(d,"type","text"),$(d,"size","64"),$(d,"pattern",h="[a-f0-9]{64}"),$(d,"placeholder","Segment UUID ..."),d.disabled=b=e[0]===$e.WORKING,D.disabled=w=e[0]===$e.WORKING||!e[2]||e[0]===$e.WORKING,k.disabled=N=e[0]===$e.WORKING||!e[2]||e[0]===$e.WORKING,E.disabled=W=e[0]===$e.WORKING||!e[2]||e[0]===$e.WORKING,$(y,"class","actions"),$(n,"class","container")},m(o,m){p(o,t,m),f(t,n),f(n,s),f(s,i),f(s,r),f(s,a),f(a,l),f(a,c),f(a,u),f(a,d),S(d,e[1]),f(s,R),f(s,y),f(y,D),f(D,O),f(y,C),f(y,k),f(k,x),f(y,_),f(y,E),f(E,A),f(n,G),F(L,n,null),P=!0,K||(T=[U(d,"input",e[4]),U(D,"click",e[5]),U(k,"click",e[6]),U(E,"click",e[7])],K=!0)},p(e,[t]){(!P||1&t&&b!==(b=e[0]===$e.WORKING))&&(d.disabled=b),2&t&&d.value!==e[1]&&S(d,e[1]),(!P||5&t&&w!==(w=e[0]===$e.WORKING||!e[2]||e[0]===$e.WORKING))&&(D.disabled=w),(!P||5&t&&N!==(N=e[0]===$e.WORKING||!e[2]||e[0]===$e.WORKING))&&(k.disabled=N),(!P||5&t&&W!==(W=e[0]===$e.WORKING||!e[2]||e[0]===$e.WORKING))&&(E.disabled=W);const n={};1&t&&(n.status=e[0]),L.$set(n)},i(e){P||(z(L.$$.fragment,e),P=!0)},o(e){M(L.$$.fragment,e),P=!1},d(e){e&&m(t),Y(L),K=!1,o(T)}}}function Qe(e,t,n){let s;c(e,ne,e=>n(8,s=e));let o=$e.IDLE,i="",r=!1;async function a(e,t=0){n(0,o=$e.WORKING);const r=new URLSearchParams;r.set("UUID",e),r.set("userID",s.privateUUID),r.set("type",t);const a=await fetch(`${s.sponsorBlockApi}/api/voteOnSponsorTime?${r}`,{method:"POST"}).then(e=>e.status);200===a&&(n(0,o=$e.SUCCESS),n(1,i="")),400===a&&n(0,o=$e.INVALID),405===a&&n(0,o=$e.DUPLICATE)}return e.$$.update=()=>{2&e.$$.dirty&&n(2,r=De(i))},[o,i,r,a,function(){i=this.value,n(1,i)},e=>{a(i,20)},e=>{a(i,0)},e=>{a(i,1)}]}class Xe extends X{constructor(e){super(),Q(this,e,Qe,Je,r,{})}}function et(e,t,n){const s=e.slice();return s[9]=t[n],s[11]=n,s}function tt(t){let n,s,o,i=Pe[t[11]]+"";return{c(){n=v("option"),s=g(i),n.__value=o=t[9],n.value=n.__value},m(e,t){p(e,n,t),f(n,s)},p:e,d(e){e&&m(n)}}}function nt(e){let t,n,s,i,r,a,l,c,u,d,b,R,y,O,w,C,k,x,N,_,E,A,W,G,P,K,T,V,q,B=Le,H=[];for(let t=0;t<B.length;t+=1)H[t]=tt(et(e,B,t));return K=new Re({props:{status:e[0]}}),{c(){t=v("main"),n=v("div"),s=v("fieldset"),i=v("legend"),i.textContent="Change segment category",r=I(),a=v("div"),l=v("label"),l.textContent="Segment UUID:",c=v("br"),u=I(),d=v("input"),y=I(),O=v("div"),w=v("label"),w.textContent="Category:",C=v("br"),k=I(),x=v("select"),N=v("option"),N.textContent="--- Select category ---";for(let e=0;e<H.length;e+=1)H[e].c();_=I(),E=v("div"),A=v("button"),W=g("Change\n          category"),P=I(),Z(K.$$.fragment),$(l,"for","uuid"),$(d,"id","uuid"),$(d,"type","text"),$(d,"size","64"),$(d,"pattern",b="[a-f0-9]{64}"),$(d,"placeholder","Segment UUID ..."),d.disabled=R=e[0]===$e.WORKING,$(w,"for","category"),N.__value="",N.value=N.__value,$(x,"id","category"),$(x,"class","svelte-1bh877i"),void 0===e[3]&&L(()=>e[6].call(x)),A.disabled=G=e[0]===$e.WORKING||!e[2]||e[0]===$e.WORKING,$(E,"class","actions"),$(n,"class","container")},m(o,m){p(o,t,m),f(t,n),f(n,s),f(s,i),f(s,r),f(s,a),f(a,l),f(a,c),f(a,u),f(a,d),S(d,e[1]),f(s,y),f(s,O),f(O,w),f(O,C),f(O,k),f(O,x),f(x,N);for(let e=0;e<H.length;e+=1)H[e].m(x,null);D(x,e[3]),f(s,_),f(s,E),f(E,A),f(A,W),f(n,P),F(K,n,null),T=!0,V||(q=[U(d,"input",e[5]),U(x,"change",e[6]),U(A,"click",e[7])],V=!0)},p(e,[t]){if((!T||1&t&&R!==(R=e[0]===$e.WORKING))&&(d.disabled=R),2&t&&d.value!==e[1]&&S(d,e[1]),0&t){let n;for(B=Le,n=0;n<B.length;n+=1){const s=et(e,B,n);H[n]?H[n].p(s,t):(H[n]=tt(s),H[n].c(),H[n].m(x,null))}for(;n<H.length;n+=1)H[n].d(1);H.length=B.length}8&t&&D(x,e[3]),(!T||5&t&&G!==(G=e[0]===$e.WORKING||!e[2]||e[0]===$e.WORKING))&&(A.disabled=G);const n={};1&t&&(n.status=e[0]),K.$set(n)},i(e){T||(z(K.$$.fragment,e),T=!0)},o(e){M(K.$$.fragment,e),T=!1},d(e){e&&m(t),h(H,e),Y(K),V=!1,o(q)}}}function st(e,t,n){let s;c(e,ne,e=>n(8,s=e));let o=$e.IDLE,i="",r=!1,a="";async function l(){n(0,o=$e.WORKING);const e=new URLSearchParams;e.set("UUID",i),e.set("userID",s.privateUUID),e.set("category",a);const t=await fetch(`${s.sponsorBlockApi}/api/voteOnSponsorTime?${e}`,{method:"POST"}).then(e=>e.status);200===t&&(n(0,o=$e.SUCCESS),n(1,i=""),n(3,a="")),400===t&&n(0,o=$e.INVALID),405===t&&n(0,o=$e.DUPLICATE)}return e.$$.update=()=>{2&e.$$.dirty&&n(2,r=De(i))},[o,i,r,a,l,function(){i=this.value,n(1,i)},function(){a=O(this),n(3,a)},e=>{l()}]}class ot extends X{constructor(e){super(),Q(this,e,st,nt,r,{})}}function it(e){let t,n,s,i,r,a,l,c,u,d,h,b,R,y,D,O,C,k,x,N,_,E,A,W,G,L,P;return W=new Re({props:{status:e[4]}}),{c(){t=v("main"),n=v("div"),s=v("div"),i=v("fieldset"),r=v("legend"),r.textContent="Your Username:",a=I(),l=v("input"),c=I(),u=v("button"),d=g("Change"),b=I(),R=v("fieldset"),y=v("legend"),y.innerHTML='Change Username: <span class="viprequired">(Admin Only)</span>',D=I(),O=v("input"),C=I(),k=v("input"),x=I(),N=v("button"),_=g("Update"),A=I(),Z(W.$$.fragment),$(l,"type","text"),$(l,"placeholder","Username..."),u.disabled=h=0==e[0].length,$(O,"type","text"),$(O,"placeholder","Target UUID..."),$(k,"type","text"),$(k,"placeholder","Username..."),N.disabled=E=!e[3]||0===e[1].length,$(s,"class","form svelte-1fvbh90"),w(s,"working",e[4]===$e.WORKING),$(n,"class","container")},m(o,m){p(o,t,m),f(t,n),f(n,s),f(s,i),f(i,r),f(i,a),f(i,l),S(l,e[0]),f(i,c),f(i,u),f(u,d),f(s,b),f(s,R),f(R,y),f(R,D),f(R,O),S(O,e[2]),f(R,C),f(R,k),S(k,e[1]),f(R,x),f(R,N),f(N,_),f(n,A),F(W,n,null),G=!0,L||(P=[U(l,"input",e[8]),U(u,"click",e[9]),U(O,"input",e[10]),U(O,"input",e[11]),U(k,"input",e[12]),U(N,"click",e[13])],L=!0)},p(e,[t]){1&t&&l.value!==e[0]&&S(l,e[0]),(!G||1&t&&h!==(h=0==e[0].length))&&(u.disabled=h),4&t&&O.value!==e[2]&&S(O,e[2]),2&t&&k.value!==e[1]&&S(k,e[1]),(!G||10&t&&E!==(E=!e[3]||0===e[1].length))&&(N.disabled=E),16&t&&w(s,"working",e[4]===$e.WORKING);const n={};16&t&&(n.status=e[4]),W.$set(n)},i(e){G||(z(W.$$.fragment,e),G=!0)},o(e){M(W.$$.fragment,e),G=!1},d(e){e&&m(t),Y(W),L=!1,o(P)}}}function rt(e,t,n){let s,o;c(e,ne,e=>n(5,s=e)),c(e,se,e=>n(14,o=e));let i="",r="",a="",l=!1,u=$e.IDLE;async function f(e,t,o){n(4,u=$e.WORKING);const i=new URLSearchParams;i.set("userID",e),i.set("username",t),o&&i.set("adminUserID",o);const r=await fetch(`${s.sponsorBlockApi}/api/setUsername?${i}`,{method:"POST"});200===r.status&&n(4,u=$e.SUCCESS),400===r.status&&n(4,u=$e.ERROR_INVALID),403===r.status&&n(4,u=$e.ERROR_UNAUTHORIZED)}async function p(){n(0,i=await async function(){n(4,u=$e.WORKING);const e=await fetch(`${s.sponsorBlockApi}/api/getUsername?userID=${s.privateUUID}`);if(200===e.status){const t=await e.json();return n(4,u=$e.SUCCESS),t.userName}return 400===e&&n(4,u=$e.ERROR_INVALID),403===e&&n(4,u=$e.ERROR_UNAUTHORIZED),""}()),d(se,o.username=i,o),d(se,o.username_time=Date.now(),o)}x(async e=>{"username"in o&&o.username_time+6e5>Date.now()?n(0,i=o.username):await p()});return[i,r,a,l,u,s,f,p,function(){i=this.value,n(0,i)},async e=>{await f(s.privateUUID,i),await p()},function(){a=this.value,n(2,a)},e=>{n(3,l=Se(a))},function(){r=this.value,n(1,r)},e=>{f(a,r,s.privateUUID)}]}class at extends X{constructor(e){super(),Q(this,e,rt,it,r,{})}}function lt(e){let t,n,s,i,r,a,l,c,u,d,h,b,R,y,D,O,C,k,x,N,_,E,A,W,G,L,P;return W=new Re({props:{status:e[2]}}),{c(){t=v("main"),n=v("div"),s=v("p"),s.textContent="Only admins can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Add/Remove VIP",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="User UUID:",h=v("br"),b=I(),R=v("input"),y=I(),D=v("div"),O=v("button"),C=g("Remove"),x=I(),N=v("button"),_=g("Add"),A=I(),Z(W.$$.fragment),$(s,"class","viprequired"),$(d,"for","uuid"),$(R,"id","uuid"),$(R,"type","text"),$(R,"size","64"),$(R,"placeholder","Users UUID..."),O.disabled=k=!e[1],N.disabled=E=!e[1],$(D,"class","actions"),$(c,"class","form svelte-1izyxq"),w(c,"working",e[2]===$e.WORKING),$(n,"class","container")},m(o,m){p(o,t,m),f(t,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,h),f(u,b),f(u,R),S(R,e[0]),f(c,y),f(c,D),f(D,O),f(O,C),f(D,x),f(D,N),f(N,_),f(n,A),F(W,n,null),G=!0,L||(P=[U(R,"input",e[5]),U(O,"click",e[4]),U(N,"click",e[3])],L=!0)},p(e,[t]){1&t&&R.value!==e[0]&&S(R,e[0]),(!G||2&t&&k!==(k=!e[1]))&&(O.disabled=k),(!G||2&t&&E!==(E=!e[1]))&&(N.disabled=E),4&t&&w(c,"working",e[2]===$e.WORKING);const n={};4&t&&(n.status=e[2]),W.$set(n)},i(e){G||(z(W.$$.fragment,e),G=!0)},o(e){M(W.$$.fragment,e),G=!1},d(e){e&&m(t),Y(W),L=!1,o(P)}}}function ct(e,t,n){let s;c(e,ne,e=>n(6,s=e));let o="",i=!1,r=$e.IDLE;async function a(e="add"){n(2,r=$e.WORKING);const t=new URLSearchParams;t.set("adminUserID",s.privateUUID),t.set("userID",o),t.set("enabled",("add"===e).toString());const i=await fetch(`${s.sponsorBlockApi}/api/addUserAsVIP?${t}`,{method:"post"}).then((function(e){return e.status}));200===i&&n(2,r=$e.SUCCESS),400===i&&n(2,r=$e.ERROR_INVALID),403===i&&n(2,r=$e.ERROR_UNAUTHORIZED)}return e.$$.update=()=>{1&e.$$.dirty&&n(1,i=Se(o))},[o,i,r,function(){a("add")},function(){a("remove")},function(){o=this.value,n(0,o)}]}class ut extends X{constructor(e){super(),Q(this,e,ct,lt,r,{})}}function dt(e){let t,n,s,i,r,a,l,c,u,d,h,b,R,y,D,O,C,k,x,N,_,E,A,W,G,L,P,K,T,V,q,B,H,j;return q=new Re({props:{status:e[3]}}),{c(){t=v("main"),n=v("div"),s=v("p"),s.textContent="Only VIPs can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Add/Remove Temporary Channel VIP",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="User UUID:",h=v("br"),b=I(),R=v("input"),y=I(),D=v("br"),O=I(),C=v("label"),C.textContent="VideoID from channel:",k=v("br"),x=I(),N=v("input"),_=I(),E=v("div"),A=v("button"),W=g("Remove"),L=I(),P=v("button"),K=g("Add"),V=I(),Z(q.$$.fragment),$(s,"class","viprequired"),$(d,"for","uuid"),$(R,"id","uuid"),$(R,"type","text"),$(R,"size","64"),$(R,"placeholder","Users UUID..."),$(C,"for","videoID"),$(N,"id","videoID"),$(N,"type","text"),$(N,"size","11"),$(N,"placeholder","VideoID"),A.disabled=G=!e[2],P.disabled=T=!e[2],$(E,"class","actions"),$(c,"class","form svelte-1izyxq"),w(c,"working",e[3]===$e.WORKING),$(n,"class","container")},m(o,m){p(o,t,m),f(t,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,h),f(u,b),f(u,R),S(R,e[0]),f(u,y),f(u,D),f(u,O),f(u,C),f(u,k),f(u,x),f(u,N),S(N,e[1]),f(c,_),f(c,E),f(E,A),f(A,W),f(E,L),f(E,P),f(P,K),f(n,V),F(q,n,null),B=!0,H||(j=[U(R,"input",e[6]),U(N,"input",e[7]),U(A,"click",e[5]),U(P,"click",e[4])],H=!0)},p(e,[t]){1&t&&R.value!==e[0]&&S(R,e[0]),2&t&&N.value!==e[1]&&S(N,e[1]),(!B||4&t&&G!==(G=!e[2]))&&(A.disabled=G),(!B||4&t&&T!==(T=!e[2]))&&(P.disabled=T),8&t&&w(c,"working",e[3]===$e.WORKING);const n={};8&t&&(n.status=e[3]),q.$set(n)},i(e){B||(z(q.$$.fragment,e),B=!0)},o(e){M(q.$$.fragment,e),B=!1},d(e){e&&m(t),Y(q),H=!1,o(j)}}}function ft(e,t,n){let s;c(e,ne,e=>n(8,s=e));let o="",i="",r=!1,a=$e.IDLE;async function l(e="add"){n(3,a=$e.WORKING);const t=new URLSearchParams;t.set("adminUserID",s.privateUUID),t.set("userID",o),t.set("channelVideoID",i),t.set("enabled",("add"===e).toString());const r=await fetch(`${s.sponsorBlockApi}/api/AddUserAsTempVIP?${t}`,{method:"post"}).then((function(e){return e.status}));200===r&&n(3,a=$e.SUCCESS),400===r&&n(3,a=$e.ERROR_INVALID),403===r&&n(3,a=$e.ERROR_UNAUTHORIZED),404===r&&n(3,a=$e.NOT_FOUND),409===r&&n(3,a=$e.DUPLICATE)}return e.$$.update=()=>{1&e.$$.dirty&&n(2,r=Se(o))},[o,i,r,a,function(){l("add")},function(){l("remove")},function(){o=this.value,n(0,o)},function(){i=this.value,n(1,i)}]}class pt extends X{constructor(e){super(),Q(this,e,ft,dt,r,{})}}function mt(n){let s,i,r,a=[{type:"text"},{placeholder:"VideoID or URL..."},n[1]],l={};for(let e=0;e<a.length;e+=1)l=t(l,a[e]);return{c(){s=v("input"),b(s,l)},m(e,t){var o;p(e,s,t),S(s,n[0]),i||(r=[U(s,"input",n[2]),U(s,"paste",(o=n[3],function(e){return e.preventDefault(),o.call(this,e)}))],i=!0)},p(e,[t]){b(s,l=function(e,t){const n={},s={},o={$$scope:1};let i=e.length;for(;i--;){const r=e[i],a=t[i];if(a){for(const e in r)e in a||(s[e]=1);for(const e in a)o[e]||(n[e]=a[e],o[e]=1);e[i]=a}else for(const e in r)o[e]=1}for(const e in s)e in n||(n[e]=void 0);return n}(a,[{type:"text"},{placeholder:"VideoID or URL..."},2&t&&e[1]])),1&t&&s.value!==e[0]&&S(s,e[0])},i:e,o:e,d(e){e&&m(s),i=!1,o(r)}}}function ht(e,n,s){let{value:o=""}=n;return e.$$set=e=>{s(1,n=t(t({},n),u(e))),"value"in e&&s(0,o=e.value)},n=u(n),[o,n,function(){o=this.value,s(0,o)},e=>s(0,o=function(e){if(e.startsWith("http"))try{const t=new URL(e);if(t.searchParams.has("v"))return t.searchParams.get("v");if("youtu.be"===t.host)return t.pathname.substring(1);if("sb.ltn.fi"===t.host)if(t.pathname.includes("/video/")){const e=t.pathname.split("/"),n=e.indexOf("video"),s=n+1;if(-1!==n&&e.length-1>=s)return e[s]}else if(t.searchParams.has("videoid"))return t.searchParams.get("videoid")}catch(t){console.error("Failed to parse URL",e,t)}return e}(e?.clipboardData?.getData("text")))]}class vt extends X{constructor(e){super(),Q(this,e,ht,mt,r,{value:0})}}function gt(e,t,n){const s=e.slice();return s[16]=t[n],s[18]=n,s}function It(e,t,n){const s=e.slice();return s[19]=t[n],s[18]=n,s}function Ut(e){let t,n,s,o,i,r,a,l,c,u,d=Pe[e[18]]+"";return{c(){t=v("div"),n=v("input"),i=I(),r=v("label"),a=g(d),$(n,"id",s="category_"+e[19]),$(n,"type","checkbox"),n.__value=o=e[19],n.value=n.__value,e[9][1].push(n),$(r,"for",l="category_"+e[19]),$(t,"class","category-option svelte-189x8jq")},m(s,o){p(s,t,o),f(t,n),n.checked=~e[0].indexOf(n.__value),f(t,i),f(t,r),f(r,a),c||(u=U(n,"change",e[8]),c=!0)},p(e,t){1&t&&(n.checked=~e[0].indexOf(n.__value))},d(s){s&&m(t),e[9][1].splice(e[9][1].indexOf(n),1),c=!1,u()}}}function $t(e){let t,n,s,o,i,r,a,l,c,u,d,h=Te[e[18]]+"";return{c(){t=v("div"),n=v("input"),i=I(),r=v("label"),a=g(h),c=I(),$(n,"id",s="actionType_"+e[16]),$(n,"type","checkbox"),n.__value=o=e[16],n.value=n.__value,e[9][0].push(n),$(r,"for",l="actionType_"+e[16]),$(t,"class","actionType-option")},m(s,o){p(s,t,o),f(t,n),n.checked=~e[1].indexOf(n.__value),f(t,i),f(t,r),f(r,a),f(t,c),u||(d=U(n,"change",e[10]),u=!0)},p(e,t){2&t&&(n.checked=~e[1].indexOf(n.__value))},d(s){s&&m(t),e[9][0].splice(e[9][0].indexOf(n),1),u=!1,d()}}}function bt(e){let t,n,s,i,r,a,l,c,u,d,b,R,y,D,O,C,k,x,N,E,A,W,G,L,K,T,V,q,B,H,J,Q,X,ee,te,ne,se,oe,ie,re,ae,le,ce;function ue(t){e[7].call(null,t)}let de={id:"videoid"};void 0!==e[2]&&(de.value=e[2]),y=new vt({props:de}),_.push(()=>j(y,"value",ue));let fe=Le,pe=[];for(let t=0;t<fe.length;t+=1)pe[t]=Ut(It(e,fe,t));let me=Ke,he=[];for(let t=0;t<me.length;t+=1)he[t]=$t(gt(e,me,t));return re=new Re({props:{status:e[3]}}),{c(){t=v("main"),n=v("div"),s=v("p"),s.textContent="Only users with VIP status can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Lock categories",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="VideoID:",b=v("br"),R=I(),Z(y.$$.fragment),O=I(),C=v("div"),k=v("div"),k.textContent="Categories:",x=I();for(let e=0;e<pe.length;e+=1)pe[e].c();N=I(),E=v("div"),E.textContent="Action Types:",A=I();for(let e=0;e<he.length;e+=1)he[e].c();W=I(),G=v("div"),L=v("label"),L.textContent="Lock Reason:",K=v("br"),T=I(),V=v("textarea"),q=I(),B=v("div"),H=v("button"),H.textContent="Check all",J=I(),Q=v("button"),X=g("Unlock"),te=I(),ne=v("button"),se=g("Lock"),ie=I(),Z(re.$$.fragment),$(s,"class","viprequired"),$(d,"for","videoid"),$(L,"for","reason"),$(V,"id","reason"),$(V,"cols","80"),$(V,"rows","3"),$(V,"placeholder","Reason..."),Q.disabled=ee=0===e[2].length||0===e[0].length||e[3]===$e.WORKING,ne.disabled=oe=0===e[2].length||0===e[0].length||e[3]===$e.WORKING,$(B,"class","actions"),$(c,"class","form svelte-189x8jq"),w(c,"working",e[3]===$e.WORKING),$(n,"class","container")},m(o,m){p(o,t,m),f(t,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,b),f(u,R),F(y,u,null),f(c,O),f(c,C),f(C,k),f(C,x);for(let e=0;e<pe.length;e+=1)pe[e].m(C,null);f(C,N),f(C,E),f(C,A);for(let e=0;e<he.length;e+=1)he[e].m(C,null);f(c,W),f(c,G),f(G,L),f(G,K),f(G,T),f(G,V),S(V,e[4]),f(c,q),f(c,B),f(B,H),f(B,J),f(B,Q),f(Q,X),f(B,te),f(B,ne),f(ne,se),f(n,ie),F(re,n,null),ae=!0,le||(ce=[U(V,"input",e[11]),U(H,"click",e[6]),U(Q,"click",e[12]),U(ne,"click",e[13])],le=!0)},p(e,[t]){const n={};if(!D&&4&t&&(D=!0,n.value=e[2],P(()=>D=!1)),y.$set(n),1&t){let n;for(fe=Le,n=0;n<fe.length;n+=1){const s=It(e,fe,n);pe[n]?pe[n].p(s,t):(pe[n]=Ut(s),pe[n].c(),pe[n].m(C,N))}for(;n<pe.length;n+=1)pe[n].d(1);pe.length=fe.length}if(2&t){let n;for(me=Ke,n=0;n<me.length;n+=1){const s=gt(e,me,n);he[n]?he[n].p(s,t):(he[n]=$t(s),he[n].c(),he[n].m(C,null))}for(;n<he.length;n+=1)he[n].d(1);he.length=me.length}16&t&&S(V,e[4]),(!ae||13&t&&ee!==(ee=0===e[2].length||0===e[0].length||e[3]===$e.WORKING))&&(Q.disabled=ee),(!ae||13&t&&oe!==(oe=0===e[2].length||0===e[0].length||e[3]===$e.WORKING))&&(ne.disabled=oe),8&t&&w(c,"working",e[3]===$e.WORKING);const s={};8&t&&(s.status=e[3]),re.$set(s)},i(e){ae||(z(y.$$.fragment,e),z(re.$$.fragment,e),ae=!0)},o(e){M(y.$$.fragment,e),M(re.$$.fragment,e),ae=!1},d(e){e&&m(t),Y(y),h(pe,e),h(he,e),Y(re),le=!1,o(ce)}}}function Rt(e,t,n){let s;c(e,ne,e=>n(14,s=e));const o=[...Le.filter(e=>!["poi_highlight","filler","exclusive_access"].includes(e))];let i=[],r=[...Ke],a="",l=$e.IDLE,u="";async function d(e=!0){n(3,l=$e.WORKING);const t={};t.videoID=a,t.userID=s.privateUUID,t.reason=u,t.categories=i,t.actionTypes=r;const o=await fetch(s.sponsorBlockApi+"/api/lockCategories",{method:e?"post":"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.status}));200===o&&(n(3,l=$e.SUCCESS),n(2,a=""),n(4,u=""),n(0,i=[]),n(1,r=[...Ke])),400===o&&n(3,l=$e.ERROR_INVALID),403===o&&n(3,l=$e.ERROR_UNAUTHORIZED)}const f=[[],[]];return[i,r,a,l,u,d,function(){0===i.length?n(0,i=[...o]):n(0,i=[])},function(e){a=e,n(2,a)},function(){i=R(f[1],this.__value,this.checked),n(0,i)},f,function(){r=R(f[0],this.__value,this.checked),n(1,r)},function(){u=this.value,n(4,u)},e=>d(!1),e=>d(!0)]}class yt extends X{constructor(e){super(),Q(this,e,Rt,bt,r,{})}}function St(e){let t,n,s,i,r,a,l,c,u,d,h,b,R,y,D,O,C,k,x,N,_,E,A,W,G,L,P,K,T,V,q,B,H;return V=new Re({props:{status:e[3]}}),{c(){t=v("main"),n=v("div"),s=v("p"),s.textContent="Only users with VIP status can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Warn user:",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="User UUID:",h=v("br"),b=I(),R=v("input"),y=I(),D=v("div"),O=v("label"),O.textContent="Warn Reason:",C=v("br"),k=I(),x=v("textarea"),N=I(),_=v("div"),E=v("button"),A=g("Unwarn"),G=I(),L=v("button"),P=g("Warn"),T=I(),Z(V.$$.fragment),$(s,"class","viprequired"),$(d,"for","uuid"),$(R,"id","uuid"),$(R,"type","text"),$(R,"size","64"),$(R,"placeholder","User UUID..."),$(O,"for","reason"),$(x,"id","reason"),$(x,"cols","80"),$(x,"rows","3"),$(x,"placeholder","Reason..."),$(E,"type","button"),E.disabled=W=!e[1],$(L,"type","button"),L.disabled=K=!e[1],$(_,"class","actions"),$(c,"class","form svelte-1izyxq"),w(c,"working",e[3]===$e.WORKING),$(n,"class","container")},m(o,m){p(o,t,m),f(t,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,h),f(u,b),f(u,R),S(R,e[0]),f(c,y),f(c,D),f(D,O),f(D,C),f(D,k),f(D,x),S(x,e[2]),f(c,N),f(c,_),f(_,E),f(E,A),f(_,G),f(_,L),f(L,P),f(n,T),F(V,n,null),q=!0,B||(H=[U(R,"input",e[5]),U(R,"input",e[6]),U(x,"input",e[7]),U(E,"click",e[8]),U(L,"click",e[9])],B=!0)},p(e,[t]){1&t&&R.value!==e[0]&&S(R,e[0]),4&t&&S(x,e[2]),(!q||2&t&&W!==(W=!e[1]))&&(E.disabled=W),(!q||2&t&&K!==(K=!e[1]))&&(L.disabled=K),8&t&&w(c,"working",e[3]===$e.WORKING);const n={};8&t&&(n.status=e[3]),V.$set(n)},i(e){q||(z(V.$$.fragment,e),q=!0)},o(e){M(V.$$.fragment,e),q=!1},d(e){e&&m(t),Y(V),B=!1,o(H)}}}function Dt(e,t,n){let s;c(e,ne,e=>n(10,s=e));let o="",i=!1,r="",a=$e.IDLE;async function l(e="warn"){n(3,a=$e.WORKING);const t={};t.issuerUserID=s.privateUUID,t.userID=o,t.reason=r,t.enabled="warn"===e;const l=await fetch(s.sponsorBlockApi+"/api/warnUser",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.status}));200===l&&(n(3,a=$e.SUCCESS),n(0,o=""),n(1,i=!1),n(2,r="")),400===l&&n(3,a=$e.ERROR_INVALID),403===l&&n(3,a=$e.ERROR_UNAUTHORIZED),409===l&&n(3,a=$e.DUPLICATE)}return[o,i,r,a,l,function(){o=this.value,n(0,o)},e=>{n(1,i=Se(o))},function(){r=this.value,n(2,r)},e=>{l("unwarn")},e=>{l("warn")}]}class Ot extends X{constructor(e){super(),Q(this,e,Dt,St,r,{})}}function wt(e,t,n){const s=e.slice();return s[8]=t[n],s}function Ct(e){let t,n,s,o,i,r,a,l=e[8].title+"",c=e[1][e[8].key]+"";return{c(){t=v("tr"),n=v("th"),s=g(l),o=I(),i=v("td"),r=g(c),a=I(),$(n,"class","svelte-1s5khaf"),$(i,"class","svelte-1s5khaf"),$(t,"class","svelte-1s5khaf")},m(e,l){p(e,t,l),f(t,n),f(n,s),f(t,o),f(t,i),f(i,r),f(t,a)},p(e,t){2&t&&c!==(c=e[1][e[8].key]+"")&&y(r,c)},d(e){e&&m(t)}}}function kt(e){let t,n,s,i,r,a,l,c,u,d,g,b,R,y,D,O,C,k,x,N,_,E,A,W=!1,G=e[3],L=[];for(let t=0;t<G.length;t+=1)L[t]=Ct(wt(e,G,t));return N=new Re({props:{status:e[2]}}),{c(){t=v("main"),n=v("div"),s=v("fieldset"),i=v("legend"),i.textContent="User Info:",r=I(),a=v("div"),l=v("div"),c=v("label"),c.textContent="Public UserID:",u=v("br"),d=I(),g=v("input"),b=I(),R=v("button"),R.textContent="View",y=I(),W&&W.c(),D=I(),O=v("div"),C=v("table"),k=v("tbody");for(let e=0;e<L.length;e+=1)L[e].c();x=I(),Z(N.$$.fragment),$(c,"for","userid"),$(g,"id","userid"),$(g,"type","text"),$(g,"size","64"),$(g,"placeholder","Public UserID..."),$(a,"class","form svelte-1s5khaf"),w(a,"working",e[2]===$e.WORKING),$(k,"class","svelte-1s5khaf"),$(C,"class","svelte-1s5khaf"),$(n,"class","container")},m(o,m){p(o,t,m),f(t,n),f(n,s),f(s,i),f(s,r),f(s,a),f(a,l),f(l,c),f(l,u),f(l,d),f(l,g),S(g,e[0]),f(l,b),f(l,R),f(n,y),W&&W.m(n,null),f(n,D),f(n,O),f(O,C),f(C,k);for(let e=0;e<L.length;e+=1)L[e].m(k,null);f(n,x),F(N,n,null),_=!0,E||(A=[U(g,"input",e[5]),U(R,"click",e[4])],E=!0)},p(e,[t]){if(1&t&&g.value!==e[0]&&S(g,e[0]),4&t&&w(a,"working",e[2]===$e.WORKING),W&&(W.d(1),W=null),10&t){let n;for(G=e[3],n=0;n<G.length;n+=1){const s=wt(e,G,n);L[n]?L[n].p(s,t):(L[n]=Ct(s),L[n].c(),L[n].m(k,null))}for(;n<L.length;n+=1)L[n].d(1);L.length=G.length}const n={};4&t&&(n.status=e[2]),N.$set(n)},i(e){_||(z(N.$$.fragment,e),_=!0)},o(e){M(N.$$.fragment,e),_=!1},d(e){e&&m(t),W&&W.d(),h(L,e),Y(N),E=!1,o(A)}}}function xt(e,t,n){let s;c(e,ne,e=>n(6,s=e));let o="",i={},r=$e.IDLE;async function a(){n(2,r=$e.WORKING);const e=await fetch(`${s.sponsorBlockApi}/api/userInfo?publicUserID=${o}`,{method:"get"}).then((async function(e){return await e.json()}));n(2,r=$e.SUCCESS),n(1,i=e)}return x(async()=>{const e=new URL(window.location);e.searchParams.has("publicUserID")&&(n(0,o=e.searchParams.get("publicUserID")),await a())}),[o,i,r,[{title:"Public User ID",key:"userID"},{title:"Username",key:"userName"},{title:"Minutes saved",key:"minutesSaved"},{title:"Segment count",key:"segmentCount"},{title:"ignoredSegmentCount",key:"ignoredSegmentCount"},{title:"viewCount",key:"viewCount"},{title:"ignoredViewCount",key:"ignoredViewCount"},{title:"warnings",key:"warnings"},{title:"warningReason",key:"warningReason"},{title:"reputation",key:"reputation"},{title:"vip",key:"vip"},{title:"lastSegmentID",key:"lastSegmentID"}],async function(){const e=new URL(window.location);e.searchParams.set("publicUserID",o),window.history.pushState({},"",e),await a()},function(){o=this.value,n(0,o)}]}class Nt extends X{constructor(e){super(),Q(this,e,xt,kt,r,{})}}function _t(e){let t,n,s,i,r,a,l,c,u,d,h,b,R,y,S,D,O,C,k,x,N,E,A,W,G,L,K,T;function V(t){e[4].call(null,t)}let q={id:"videoid"};return void 0!==e[0]&&(q.value=e[0]),R=new vt({props:q}),_.push(()=>j(R,"value",V)),G=new Re({props:{status:e[1]}}),{c(){t=v("main"),n=v("div"),s=v("p"),s.textContent="Only users with VIP status can do this!",i=I(),r=v("fieldset"),a=v("legend"),a.textContent="Clear cache / Purge all segments",l=I(),c=v("div"),u=v("div"),d=v("label"),d.textContent="VideoID:",h=v("br"),b=I(),Z(R.$$.fragment),S=I(),D=v("div"),O=v("button"),C=g("Clear cache"),x=I(),N=v("button"),E=g("Purge all\n            segments"),W=I(),Z(G.$$.fragment),$(s,"class","viprequired"),$(d,"for","videoid"),O.disabled=k=0===e[0].length||e[1]===$e.WORKING,N.disabled=A=0===e[0].length||e[1]===$e.WORKING,$(D,"class","actions"),$(c,"class","form svelte-1izyxq"),w(c,"working",e[1]===$e.WORKING),$(n,"class","container")},m(o,m){p(o,t,m),f(t,n),f(n,s),f(n,i),f(n,r),f(r,a),f(r,l),f(r,c),f(c,u),f(u,d),f(u,h),f(u,b),F(R,u,null),f(c,S),f(c,D),f(D,O),f(O,C),f(D,x),f(D,N),f(N,E),f(n,W),F(G,n,null),L=!0,K||(T=[U(O,"click",e[5]),U(N,"click",e[6])],K=!0)},p(e,[t]){const n={};!y&&1&t&&(y=!0,n.value=e[0],P(()=>y=!1)),R.$set(n),(!L||3&t&&k!==(k=0===e[0].length||e[1]===$e.WORKING))&&(O.disabled=k),(!L||3&t&&A!==(A=0===e[0].length||e[1]===$e.WORKING))&&(N.disabled=A),2&t&&w(c,"working",e[1]===$e.WORKING);const s={};2&t&&(s.status=e[1]),G.$set(s)},i(e){L||(z(R.$$.fragment,e),z(G.$$.fragment,e),L=!0)},o(e){M(R.$$.fragment,e),M(G.$$.fragment,e),L=!1},d(e){e&&m(t),Y(R),Y(G),K=!1,o(T)}}}function Et(e,t,n){let s;c(e,ne,e=>n(7,s=e));let o="",i=$e.IDLE;async function r(e=!0){n(1,i=$e.WORKING);const t=new URLSearchParams;t.set("videoID",o),t.set("userID",s.privateUUID);const r=await fetch(`${s.sponsorBlockApi}/api/clearCache?${t}`,{method:"POST"}).then((function(e){return e.status}));200===r&&(n(1,i=$e.SUCCESS),n(0,o="")),400===r&&n(1,i=$e.ERROR_INVALID),403===r&&n(1,i=$e.ERROR_UNAUTHORIZED)}async function a(){n(1,i=$e.WORKING);const e={};e.videoID=o,e.userID=s.privateUUID;const t=await fetch(s.sponsorBlockApi+"/api/purgeAllSegments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.status}));200===t&&(n(1,i=$e.SUCCESS),n(0,o="")),400===t&&n(1,i=$e.ERROR_INVALID),403===t&&n(1,i=$e.ERROR_UNAUTHORIZED)}return[o,i,r,a,function(e){o=e,n(0,o)},e=>r(),e=>a()]}class At extends X{constructor(e){super(),Q(this,e,Et,_t,r,{})}}function Wt(e,t,n){const s=e.slice();return s[11]=t[n],s}function Gt(t){let n,s,o,i=t[11].name+"";return{c(){n=v("option"),s=g(i),n.__value=o=t[11].code,n.value=n.__value},m(e,t){p(e,n,t),f(n,s)},p:e,d(e){e&&m(n)}}}function Lt(e){let t,n,s,i,r,a,l,c,u,d,b,R,y,O,w,C,k,x,N,_,E,A,W,G,P,K,T,V,q,B,H,j,J,Q,X=Ve,ee=[];for(let t=0;t<X.length;t+=1)ee[t]=Gt(Wt(e,X,t));return H=new Re({props:{status:e[0]}}),{c(){t=v("main"),n=v("div"),s=v("fieldset"),i=v("legend"),i.textContent="Add user feature",r=I(),a=v("div"),l=v("label"),l.textContent="UserID:",c=v("br"),u=I(),d=v("input"),R=I(),y=v("div"),O=v("label"),O.textContent="Feature:",w=v("br"),C=I(),k=v("select"),x=v("option"),x.textContent="--- Select feature ---";for(let e=0;e<ee.length;e+=1)ee[e].c();_=I(),E=v("div"),A=v("input"),W=I(),G=v("label"),G.textContent="Enabled",P=I(),K=v("div"),T=v("button"),V=g("Add feature"),B=I(),Z(H.$$.fragment),$(l,"for","userID"),$(d,"id","userID"),$(d,"type","text"),$(d,"size","64"),$(d,"placeholder","Target UserID ..."),d.disabled=b=e[0]===$e.WORKING,$(O,"for","feature"),x.__value=N=-1,x.value=x.__value,$(k,"id","feature"),$(k,"class","svelte-1bh877i"),void 0===e[3]&&L(()=>e[7].call(k)),$(A,"id","enabled"),$(A,"type","checkbox"),$(G,"for","enabled"),T.disabled=q=e[0]===$e.WORKING||!e[2],$(K,"class","actions"),$(n,"class","container")},m(o,m){p(o,t,m),f(t,n),f(n,s),f(s,i),f(s,r),f(s,a),f(a,l),f(a,c),f(a,u),f(a,d),S(d,e[1]),f(s,R),f(s,y),f(y,O),f(y,w),f(y,C),f(y,k),f(k,x);for(let e=0;e<ee.length;e+=1)ee[e].m(k,null);D(k,e[3]),f(s,_),f(s,E),f(E,A),A.checked=e[4],f(E,W),f(E,G),f(s,P),f(s,K),f(K,T),f(T,V),f(n,B),F(H,n,null),j=!0,J||(Q=[U(d,"input",e[6]),U(k,"change",e[7]),U(A,"change",e[8]),U(T,"click",e[9])],J=!0)},p(e,[t]){if((!j||1&t&&b!==(b=e[0]===$e.WORKING))&&(d.disabled=b),2&t&&d.value!==e[1]&&S(d,e[1]),0&t){let n;for(X=Ve,n=0;n<X.length;n+=1){const s=Wt(e,X,n);ee[n]?ee[n].p(s,t):(ee[n]=Gt(s),ee[n].c(),ee[n].m(k,null))}for(;n<ee.length;n+=1)ee[n].d(1);ee.length=X.length}8&t&&D(k,e[3]),16&t&&(A.checked=e[4]),(!j||5&t&&q!==(q=e[0]===$e.WORKING||!e[2]))&&(T.disabled=q);const n={};1&t&&(n.status=e[0]),H.$set(n)},i(e){j||(z(H.$$.fragment,e),j=!0)},o(e){M(H.$$.fragment,e),j=!1},d(e){e&&m(t),h(ee,e),Y(H),J=!1,o(Q)}}}function Pt(e,t,n){let s;c(e,ne,e=>n(10,s=e));let o=$e.IDLE,i="",r=!1,a=-1,l=!0;async function u(){n(0,o=$e.WORKING);const e={};e.userID=i,e.adminUserID=s.privateUUID,e.feature=a,e.enabled=l.toString();const t=await fetch(s.sponsorBlockApi+"/api/feature",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(e=>e.status);200===t&&(n(0,o=$e.SUCCESS),n(1,i=""),n(3,a=0),n(4,l=!0)),400===t&&n(0,o=$e.INVALID),405===t&&n(0,o=$e.DUPLICATE)}return e.$$.update=()=>{2&e.$$.dirty&&n(2,r=Se(i))},[o,i,r,a,l,u,function(){i=this.value,n(1,i)},function(){a=O(this),n(3,a)},function(){l=this.checked,n(4,l)},e=>{u()}]}class Kt extends X{constructor(e){super(),Q(this,e,Pt,Lt,r,{})}}function Tt(e){let t,n,s,i,r,a,l;t=new ie({}),s=new ue({props:{items:e[1],clickHandler:e[2],selected:e[0]}});var c=e[0];return c&&(r=new c({})),{c(){Z(t.$$.fragment),n=I(),Z(s.$$.fragment),i=I(),r&&Z(r.$$.fragment),a=g("")},m(e,o){F(t,e,o),p(e,n,o),F(s,e,o),p(e,i,o),r&&F(r,e,o),p(e,a,o),l=!0},p(e,[t]){const n={};if(1&t&&(n.selected=e[0]),s.$set(n),c!==(c=e[0])){if(r){H={r:0,c:[],p:H};const e=r;M(e.$$.fragment,1,0,()=>{Y(e,1)}),H.r||o(H.c),H=H.p}c?(r=new c({}),Z(r.$$.fragment),z(r.$$.fragment,1),F(r,a.parentNode,a)):r=null}},i(e){l||(z(t.$$.fragment,e),z(s.$$.fragment,e),r&&z(r.$$.fragment,e),l=!0)},o(e){M(t.$$.fragment,e),M(s.$$.fragment,e),r&&M(r.$$.fragment,e),l=!1},d(e){Y(t,e),e&&m(n),Y(s,e),e&&m(i),e&&m(a),r&&Y(r,e)}}}function Vt(e,t,n){const s=[{name:"home",title:"Home",component:Ge,uuidRequired:!1},{name:"username",title:"Username",component:at,uuidRequired:!0},{name:"stats",title:"Stats",component:Ye,uuidRequired:!1},{name:"voteonsegment",title:"Vote on segment",component:Xe,uuidRequired:!0},{name:"categorychange",title:"Category change",component:ot,uuidRequired:!0},{name:"lockcategories",title:"Lock categories",component:yt,uuidRequired:!0,requiresVIP:!0},{name:"shadowban",title:"Add/Remove Shadow ban",component:Me,uuidRequired:!0,requiresVIP:!0},{name:"warnuser",title:"Warn user",component:Ot,uuidRequired:!0,requiresVIP:!0},{name:"cachepurge",title:"Clear cache / Purge segments",component:At,uuidRequired:!0,requiresVIP:!0},{name:"vip",title:"Add/Remove VIP",component:ut,uuidRequired:!0},{name:"tempvip",title:"Add/Remove Temporary VIP",component:pt,uuidRequired:!0,requiresVIP:!0},{name:"userinfo",title:"User Info",component:Nt,uuidRequired:!1},{name:"adduserfeature",title:"Add User Feature",component:Kt,uuidRequired:!0,requiresVIP:!0}],o=window.location.search,i=new URLSearchParams(o);let r,a="home";if(i.has("page")){const e=i.get("page");s.some(t=>t.name===e)&&(a=e)}function l(e){const t=s.find(t=>t.name===e);if(t){n(0,r=t.component);const s=new URL(window.location),o=t.title+" • SponsorBlockControl";s.searchParams.set("page",e),window.history.pushState({},o,s),document.title=o}}return l(a),[r,s,l]}return new class extends X{constructor(e){super(),Q(this,e,Vt,Tt,r,{})}}({target:document.body})}();
