var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function i(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function r(e,...n){if(null==e)return t;const s=e.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function a(t){let e;return r(t,t=>e=t)(),e}function l(t,e,n){t.$$.on_destroy.push(r(e,n))}function c(t,e,n=e){return t.set(n),e}function u(t,e){t.appendChild(e)}function d(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function h(t){return document.createTextNode(t)}function v(){return h(" ")}function g(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function I(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function U(t,e,n){const s=new Set;for(let e=0;e<t.length;e+=1)t[e].checked&&s.add(t[e].__value);return n||s.delete(e),Array.from(s)}function b(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function R(t,e){t.value=null==e?"":e}function $(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}}function S(t,e,n){t.classList[n?"add":"remove"](e)}let D;function y(t){D=t}function O(t){(function(){if(!D)throw new Error("Function called outside component initialization");return D})().$$.on_mount.push(t)}const w=[],C=[],N=[],x=[],_=Promise.resolve();let k=!1;function E(t){N.push(t)}let A=!1;const G=new Set;function L(){if(!A){A=!0;do{for(let t=0;t<w.length;t+=1){const e=w[t];y(e),W(e.$$)}for(w.length=0;C.length;)C.pop()();for(let t=0;t<N.length;t+=1){const e=N[t];G.has(e)||(G.add(e),e())}N.length=0}while(w.length);for(;x.length;)x.pop()();k=!1,A=!1,G.clear()}}function W(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(E)}}const K=new Set;let P;function T(t,e){t&&t.i&&(K.delete(t),t.i(e))}function q(t,e,n,s){if(t&&t.o){if(K.has(t))return;K.add(t),P.c.push(()=>{K.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}}function V(t){t&&t.c()}function B(t,n,i){const{fragment:r,on_mount:a,on_destroy:l,after_update:c}=t.$$;r&&r.m(n,i),E(()=>{const n=a.map(e).filter(o);l?l.push(...n):s(n),t.$$.on_mount=[]}),c.forEach(E)}function H(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function z(t,e){-1===t.$$.dirty[0]&&(w.push(t),k||(k=!0,_.then(L)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function M(e,o,i,r,a,l,c=[-1]){const u=D;y(e);const d=o.props||{},f=e.$$={fragment:null,ctx:null,props:l,update:t,not_equal:a,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:n(),dirty:c,skip_bound:!1};let m=!1;if(f.ctx=i?i(e,d,(t,n,...s)=>{const o=s.length?s[0]:n;return f.ctx&&a(f.ctx[t],f.ctx[t]=o)&&(!f.skip_bound&&f.bound[t]&&f.bound[t](o),m&&z(e,t)),n}):[],f.update(),m=!0,s(f.before_update),f.fragment=!!r&&r(f.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);f.fragment&&f.fragment.l(t),t.forEach(p)}else f.fragment&&f.fragment.c();o.intro&&T(e.$$.fragment),B(e,o.target,o.anchor),L()}y(u)}class j{$destroy(){H(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Z=[];function Y(e,n){const s=function(e,n=t){let s;const o=[];function r(t){if(i(e,t)&&(e=t,s)){const t=!Z.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),Z.push(n,e)}if(t){for(let t=0;t<Z.length;t+=2)Z[t][0](Z[t+1]);Z.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(i,a=t){const l=[i,a];return o.push(l),1===o.length&&(s=n(r)||t),i(e),()=>{const t=o.indexOf(l);-1!==t&&o.splice(t,1),0===o.length&&(s(),s=null)}}}}(n),{subscribe:o,set:r}=s,l="undefined"!=typeof localStorage?localStorage.getItem(e):null;return l&&r(JSON.parse(l)),{set(t){"undefined"!=typeof localStorage&&localStorage.setItem(e,JSON.stringify(t)),r(t)},update(t){const e=t(a(s));this.set(e)},subscribe:o}}const F=Y("config",{privateUUID:"",sponsorBlockApi:"https://sponsor.ajay.app",showPrivateUUID:!1}),J=Y("cache",{});function Q(e){let n;return{c(){n=m("header"),n.innerHTML='<img src="favicon.png" width="64" height="64" alt="Logo" class="svelte-qh2uac"> SponsorBlockControl\n  <sup class="svelte-qh2uac"><a href="https://github.com/MRuy/sponsorBlockControl#readme" class="svelte-qh2uac">(v1.0.3)</a></sup>',I(n,"class","svelte-qh2uac")},m(t,e){d(t,n,e)},p:t,i:t,o:t,d(t){t&&p(n)}}}class X extends j{constructor(t){super(),M(this,t,null,Q,i,{})}}function tt(t,e,n){const s=t.slice();return s[5]=e[n],s[7]=n,s}function et(t){let e,n,s,o,i,r,a=t[5].name+"";function l(...e){return t[4](t[5],...e)}return{c(){e=m("button"),n=h(a),s=v(),I(e,"type","button"),e.disabled=o=!0===t[5].uuidRequired&&""===t[3].privateUUID,I(e,"class","svelte-mrs8b4"),S(e,"active",t[2]===t[5].component)},m(t,o){d(t,e,o),u(e,n),u(e,s),i||(r=g(e,"click",l),i=!0)},p(s,i){t=s,1&i&&a!==(a=t[5].name+"")&&b(n,a),9&i&&o!==(o=!0===t[5].uuidRequired&&""===t[3].privateUUID)&&(e.disabled=o),5&i&&S(e,"active",t[2]===t[5].component)},d(t){t&&p(e),i=!1,r()}}}function nt(e){let n,s=e[0],o=[];for(let t=0;t<s.length;t+=1)o[t]=et(tt(e,s,t));return{c(){n=m("nav");for(let t=0;t<o.length;t+=1)o[t].c();I(n,"class","svelte-mrs8b4")},m(t,e){d(t,n,e);for(let t=0;t<o.length;t+=1)o[t].m(n,null)},p(t,[e]){if(15&e){let i;for(s=t[0],i=0;i<s.length;i+=1){const r=tt(t,s,i);o[i]?o[i].p(r,e):(o[i]=et(r),o[i].c(),o[i].m(n,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}},i:t,o:t,d(t){t&&p(n),f(o,t)}}}function st(t,e,n){let s;l(t,F,t=>n(3,s=t));let{items:o=[]}=e,{clickHandler:i}=e,{selected:r}=e;return t.$$set=t=>{"items"in t&&n(0,o=t.items),"clickHandler"in t&&n(1,i=t.clickHandler),"selected"in t&&n(2,r=t.selected)},[o,i,r,s,(t,e)=>{i(t.name)}]}class ot extends j{constructor(t){super(),M(this,t,st,nt,i,{items:0,clickHandler:1,selected:2})}}function it(t){let e;return{c(){e=h("Ready!")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function rt(t){let e,n;return{c(){e=m("div"),n=h("\n    Sending request..."),I(e,"class","lds-dual-ring svelte-kuvmdh")},m(t,s){d(t,e,s),d(t,n,s)},d(t){t&&p(e),t&&p(n)}}}function at(t){let e;return{c(){e=h("Done. Success!")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function lt(t){let e;return{c(){e=m("span"),e.textContent="Bad Request (Your inputs are wrong/impossible)",I(e,"class","error svelte-kuvmdh")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function ct(t){let e;return{c(){e=m("span"),e.textContent="Error. You are not allowed to do that!",I(e,"class","error svelte-kuvmdh")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function ut(t){let e;return{c(){e=m("span"),e.textContent="Error: Duplicate",I(e,"class","error svelte-kuvmdh")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function dt(t){let e;return{c(){e=m("span"),e.textContent="Error: Not found!",I(e,"class","error svelte-kuvmdh")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function pt(t){let e;return{c(){e=h("(Private UUID required)")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function ft(e){let n,s,o,i,r,a,l,c,f,g=e[0]==mt.IDLE&&it(),U=e[0]==mt.WORKING&&rt(),b=e[0]==mt.SUCCESS&&at(),R=e[0]==mt.ERROR_INVALID&&lt(),$=e[0]==mt.ERROR_UNAUTHORIZED&&ct(),S=e[0]==mt.DUPLICATE&&ut(),D=e[0]==mt.NOT_FOUND&&dt(),y=e[0]==mt.PRIVATEUUID_MISSING&&pt();return{c(){n=m("div"),s=h("Status: "),g&&g.c(),o=v(),U&&U.c(),i=v(),b&&b.c(),r=v(),R&&R.c(),a=v(),$&&$.c(),l=v(),S&&S.c(),c=v(),D&&D.c(),f=v(),y&&y.c(),I(n,"class","status")},m(t,e){d(t,n,e),u(n,s),g&&g.m(n,null),u(n,o),U&&U.m(n,null),u(n,i),b&&b.m(n,null),u(n,r),R&&R.m(n,null),u(n,a),$&&$.m(n,null),u(n,l),S&&S.m(n,null),u(n,c),D&&D.m(n,null),u(n,f),y&&y.m(n,null)},p(t,[e]){t[0]==mt.IDLE?g||(g=it(),g.c(),g.m(n,o)):g&&(g.d(1),g=null),t[0]==mt.WORKING?U||(U=rt(),U.c(),U.m(n,i)):U&&(U.d(1),U=null),t[0]==mt.SUCCESS?b||(b=at(),b.c(),b.m(n,r)):b&&(b.d(1),b=null),t[0]==mt.ERROR_INVALID?R||(R=lt(),R.c(),R.m(n,a)):R&&(R.d(1),R=null),t[0]==mt.ERROR_UNAUTHORIZED?$||($=ct(),$.c(),$.m(n,l)):$&&($.d(1),$=null),t[0]==mt.DUPLICATE?S||(S=ut(),S.c(),S.m(n,c)):S&&(S.d(1),S=null),t[0]==mt.NOT_FOUND?D||(D=dt(),D.c(),D.m(n,f)):D&&(D.d(1),D=null),t[0]==mt.PRIVATEUUID_MISSING?y||(y=pt(),y.c(),y.m(n,null)):y&&(y.d(1),y=null)},i:t,o:t,d(t){t&&p(n),g&&g.d(),U&&U.d(),b&&b.d(),R&&R.d(),$&&$.d(),S&&S.d(),D&&D.d(),y&&y.d()}}}const mt={IDLE:Symbol("idle"),WORKING:Symbol("working"),SUCCESS:Symbol("success"),NOT_FOUND:Symbol("error-404"),ERROR_INVALID:Symbol("error-invalid"),ERROR_UNAUTHORIZED:Symbol("error-unauthorized"),DUPLICATE:Symbol("duplicate"),PRIVATEUUID_MISSING:Symbol("private-uuid-missing")};function ht(t,e,n){let{status:s}=e;return t.$$set=t=>{"status"in t&&n(0,s=t.status)},[s]}class vt extends j{constructor(t){super(),M(this,t,ht,ft,i,{status:0})}}const gt=(t,e=!1)=>{const n=Math.floor(t/60/24/365),s=Math.floor(t/60/24)%365,o=Math.floor(t/60)%24;let i="";return i+=""+(n>0?n+(e?" years ":"y "):""),i+=""+(s>0?s+(e?" days ":"d "):""),i+=""+(o>0?o+(e?" hours ":"h "):""),0==n&&(i+=`${(t%60).toFixed(1)}${e?" minutes ":"m "}`),i.trim()},It=t=>/^[a-f0-9]{64}/.test(t),Ut=t=>/^([a-f0-9]{64}|[a-f0-9]{8}\-[a-f0-9]{4}\-[a-f0-9]{4}\-[a-f0-9]{4}\-[a-f0-9]{12})/.test(t);function bt(t){let e,n,s,o,i,r,a,l,c,f,g,U,R,$,D,y,O,w,C,N,x,_,k=t[2].toLocaleString()+"",E=gt(t[1],!0)+"",A=t[4].toLocaleString()+"",G=!0===t[3]&&Rt();return{c(){e=h("Hello "),G&&G.c(),n=v(),s=h(t[6]),o=m("br"),i=h("\n    You have saved people from "),r=h(k),a=h(" segments."),l=m("br"),c=h("\n    You have saved people "),f=h(E),g=h(" of their lives."),U=m("br"),R=h("\n    You submitted "),$=h(A),D=h(" segments!"),y=m("br"),O=h("\n    There is currently "),w=m("b"),C=h(t[5]),N=h(" warnings for your UserID ("),x=h(t[7]),_=h(")"),I(w,"class","svelte-xaelew"),S(w,"hasWarnings",t[5]>0)},m(t,p){d(t,e,p),G&&G.m(t,p),d(t,n,p),d(t,s,p),d(t,o,p),d(t,i,p),d(t,r,p),d(t,a,p),d(t,l,p),d(t,c,p),d(t,f,p),d(t,g,p),d(t,U,p),d(t,R,p),d(t,$,p),d(t,D,p),d(t,y,p),d(t,O,p),d(t,w,p),u(w,C),d(t,N,p),d(t,x,p),d(t,_,p)},p(t,e){!0===t[3]?G||(G=Rt(),G.c(),G.m(n.parentNode,n)):G&&(G.d(1),G=null),64&e&&b(s,t[6]),4&e&&k!==(k=t[2].toLocaleString()+"")&&b(r,k),2&e&&E!==(E=gt(t[1],!0)+"")&&b(f,E),16&e&&A!==(A=t[4].toLocaleString()+"")&&b($,A),32&e&&b(C,t[5]),32&e&&S(w,"hasWarnings",t[5]>0),128&e&&b(x,t[7])},d(t){t&&p(e),G&&G.d(t),t&&p(n),t&&p(s),t&&p(o),t&&p(i),t&&p(r),t&&p(a),t&&p(l),t&&p(c),t&&p(f),t&&p(g),t&&p(U),t&&p(R),t&&p($),t&&p(D),t&&p(y),t&&p(O),t&&p(w),t&&p(N),t&&p(x),t&&p(_)}}}function Rt(t){let e;return{c(){e=h("[VIP]")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function $t(t){let e;return{c(){e=h("Loading...")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function St(t){let e;return{c(){e=h("(Private UUID required)")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function Dt(e){let n,s,o,i=e[0]==mt.SUCCESS&&bt(e),r=e[0]==mt.WORKING&&$t(),a=e[0]==mt.PRIVATEUUID_MISSING&&St();return{c(){n=m("span"),i&&i.c(),s=v(),r&&r.c(),o=v(),a&&a.c()},m(t,e){d(t,n,e),i&&i.m(n,null),u(n,s),r&&r.m(n,null),u(n,o),a&&a.m(n,null)},p(t,[e]){t[0]==mt.SUCCESS?i?i.p(t,e):(i=bt(t),i.c(),i.m(n,s)):i&&(i.d(1),i=null),t[0]==mt.WORKING?r||(r=$t(),r.c(),r.m(n,o)):r&&(r.d(1),r=null),t[0]==mt.PRIVATEUUID_MISSING?a||(a=St(),a.c(),a.m(n,null)):a&&(a.d(1),a=null)},i:t,o:t,d(t){t&&p(n),i&&i.d(),r&&r.d(),a&&a.d()}}}function yt(t,e,n){let s,o;l(t,J,t=>n(9,s=t)),l(t,F,t=>n(10,o=t));let{privateUUID:i=""}=e,r=mt.IDLE,a=0,u=0,d=!1,p=0,f=0,m=0,h="";return O((async function(){if(""===i)return void n(0,r=mt.PRIVATEUUID_MISSING);n(0,r=mt.WORKING);let t={};if("userInfo_time"in s&&s.userInfo_time+6e5>Date.now())t=s.userInfo;else{const e=await fetch(`${o.sponsorBlockApi}/api/getUserInfo?userID=${i}`).then(t=>t.json());c(J,s.userInfo_time=Date.now(),s),t={minutesSaved:e.minutesSaved,viewCount:e.viewCount,vip:e.vip,segmentCount:e.segmentCount,warnings:e.warnings,userName:e.userName,userID:e.userID},c(J,s.userInfo=t,s)}n(2,u=t.viewCount),n(1,a=t.minutesSaved),n(3,d=t.vip),n(4,p=t.segmentCount),n(5,f=t.warnings),n(6,m=t.userName),n(7,h=t.userID),n(0,r=mt.SUCCESS)})),t.$$set=t=>{"privateUUID"in t&&n(8,i=t.privateUUID)},[r,a,u,d,p,f,m,h,i]}class Ot extends j{constructor(t){super(),M(this,t,yt,Dt,i,{privateUUID:8})}}function wt(t){let e;return{c(){e=h("(Set your private UUID!)")},m(t,n){d(t,e,n)},d(t){t&&p(e)}}}function Ct(t){let e,n,o,i,r,a,l,c,f,U,$,S,D,y,O,w,C,N,x,_,k,E,A,G,L,W,K,P,z,M,j,Z,Y,F,J,Q,X,tt,et,nt,st=t[1]?"Saved!":"Save",ot=t[3]?"Saved!":"Save",it=""===t[4].privateUUID&&wt();return X=new Ot({props:{privateUUID:t[4].privateUUID}}),{c(){var t,s,u;e=m("main"),n=m("div"),o=m("details"),i=m("summary"),r=h("Settings "),it&&it.c(),a=v(),l=m("fieldset"),c=m("legend"),c.textContent="Private userID:",f=v(),U=m("div"),U.innerHTML="<p>Your private userID will only be stored in your Browser and only\n            send to the SponsorBlock API.</p>",$=v(),S=m("div"),D=m("label"),D.textContent="Your private userID:",y=m("br"),O=v(),w=m("input"),N=v(),x=m("div"),_=m("button"),k=h(st),E=v(),A=m("fieldset"),G=m("legend"),G.textContent="API Server:",L=v(),W=m("div"),K=m("label"),K.textContent="SponsorBlock Server:",P=m("br"),z=v(),M=m("input"),j=v(),Z=m("div"),Y=m("button"),F=h(ot),J=v(),Q=m("p"),V(X.$$.fragment),I(i,"class","svelte-12iolxf"),I(U,"class","info"),I(D,"for","privateUUID"),I(w,"id","privateUUID"),I(w,"type","text"),I(w,"size","36"),I(w,"pattern",C="^[A-Za-z0-9]36$"),I(w,"spellcheck","false"),I(w,"placeholder","Private UUID"),I(w,"class","svelte-12iolxf"),I(x,"class","actions"),I(l,"class","svelte-12iolxf"),I(K,"for","serveraddr"),I(M,"type","url"),I(M,"id","serveraddr"),I(M,"class","serveraddr svelte-12iolxf"),I(M,"placeholder","https://..."),I(Z,"class","actions"),I(A,"class","svelte-12iolxf"),I(o,"class","svelte-12iolxf"),t="width",s="100%",Q.style.setProperty(t,s,u?"important":""),I(n,"class","container")},m(s,p){d(s,e,p),u(e,n),u(n,o),u(o,i),u(i,r),it&&it.m(i,null),u(o,a),u(o,l),u(l,c),u(l,f),u(l,U),u(l,$),u(l,S),u(S,D),u(S,y),u(S,O),u(S,w),R(w,t[0]),u(S,N),u(S,x),u(x,_),u(_,k),u(o,E),u(o,A),u(A,G),u(A,L),u(A,W),u(W,K),u(W,P),u(W,z),u(W,M),R(M,t[2]),u(W,j),u(W,Z),u(Z,Y),u(Y,F),u(n,J),u(n,Q),B(X,Q,null),tt=!0,et||(nt=[g(w,"input",t[7]),g(_,"click",t[5]),g(M,"input",t[8]),g(Y,"click",t[6])],et=!0)},p(t,[e]){""===t[4].privateUUID?it||(it=wt(),it.c(),it.m(i,null)):it&&(it.d(1),it=null),1&e&&w.value!==t[0]&&R(w,t[0]),(!tt||2&e)&&st!==(st=t[1]?"Saved!":"Save")&&b(k,st),4&e&&R(M,t[2]),(!tt||8&e)&&ot!==(ot=t[3]?"Saved!":"Save")&&b(F,ot);const n={};16&e&&(n.privateUUID=t[4].privateUUID),X.$set(n)},i(t){tt||(T(X.$$.fragment,t),tt=!0)},o(t){q(X.$$.fragment,t),tt=!1},d(t){t&&p(e),it&&it.d(),H(X),et=!1,s(nt)}}}function Nt(t,e,n){let s,o;l(t,F,t=>n(4,s=t)),l(t,J,t=>n(9,o=t));let i=s.privateUUID,r=!1;let a=s.sponsorBlockApi,u=!1;return[i,r,a,u,s,function(t){s.privateUUID!=i&&c(J,o={}),c(F,s.privateUUID=i,s),n(1,r=!0),setTimeout(t=>{n(1,r=!1)},3e3)},function(t){c(F,s.sponsorBlockApi=a,s),n(3,u=!0),setTimeout(t=>{n(3,u=!1)},3e3)},function(){i=this.value,n(0,i)},function(){a=this.value,n(2,a)}]}class xt extends j{constructor(t){super(),M(this,t,Nt,Ct,i,{})}}const _t=["sponsor","selfpromo","interaction","intro","outro","preview","music_offtopic"],kt=["Sponsor","Unpaid/Self Promotion","Interaction Reminder (Subscribe)","Intermission/Intro Animation","Endcards/Credits","Preview/Recap","Music: Non-Music Section"];function Et(t,e,n){const s=t.slice();return s[14]=e[n],s[16]=n,s}function At(t){let e,n,s,o,i,r,a,l,c,f,U,b=kt[t[16]]+"";return{c(){e=m("div"),n=m("input"),i=v(),r=m("label"),a=h(b),c=v(),I(n,"id",s="category_"+t[14]),I(n,"type","checkbox"),n.__value=o=t[14],n.value=n.__value,t[10][0].push(n),I(r,"for",l="category_"+t[14]),I(e,"class","category-option svelte-1szpcmt")},m(s,o){d(s,e,o),u(e,n),n.checked=~t[2].indexOf(n.__value),u(e,i),u(e,r),u(r,a),u(e,c),f||(U=g(n,"change",t[9]),f=!0)},p(t,e){4&e&&(n.checked=~t[2].indexOf(n.__value))},d(s){s&&p(e),t[10][0].splice(t[10][0].indexOf(n),1),f=!1,U()}}}function Gt(t){let e,n,o,i,r,a,l,c,U,b,$,D,y,O,w,C,N,x,_,k,E,A,G,L,W,K,P,z,M,j,Z,Y,F,J,Q,X,tt,et=_t,nt=[];for(let e=0;e<et.length;e+=1)nt[e]=At(Et(t,et,e));return J=new vt({props:{status:t[4]}}),{c(){e=m("main"),n=m("div"),o=m("p"),o.textContent="Only users with VIP status can do this!",i=v(),r=m("fieldset"),a=m("legend"),a.textContent="Shadow ban user:",l=v(),c=m("div"),U=m("div"),b=m("label"),b.textContent="User UUID:",$=m("br"),D=v(),y=m("input"),O=v(),w=m("div"),C=m("input"),N=v(),x=m("label"),x.textContent="Hide/Restore old submissions",_=v(),k=m("div"),E=m("div"),E.textContent="Categories to hide:",A=v();for(let t=0;t<nt.length;t+=1)nt[t].c();L=v(),W=m("div"),K=m("button"),P=h("Unban"),M=v(),j=m("button"),Z=h("Ban"),F=v(),V(J.$$.fragment),I(o,"class","viprequired"),I(b,"for","uuid"),I(y,"id","uuid"),I(y,"type","text"),I(y,"size","64"),I(y,"placeholder","Users UUID..."),I(C,"id","hideoldsubmissions"),I(C,"type","checkbox"),I(x,"for","hideoldsubmissions"),I(k,"class","categories-to-hide svelte-1szpcmt"),k.hidden=G=!t[1],I(K,"type","button"),K.disabled=z=!t[3],I(j,"type","button"),j.disabled=Y=!t[3],I(W,"class","actions"),I(c,"class","form svelte-1szpcmt"),S(c,"working",t[4]===mt.WORKING),I(n,"class","container")},m(s,p){d(s,e,p),u(e,n),u(n,o),u(n,i),u(n,r),u(r,a),u(r,l),u(r,c),u(c,U),u(U,b),u(U,$),u(U,D),u(U,y),R(y,t[0]),u(c,O),u(c,w),u(w,C),C.checked=t[1],u(w,N),u(w,x),u(c,_),u(c,k),u(k,E),u(k,A);for(let t=0;t<nt.length;t+=1)nt[t].m(k,null);u(c,L),u(c,W),u(W,K),u(K,P),u(W,M),u(W,j),u(j,Z),u(n,F),B(J,n,null),Q=!0,X||(tt=[g(y,"input",t[6]),g(y,"input",t[7]),g(C,"change",t[8]),g(K,"click",t[11]),g(j,"click",t[12])],X=!0)},p(t,[e]){if(1&e&&y.value!==t[0]&&R(y,t[0]),2&e&&(C.checked=t[1]),4&e){let n;for(et=_t,n=0;n<et.length;n+=1){const s=Et(t,et,n);nt[n]?nt[n].p(s,e):(nt[n]=At(s),nt[n].c(),nt[n].m(k,null))}for(;n<nt.length;n+=1)nt[n].d(1);nt.length=et.length}(!Q||2&e&&G!==(G=!t[1]))&&(k.hidden=G),(!Q||8&e&&z!==(z=!t[3]))&&(K.disabled=z),(!Q||8&e&&Y!==(Y=!t[3]))&&(j.disabled=Y),16&e&&S(c,"working",t[4]===mt.WORKING);const n={};16&e&&(n.status=t[4]),J.$set(n)},i(t){Q||(T(J.$$.fragment,t),Q=!0)},o(t){q(J.$$.fragment,t),Q=!1},d(t){t&&p(e),f(nt,t),H(J),X=!1,s(tt)}}}function Lt(t,e,n){let s;l(t,F,t=>n(13,s=t));let o="",i=!0,r=[..._t],a=!1,c=mt.IDLE;async function u(t="ban"){n(4,c=mt.WORKING);const e=new URLSearchParams;e.set("adminUserID",s.privateUUID),e.set("userID",o),e.set("enabled",("ban"===t).toString()),e.set("unHideOldSubmissions",i.toString()),e.set("categories",JSON.stringify(r));const a=await fetch(`${s.sponsorBlockApi}/api/shadowBanUser?${e}`,{method:"post"}).then((function(t){return t.status}));200===a&&n(4,c=mt.SUCCESS),400===a&&n(4,c=mt.ERROR_INVALID),403===a&&n(4,c=mt.ERROR_UNAUTHORIZED)}const d=[[]];return[o,i,r,a,c,u,function(){o=this.value,n(0,o)},t=>{n(3,a=It(o))},function(){i=this.checked,n(1,i)},function(){r=U(d[0],this.__value,this.checked),n(2,r)},d,t=>{u("unban")},t=>{u("ban")}]}class Wt extends j{constructor(t){super(),M(this,t,Lt,Gt,i,{})}}function Kt(t){let e,n,s,o,i,r,a,l,c,f,U,R,$,S,D,y,O,w,C,N,x,_,k,E,A,G,L,W,K,P,T,q,V,B=t[1].apiUsers.toLocaleString()+"",H=t[1].viewCount.toLocaleString()+"",z=t[1].totalSubmissions.toLocaleString()+"",M=gt(t[1].minutesSaved,!0)+"";return{c(){e=m("table"),n=m("tbody"),s=m("tr"),o=m("th"),o.textContent="API Users:",i=v(),r=m("td"),a=h(B),l=v(),c=m("tr"),f=m("th"),f.textContent="Skip Count:",U=v(),R=m("td"),$=h(H),S=h(" skips"),D=v(),y=m("tr"),O=m("th"),O.textContent="Submissions:",w=v(),C=m("td"),N=h(z),x=v(),_=m("tr"),k=m("th"),k.textContent="Time Saved:",E=v(),A=m("td"),G=h(M),L=v(),W=m("div"),K=m("button"),P=h("Refresh"),I(o,"class","svelte-aon4oy"),I(r,"class","svelte-aon4oy"),I(f,"class","svelte-aon4oy"),I(R,"class","svelte-aon4oy"),I(O,"class","svelte-aon4oy"),I(C,"class","svelte-aon4oy"),I(k,"class","svelte-aon4oy"),I(A,"class","svelte-aon4oy"),I(e,"class","stats-table svelte-aon4oy"),K.disabled=T=t[0]===mt.WORKING},m(p,m){d(p,e,m),u(e,n),u(n,s),u(s,o),u(s,i),u(s,r),u(r,a),u(n,l),u(n,c),u(c,f),u(c,U),u(c,R),u(R,$),u(R,S),u(n,D),u(n,y),u(y,O),u(y,w),u(y,C),u(C,N),u(n,x),u(n,_),u(_,k),u(_,E),u(_,A),u(A,G),d(p,L,m),d(p,W,m),u(W,K),u(K,P),q||(V=g(K,"click",t[3]),q=!0)},p(t,e){2&e&&B!==(B=t[1].apiUsers.toLocaleString()+"")&&b(a,B),2&e&&H!==(H=t[1].viewCount.toLocaleString()+"")&&b($,H),2&e&&z!==(z=t[1].totalSubmissions.toLocaleString()+"")&&b(N,z),2&e&&M!==(M=gt(t[1].minutesSaved,!0)+"")&&b(G,M),1&e&&T!==(T=t[0]===mt.WORKING)&&(K.disabled=T)},d(t){t&&p(e),t&&p(L),t&&p(W),q=!1,V()}}}function Pt(t){let e,n,s,o,i,r=t[1]&&Kt(t);return o=new vt({props:{status:t[0]}}),{c(){e=m("main"),n=m("div"),r&&r.c(),s=v(),V(o.$$.fragment),I(n,"class","container")},m(t,a){d(t,e,a),u(e,n),r&&r.m(n,null),u(n,s),B(o,n,null),i=!0},p(t,[e]){t[1]?r?r.p(t,e):(r=Kt(t),r.c(),r.m(n,s)):r&&(r.d(1),r=null);const i={};1&e&&(i.status=t[0]),o.$set(i)},i(t){i||(T(o.$$.fragment,t),i=!0)},o(t){q(o.$$.fragment,t),i=!1},d(t){t&&p(e),r&&r.d(),H(o)}}}function Tt(t,e,n){let s,o;l(t,F,t=>n(4,s=t)),l(t,J,t=>n(5,o=t));let i=mt.IDLE,r={apiUsers:0,userCount:0,viewCount:0,totalSubmissions:0,minutesSaved:0};async function a(){n(1,r=await async function(){n(0,i=mt.WORKING);const t=await fetch(s.sponsorBlockApi+"/api/getTotalStats").then(t=>t.json());return n(0,i=mt.SUCCESS),t}()),c(J,o.totalstats=r,o),c(J,o.totalstats_time=Date.now(),o)}O(async t=>{"totalstats"in o&&o.totalstats_time+6e5>Date.now()?n(1,r=o.totalstats):await a()});return[i,r,a,async t=>{await a()}]}class qt extends j{constructor(t){super(),M(this,t,Tt,Pt,i,{})}}function Vt(t){let e,n,o,i,r,a,l,c,f,U,b,$,S,D,y,O,w,C,N,x,_,k,E,A,G,L,W,K,P,z;return W=new vt({props:{status:t[0]}}),{c(){e=m("main"),n=m("div"),o=m("fieldset"),i=m("legend"),i.textContent="Vote on segment",r=v(),a=m("div"),l=m("label"),l.textContent="Segment UUID:",c=m("br"),f=v(),U=m("input"),S=v(),D=m("div"),y=m("button"),O=h("Undo Vote"),C=v(),N=m("button"),x=h("Downvote"),k=v(),E=m("button"),A=h("Upvote"),L=v(),V(W.$$.fragment),I(l,"for","uuid"),I(U,"id","uuid"),I(U,"type","text"),I(U,"size","64"),I(U,"pattern",b="[a-f0-9]{64}"),I(U,"placeholder","Segment UUID ..."),U.disabled=$=t[0]===mt.WORKING,y.disabled=w=t[0]===mt.WORKING||!t[2]||t[0]===mt.WORKING,N.disabled=_=t[0]===mt.WORKING||!t[2]||t[0]===mt.WORKING,E.disabled=G=t[0]===mt.WORKING||!t[2]||t[0]===mt.WORKING,I(D,"class","actions"),I(n,"class","container")},m(s,p){d(s,e,p),u(e,n),u(n,o),u(o,i),u(o,r),u(o,a),u(a,l),u(a,c),u(a,f),u(a,U),R(U,t[1]),u(o,S),u(o,D),u(D,y),u(y,O),u(D,C),u(D,N),u(N,x),u(D,k),u(D,E),u(E,A),u(n,L),B(W,n,null),K=!0,P||(z=[g(U,"input",t[4]),g(U,"input",t[5]),g(y,"click",t[6]),g(N,"click",t[7]),g(E,"click",t[8])],P=!0)},p(t,[e]){(!K||1&e&&$!==($=t[0]===mt.WORKING))&&(U.disabled=$),2&e&&U.value!==t[1]&&R(U,t[1]),(!K||5&e&&w!==(w=t[0]===mt.WORKING||!t[2]||t[0]===mt.WORKING))&&(y.disabled=w),(!K||5&e&&_!==(_=t[0]===mt.WORKING||!t[2]||t[0]===mt.WORKING))&&(N.disabled=_),(!K||5&e&&G!==(G=t[0]===mt.WORKING||!t[2]||t[0]===mt.WORKING))&&(E.disabled=G);const n={};1&e&&(n.status=t[0]),W.$set(n)},i(t){K||(T(W.$$.fragment,t),K=!0)},o(t){q(W.$$.fragment,t),K=!1},d(t){t&&p(e),H(W),P=!1,s(z)}}}function Bt(t,e,n){let s;l(t,F,t=>n(9,s=t));let o=mt.IDLE,i="",r=!1;async function a(t,e=0){n(0,o=mt.WORKING);const a=new URLSearchParams;a.set("UUID",t),a.set("userID",s.privateUUID),a.set("type",e);const l=await fetch(`${s.sponsorBlockApi}/api/voteOnSponsorTime?${a}`,{method:"POST"}).then(t=>t.status);200===l&&(n(0,o=mt.SUCCESS),n(1,i=""),n(2,r=!1)),400===l&&n(0,o=mt.INVALID),405===l&&n(0,o=mt.DUPLICATE)}return[o,i,r,a,function(){i=this.value,n(1,i)},t=>{n(2,r=Ut(i))},t=>{a(i,20)},t=>{a(i,0)},t=>{a(i,1)}]}class Ht extends j{constructor(t){super(),M(this,t,Bt,Vt,i,{})}}function zt(t,e,n){const s=t.slice();return s[10]=e[n],s[12]=n,s}function Mt(e){let n,s,o,i=kt[e[12]]+"";return{c(){n=m("option"),s=h(i),n.__value=o=e[10],n.value=n.__value},m(t,e){d(t,n,e),u(n,s)},p:t,d(t){t&&p(n)}}}function jt(t){let e,n,o,i,r,a,l,c,U,b,S,D,y,O,w,C,N,x,_,k,A,G,L,W,K,P,z,M,j,Z=_t,Y=[];for(let e=0;e<Z.length;e+=1)Y[e]=Mt(zt(t,Z,e));return P=new vt({props:{status:t[0]}}),{c(){e=m("main"),n=m("div"),o=m("fieldset"),i=m("legend"),i.textContent="Change segment category",r=v(),a=m("div"),l=m("label"),l.textContent="Segment UUID:",c=m("br"),U=v(),b=m("input"),y=v(),O=m("div"),w=m("label"),w.textContent="Category:",C=m("br"),N=v(),x=m("select"),_=m("option"),_.textContent="--- Select category ---";for(let t=0;t<Y.length;t+=1)Y[t].c();k=v(),A=m("div"),G=m("button"),L=h("Change\n          category"),K=v(),V(P.$$.fragment),I(l,"for","uuid"),I(b,"id","uuid"),I(b,"type","text"),I(b,"size","64"),I(b,"pattern",S="[a-f0-9]{64}"),I(b,"placeholder","Segment UUID ..."),b.disabled=D=t[0]===mt.WORKING,I(w,"for","category"),_.__value="",_.value=_.__value,I(x,"id","category"),void 0===t[3]&&E(()=>t[7].call(x)),G.disabled=W=t[0]===mt.WORKING||!t[2]||t[0]===mt.WORKING,I(A,"class","actions"),I(n,"class","container")},m(s,p){d(s,e,p),u(e,n),u(n,o),u(o,i),u(o,r),u(o,a),u(a,l),u(a,c),u(a,U),u(a,b),R(b,t[1]),u(o,y),u(o,O),u(O,w),u(O,C),u(O,N),u(O,x),u(x,_);for(let t=0;t<Y.length;t+=1)Y[t].m(x,null);$(x,t[3]),u(o,k),u(o,A),u(A,G),u(G,L),u(n,K),B(P,n,null),z=!0,M||(j=[g(b,"input",t[5]),g(b,"input",t[6]),g(x,"change",t[7]),g(G,"click",t[8])],M=!0)},p(t,[e]){if((!z||1&e&&D!==(D=t[0]===mt.WORKING))&&(b.disabled=D),2&e&&b.value!==t[1]&&R(b,t[1]),0&e){let n;for(Z=_t,n=0;n<Z.length;n+=1){const s=zt(t,Z,n);Y[n]?Y[n].p(s,e):(Y[n]=Mt(s),Y[n].c(),Y[n].m(x,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=Z.length}8&e&&$(x,t[3]),(!z||5&e&&W!==(W=t[0]===mt.WORKING||!t[2]||t[0]===mt.WORKING))&&(G.disabled=W);const n={};1&e&&(n.status=t[0]),P.$set(n)},i(t){z||(T(P.$$.fragment,t),z=!0)},o(t){q(P.$$.fragment,t),z=!1},d(t){t&&p(e),f(Y,t),H(P),M=!1,s(j)}}}function Zt(t,e,n){let s;l(t,F,t=>n(9,s=t));let o=mt.IDLE,i="",r=!1,a="";async function c(){n(0,o=mt.WORKING);const t=new URLSearchParams;t.set("UUID",i),t.set("userID",s.privateUUID),t.set("category",a);const e=await fetch(`${s.sponsorBlockApi}/api/voteOnSponsorTime?${t}`,{method:"POST"}).then(t=>t.status);200===e&&(n(0,o=mt.SUCCESS),n(1,i=""),n(2,r=!1),n(3,a="")),400===e&&n(0,o=mt.INVALID),405===e&&n(0,o=mt.DUPLICATE)}return[o,i,r,a,c,function(){i=this.value,n(1,i)},t=>{n(2,r=Ut(i))},function(){a=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),n(3,a)},t=>{c()}]}class Yt extends j{constructor(t){super(),M(this,t,Zt,jt,i,{})}}function Ft(t){let e,n,o,i,r,a,l,c,f,U,b,$,D,y,O,w,C,N,x,_,k,E,A,G,L,W,K;return G=new vt({props:{status:t[4]}}),{c(){e=m("main"),n=m("div"),o=m("div"),i=m("fieldset"),r=m("legend"),r.textContent="Your Username:",a=v(),l=m("input"),c=v(),f=m("button"),U=h("Save"),$=v(),D=m("fieldset"),y=m("legend"),y.innerHTML='Change Username: <span class="viprequired">(Admin Only)</span>',O=v(),w=m("input"),C=v(),N=m("input"),x=v(),_=m("button"),k=h("Update"),A=v(),V(G.$$.fragment),I(l,"type","text"),I(l,"placeholder","Username..."),f.disabled=b=0==t[0].length,I(i,"class","svelte-1j3zcny"),I(w,"type","text"),I(w,"placeholder","Target UUID..."),I(N,"type","text"),I(N,"placeholder","Username..."),_.disabled=E=!t[3]||0===t[1].length,I(D,"class","svelte-1j3zcny"),I(o,"class","form svelte-1j3zcny"),S(o,"working",t[4]===mt.WORKING),I(n,"class","container")},m(s,p){d(s,e,p),u(e,n),u(n,o),u(o,i),u(i,r),u(i,a),u(i,l),R(l,t[0]),u(i,c),u(i,f),u(f,U),u(o,$),u(o,D),u(D,y),u(D,O),u(D,w),R(w,t[2]),u(D,C),u(D,N),R(N,t[1]),u(D,x),u(D,_),u(_,k),u(n,A),B(G,n,null),L=!0,W||(K=[g(l,"input",t[8]),g(f,"click",t[9]),g(w,"input",t[10]),g(w,"input",t[11]),g(N,"input",t[12]),g(_,"click",t[13])],W=!0)},p(t,[e]){1&e&&l.value!==t[0]&&R(l,t[0]),(!L||1&e&&b!==(b=0==t[0].length))&&(f.disabled=b),4&e&&w.value!==t[2]&&R(w,t[2]),2&e&&N.value!==t[1]&&R(N,t[1]),(!L||10&e&&E!==(E=!t[3]||0===t[1].length))&&(_.disabled=E),16&e&&S(o,"working",t[4]===mt.WORKING);const n={};16&e&&(n.status=t[4]),G.$set(n)},i(t){L||(T(G.$$.fragment,t),L=!0)},o(t){q(G.$$.fragment,t),L=!1},d(t){t&&p(e),H(G),W=!1,s(K)}}}function Jt(t,e,n){let s,o;l(t,F,t=>n(5,s=t)),l(t,J,t=>n(14,o=t));let i="",r="",a="",u=!1,d=mt.IDLE;async function p(t,e,o){n(4,d=mt.WORKING);const i=new URLSearchParams;i.set("userID",t),i.set("username",e),o&&i.set("adminUserID",o);const r=await fetch(`${s.sponsorBlockApi}/api/setUsername?${i}`,{method:"POST"});200===r.status&&n(4,d=mt.SUCCESS),400===r.status&&n(4,d=mt.ERROR_INVALID),403===r.status&&n(4,d=mt.ERROR_UNAUTHORIZED)}async function f(){n(0,i=await async function(){n(4,d=mt.WORKING);const t=await fetch(`${s.sponsorBlockApi}/api/getUsername?userID=${s.privateUUID}`);if(200===t.status){const e=await t.json();return n(4,d=mt.SUCCESS),e.userName}return 400===t&&n(4,d=mt.ERROR_INVALID),403===t&&n(4,d=mt.ERROR_UNAUTHORIZED),""}()),c(J,o.username=i,o),c(J,o.username_time=Date.now(),o)}O(async t=>{"username"in o&&o.username_time+6e5>Date.now()?n(0,i=o.username):await f()});return[i,r,a,u,d,s,p,f,function(){i=this.value,n(0,i)},async t=>{await p(s.privateUUID,i),await f()},function(){a=this.value,n(2,a)},t=>{n(3,u=It(a))},function(){r=this.value,n(1,r)},t=>{p(a,r,s.privateUUID)}]}class Qt extends j{constructor(t){super(),M(this,t,Jt,Ft,i,{})}}function Xt(t){let e,n,o,i,r,a,l,c,f,U,b,$,D,y,O,w,C,N,x,_,k,E,A,G,L,W,K;return G=new vt({props:{status:t[2]}}),{c(){e=m("main"),n=m("div"),o=m("p"),o.textContent="Only admins can do this!",i=v(),r=m("fieldset"),a=m("legend"),a.textContent="Add/Remove VIP",l=v(),c=m("div"),f=m("div"),U=m("label"),U.textContent="User UUID:",b=m("br"),$=v(),D=m("input"),y=v(),O=m("div"),w=m("button"),C=h("Remove"),x=v(),_=m("button"),k=h("Add"),A=v(),V(G.$$.fragment),I(o,"class","viprequired"),I(U,"for","uuid"),I(D,"id","uuid"),I(D,"type","text"),I(D,"size","64"),I(D,"placeholder","Users UUID..."),w.disabled=N=!t[1],_.disabled=E=!t[1],I(O,"class","actions"),I(c,"class","form svelte-1izyxq"),S(c,"working",t[2]===mt.WORKING),I(n,"class","container")},m(s,p){d(s,e,p),u(e,n),u(n,o),u(n,i),u(n,r),u(r,a),u(r,l),u(r,c),u(c,f),u(f,U),u(f,b),u(f,$),u(f,D),R(D,t[0]),u(c,y),u(c,O),u(O,w),u(w,C),u(O,x),u(O,_),u(_,k),u(n,A),B(G,n,null),L=!0,W||(K=[g(D,"input",t[5]),g(D,"input",t[6]),g(w,"click",t[4]),g(_,"click",t[3])],W=!0)},p(t,[e]){1&e&&D.value!==t[0]&&R(D,t[0]),(!L||2&e&&N!==(N=!t[1]))&&(w.disabled=N),(!L||2&e&&E!==(E=!t[1]))&&(_.disabled=E),4&e&&S(c,"working",t[2]===mt.WORKING);const n={};4&e&&(n.status=t[2]),G.$set(n)},i(t){L||(T(G.$$.fragment,t),L=!0)},o(t){q(G.$$.fragment,t),L=!1},d(t){t&&p(e),H(G),W=!1,s(K)}}}function te(t,e,n){let s;l(t,F,t=>n(7,s=t));let o="",i=!1,r=mt.IDLE;async function a(t="add"){n(2,r=mt.WORKING);const e=new URLSearchParams;e.set("adminUserID",s.privateUUID),e.set("userID",o),e.set("enabled",("add"===t).toString());const i=await fetch(`${s.sponsorBlockApi}/api/addUserAsVIP?${e}`,{method:"post"}).then((function(t){return t.status}));200===i&&n(2,r=mt.SUCCESS),400===i&&n(2,r=mt.ERROR_INVALID),403===i&&n(2,r=mt.ERROR_UNAUTHORIZED)}return[o,i,r,function(){a("add")},function(){a("remove")},function(){o=this.value,n(0,o)},t=>{n(1,i=It(o))}]}class ee extends j{constructor(t){super(),M(this,t,te,Xt,i,{})}}function ne(t,e,n){const s=t.slice();return s[14]=e[n],s[16]=n,s}function se(t){let e,n,s,o,i,r,a,l,c,f,U,b=kt[t[16]]+"";return{c(){e=m("div"),n=m("input"),i=v(),r=m("label"),a=h(b),c=v(),I(n,"id",s="category_"+t[14]),I(n,"type","checkbox"),n.__value=o=t[14],n.value=n.__value,t[9][0].push(n),I(r,"for",l="category_"+t[14]),I(e,"class","category-option svelte-189x8jq")},m(s,o){d(s,e,o),u(e,n),n.checked=~t[0].indexOf(n.__value),u(e,i),u(e,r),u(r,a),u(e,c),f||(U=g(n,"change",t[8]),f=!0)},p(t,e){1&e&&(n.checked=~t[0].indexOf(n.__value))},d(s){s&&p(e),t[9][0].splice(t[9][0].indexOf(n),1),f=!1,U()}}}function oe(t){let e,n,o,i,r,a,l,c,U,b,$,D,y,O,w,C,N,x,_,k,E,A,G,L,W,K,P,z,M,j,Z,Y,F,J=_t,Q=[];for(let e=0;e<J.length;e+=1)Q[e]=se(ne(t,J,e));return j=new vt({props:{status:t[3]}}),{c(){e=m("main"),n=m("div"),o=m("p"),o.textContent="Only users with VIP status can do this!",i=v(),r=m("fieldset"),a=m("legend"),a.textContent="Lock categories",l=v(),c=m("div"),U=m("div"),b=m("label"),b.textContent="VideoID:",$=m("br"),D=v(),y=m("input"),O=v(),w=m("div"),C=m("div"),C.textContent="Categories:",N=v();for(let t=0;t<Q.length;t+=1)Q[t].c();x=v(),_=m("div"),k=m("button"),k.textContent="Check all",E=v(),A=m("button"),G=h("Unlock"),W=v(),K=m("button"),P=h("Lock"),M=v(),V(j.$$.fragment),I(o,"class","viprequired"),I(b,"for","videoid"),I(y,"id","videoid"),I(y,"type","text"),I(y,"placeholder","VideoID or URL..."),A.disabled=L=!t[2]||0===t[0].length||t[3]===mt.WORKING,K.disabled=z=!t[2]||0===t[0].length||t[3]===mt.WORKING,I(_,"class","actions"),I(c,"class","form svelte-189x8jq"),S(c,"working",t[3]===mt.WORKING),I(n,"class","container")},m(s,p){d(s,e,p),u(e,n),u(n,o),u(n,i),u(n,r),u(r,a),u(r,l),u(r,c),u(c,U),u(U,b),u(U,$),u(U,D),u(U,y),R(y,t[1]),u(c,O),u(c,w),u(w,C),u(w,N);for(let t=0;t<Q.length;t+=1)Q[t].m(w,null);u(c,x),u(c,_),u(_,k),u(_,E),u(_,A),u(A,G),u(_,W),u(_,K),u(K,P),u(n,M),B(j,n,null),Z=!0,Y||(F=[g(y,"input",t[7]),g(y,"input",t[4]),g(k,"click",t[6]),g(A,"click",t[10]),g(K,"click",t[11])],Y=!0)},p(t,[e]){if(2&e&&y.value!==t[1]&&R(y,t[1]),1&e){let n;for(J=_t,n=0;n<J.length;n+=1){const s=ne(t,J,n);Q[n]?Q[n].p(s,e):(Q[n]=se(s),Q[n].c(),Q[n].m(w,null))}for(;n<Q.length;n+=1)Q[n].d(1);Q.length=J.length}(!Z||13&e&&L!==(L=!t[2]||0===t[0].length||t[3]===mt.WORKING))&&(A.disabled=L),(!Z||13&e&&z!==(z=!t[2]||0===t[0].length||t[3]===mt.WORKING))&&(K.disabled=z),8&e&&S(c,"working",t[3]===mt.WORKING);const n={};8&e&&(n.status=t[3]),j.$set(n)},i(t){Z||(T(j.$$.fragment,t),Z=!0)},o(t){q(j.$$.fragment,t),Z=!1},d(t){t&&p(e),f(Q,t),H(j),Y=!1,s(F)}}}function ie(t,e,n){let s;l(t,F,t=>n(12,s=t));const o=new RegExp("^[0-9A-Za-z_-]{10}[048AEIMQUYcgkosw]$");let i=[],r="",a=!1,c=mt.IDLE;async function u(t=!0){n(3,c=mt.WORKING);const e={};e.videoID=r,e.userID=s.privateUUID,e.categories=i;const o=await fetch(s.sponsorBlockApi+"/api/lockCategories",{method:t?"post":"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.status}));200===o&&(n(3,c=mt.SUCCESS),n(1,r=""),n(0,i=[])),400===o&&n(3,c=mt.ERROR_INVALID),403===o&&n(3,c=mt.ERROR_UNAUTHORIZED)}const d=[[]];return[i,r,a,c,function(){let t=!1,e=r;if(e.includes("http")){const t=new URL(e);if(t.searchParams.has("v")&&(e=t.searchParams.get("v")),"youtu.be"===t.host&&(e=t.pathname.substring(1)),"sb.ltn.fi"===t.host)if(t.pathname.includes("/video/")){const n=t.pathname.split("/"),s=n.indexOf("video"),o=s+1;-1!==s&&n.length-1>=o&&(e=n[o])}else t.searchParams.has("videoid")&&(e=t.searchParams.get("videoid"))}o.test(e)&&(t=!0,n(1,r=e)),n(2,a=t)},u,function(){0===i.length?n(0,i=[..._t]):n(0,i=[])},function(){r=this.value,n(1,r)},function(){i=U(d[0],this.__value,this.checked),n(0,i)},d,t=>u(!1),t=>u(!0)]}class re extends j{constructor(t){super(),M(this,t,ie,oe,i,{})}}function ae(t){let e,n,o,i,r,a,l,c,f,U,b,$,D,y,O,w,C,N,x,_,k,E,A,G,L,W,K;return G=new vt({props:{status:t[2]}}),{c(){e=m("main"),n=m("div"),o=m("p"),o.textContent="Only users with VIP status can do this!",i=v(),r=m("fieldset"),a=m("legend"),a.textContent="Warn user:",l=v(),c=m("div"),f=m("div"),U=m("label"),U.textContent="User UUID:",b=m("br"),$=v(),D=m("input"),y=v(),O=m("div"),w=m("button"),C=h("Unwarn"),x=v(),_=m("button"),k=h("Warn"),A=v(),V(G.$$.fragment),I(o,"class","viprequired"),I(U,"for","uuid"),I(D,"id","uuid"),I(D,"type","text"),I(D,"size","64"),I(D,"placeholder","Users UUID..."),I(w,"type","button"),w.disabled=N=!t[1],I(_,"type","button"),_.disabled=E=!t[1],I(O,"class","actions"),I(c,"class","form svelte-1izyxq"),S(c,"working",t[2]===mt.WORKING),I(n,"class","container")},m(s,p){d(s,e,p),u(e,n),u(n,o),u(n,i),u(n,r),u(r,a),u(r,l),u(r,c),u(c,f),u(f,U),u(f,b),u(f,$),u(f,D),R(D,t[0]),u(c,y),u(c,O),u(O,w),u(w,C),u(O,x),u(O,_),u(_,k),u(n,A),B(G,n,null),L=!0,W||(K=[g(D,"input",t[4]),g(D,"input",t[5]),g(w,"click",t[6]),g(_,"click",t[7])],W=!0)},p(t,[e]){1&e&&D.value!==t[0]&&R(D,t[0]),(!L||2&e&&N!==(N=!t[1]))&&(w.disabled=N),(!L||2&e&&E!==(E=!t[1]))&&(_.disabled=E),4&e&&S(c,"working",t[2]===mt.WORKING);const n={};4&e&&(n.status=t[2]),G.$set(n)},i(t){L||(T(G.$$.fragment,t),L=!0)},o(t){q(G.$$.fragment,t),L=!1},d(t){t&&p(e),H(G),W=!1,s(K)}}}function le(t,e,n){let s;l(t,F,t=>n(8,s=t));let o="",i=!1,r=mt.IDLE;async function a(t="warn"){n(2,r=mt.WORKING);const e={};e.issuerUserID=s.privateUUID,e.userID=o,e.enabled="warn"===t;const i=await fetch(s.sponsorBlockApi+"/api/warnUser",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(t){return t.status}));200===i&&n(2,r=mt.SUCCESS),400===i&&n(2,r=mt.ERROR_INVALID),403===i&&n(2,r=mt.ERROR_UNAUTHORIZED),409===i&&n(2,r=mt.DUPLICATE)}return[o,i,r,a,function(){o=this.value,n(0,o)},t=>{n(1,i=It(o))},t=>{a("unwarn")},t=>{a("warn")}]}class ce extends j{constructor(t){super(),M(this,t,le,ae,i,{})}}function ue(t){let e,n,o,i,r,a,l,c,f,U,b,$,D,y,O,w,C,N,x,_,k,E,A;return _=new vt({props:{status:t[2]}}),{c(){e=m("main"),n=m("div"),o=m("p"),o.textContent="Only users with VIP status can do this!",i=v(),r=m("fieldset"),a=m("legend"),a.textContent="Clear cache",l=v(),c=m("div"),f=m("div"),U=m("label"),U.textContent="VideoID:",b=m("br"),$=v(),D=m("input"),y=v(),O=m("div"),w=m("button"),C=h("Clear"),x=v(),V(_.$$.fragment),I(o,"class","viprequired"),I(U,"for","videoid"),I(D,"id","videoid"),I(D,"type","text"),I(D,"placeholder","VideoID or URL..."),w.disabled=N=!t[1]||t[2]===mt.WORKING,I(O,"class","actions"),I(c,"class","form svelte-1izyxq"),S(c,"working",t[2]===mt.WORKING),I(n,"class","container")},m(s,p){d(s,e,p),u(e,n),u(n,o),u(n,i),u(n,r),u(r,a),u(r,l),u(r,c),u(c,f),u(f,U),u(f,b),u(f,$),u(f,D),R(D,t[0]),u(c,y),u(c,O),u(O,w),u(w,C),u(n,x),B(_,n,null),k=!0,E||(A=[g(D,"input",t[5]),g(D,"input",t[3]),g(w,"click",t[6])],E=!0)},p(t,[e]){1&e&&D.value!==t[0]&&R(D,t[0]),(!k||6&e&&N!==(N=!t[1]||t[2]===mt.WORKING))&&(w.disabled=N),4&e&&S(c,"working",t[2]===mt.WORKING);const n={};4&e&&(n.status=t[2]),_.$set(n)},i(t){k||(T(_.$$.fragment,t),k=!0)},o(t){q(_.$$.fragment,t),k=!1},d(t){t&&p(e),H(_),E=!1,s(A)}}}function de(t,e,n){let s;l(t,F,t=>n(7,s=t));const o=new RegExp("^[0-9A-Za-z_-]{10}[048AEIMQUYcgkosw]$");let i="",r=!1,a=mt.IDLE;async function c(t=!0){n(2,a=mt.WORKING);const e=new URLSearchParams;e.set("videoID",i),e.set("userID",s.privateUUID);const o=await fetch(`${s.sponsorBlockApi}/api/clearCache?${e}`,{method:"POST"}).then((function(t){return t.status}));200===o&&(n(2,a=mt.SUCCESS),n(0,i="")),400===o&&n(2,a=mt.ERROR_INVALID),403===o&&n(2,a=mt.ERROR_UNAUTHORIZED)}return[i,r,a,function(){let t=!1,e=i;if(e.includes("http")){const t=new URL(e);if(t.searchParams.has("v")&&(e=t.searchParams.get("v")),"youtu.be"===t.host&&(e=t.pathname.substring(1)),"sb.ltn.fi"===t.host)if(t.pathname.includes("/video/")){const n=t.pathname.split("/"),s=n.indexOf("video"),o=s+1;-1!==s&&n.length-1>=o&&(e=n[o])}else t.searchParams.has("videoid")&&(e=t.searchParams.get("videoid"))}o.test(e)&&(t=!0,n(0,i=e)),n(1,r=t)},c,function(){i=this.value,n(0,i)},t=>c()]}class pe extends j{constructor(t){super(),M(this,t,de,ue,i,{})}}function fe(t){let e,n,o,i,r,a,l;e=new X({}),o=new ot({props:{items:t[1],clickHandler:t[2],selected:t[0]}});var c=t[0];return c&&(r=new c({})),{c(){V(e.$$.fragment),n=v(),V(o.$$.fragment),i=v(),r&&V(r.$$.fragment),a=h("")},m(t,s){B(e,t,s),d(t,n,s),B(o,t,s),d(t,i,s),r&&B(r,t,s),d(t,a,s),l=!0},p(t,[e]){const n={};if(1&e&&(n.selected=t[0]),o.$set(n),c!==(c=t[0])){if(r){P={r:0,c:[],p:P};const t=r;q(t.$$.fragment,1,0,()=>{H(t,1)}),P.r||s(P.c),P=P.p}c?(r=new c({}),V(r.$$.fragment),T(r.$$.fragment,1),B(r,a.parentNode,a)):r=null}},i(t){l||(T(e.$$.fragment,t),T(o.$$.fragment,t),r&&T(r.$$.fragment,t),l=!0)},o(t){q(e.$$.fragment,t),q(o.$$.fragment,t),r&&q(r.$$.fragment,t),l=!1},d(t){H(e,t),t&&p(n),H(o,t),t&&p(i),t&&p(a),r&&H(r,t)}}}function me(t,e,n){const s=[{name:"Home",component:xt,uuidRequired:!1},{name:"Username",component:Qt,uuidRequired:!0},{name:"Stats",component:qt,uuidRequired:!1},{name:"Vote on segment",component:Ht,uuidRequired:!0},{name:"Category change",component:Yt,uuidRequired:!0},{name:"Lock categories",component:re,uuidRequired:!0},{name:"Add/Remove Shadow ban",component:Wt,uuidRequired:!0},{name:"Warn user",component:ce,uuidRequired:!0},{name:"Clear cache",component:pe,uuidRequired:!0},{name:"Add/Remove VIP",component:ee,uuidRequired:!0}];let o=s[0].component;return[o,s,function(t){const e=s.find(e=>e.name===t);e&&n(0,o=e.component)}]}return new class extends j{constructor(t){super(),M(this,t,me,fe,i,{})}}({target:document.body})}();
